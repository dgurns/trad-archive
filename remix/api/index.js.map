{
  "version": 3,
  "sources": ["<stdin>", "../node_modules/@remix-run/dev/compiler/shims/react.ts", "../app/entry.server.tsx", "/Users/dangurney/Desktop/Dev/trad-archive/remix/app/root.tsx", "../app/components/PlayerContextProvider.tsx", "../app/components/Player.tsx", "../app/hooks/usePlayerContext.ts", "../app/types/index.ts", "../app/components/AudioPlayer.tsx", "../app/components/Header.tsx", "../app/hooks/useCurrentUser.ts", "../app/fragments/index.ts", "../app/services/User.ts", "../app/services/Entity.ts", "../app/components/Modal.tsx", "../app/components/SearchEntities.tsx", "../app/components/LoadingCircle.tsx", "../app/components/CreateNewEntities.tsx", "../app/hooks/useRequireLogin.ts", "../app/components/CreatePersonForm.tsx", "../app/components/CreateInstrumentForm.tsx", "../app/components/CreatePlaceForm.tsx", "../app/components/CreateCollectionForm.tsx", "../app/components/Footer.tsx", "/Users/dangurney/Desktop/Dev/trad-archive/remix/app/routes/account/submissions/[id]/upload.tsx", "../app/components/Layout.tsx", "../app/components/RequireUser.tsx", "../app/components/Breadcrumb.tsx", "../app/components/LoadingBlock.tsx", "../app/components/FileUploader.tsx", "../app/services/DateTime.ts", "/Users/dangurney/Desktop/Dev/trad-archive/remix/app/routes/admin/verification-requests.tsx", "../app/components/RequireAdmin.tsx", "/Users/dangurney/Desktop/Dev/trad-archive/remix/app/routes/entities/audio-items/[slug].tsx", "../app/components/AudioItemCard.tsx", "../app/components/Tags.tsx", "../app/services/Tag.ts", "../app/components/AddTagButton.tsx", "../app/components/CreateTagForm.tsx", "../app/hooks/useTags.ts", "../app/components/SelectRelationship.tsx", "../app/components/TimestampInput.tsx", "../app/components/EditTagsButton.tsx", "../app/components/Menu.tsx", "../app/components/SaveItemButton.tsx", "../app/hooks/useAudioItem.ts", "../app/hooks/useSavedItemsForUser.ts", "../app/components/ViewCommentsButton.tsx", "../app/components/CreateCommentForm.tsx", "../app/hooks/useComments.ts", "../app/components/TimeMarkers.tsx", "../app/components/RequestTakedownButton.tsx", "../app/components/CreateTakedownRequestForm.tsx", "../app/components/AudioItemCompact.tsx", "../app/components/AudioItemTextOnly.tsx", "../app/components/AudioItem.tsx", "/Users/dangurney/Desktop/Dev/trad-archive/remix/app/routes/entities/audio-items/[slug]/about.tsx", "../app/routes/entities/audio-items/[slug].tsx", "/Users/dangurney/Desktop/Dev/trad-archive/remix/app/routes/entities/audio-items/[slug]/edit.tsx", "../app/components/EditAudioItemForm.tsx", "/Users/dangurney/Desktop/Dev/trad-archive/remix/app/routes/entities/audio-items/[slug]/tags.tsx", "/Users/dangurney/Desktop/Dev/trad-archive/remix/app/routes/entities/audio-items/random.tsx", "../app/hooks/useAudioItemRandom.ts", "/Users/dangurney/Desktop/Dev/trad-archive/remix/app/routes/entities/collections/[slug].tsx", "../app/components/ViewEntityAndAudioItems.tsx", "../app/hooks/useFilters.ts", "../app/components/Filters.tsx", "/Users/dangurney/Desktop/Dev/trad-archive/remix/app/routes/entities/collections/[slug]/about.tsx", "../app/routes/entities/collections/[slug].tsx", "/Users/dangurney/Desktop/Dev/trad-archive/remix/app/routes/entities/collections/[slug]/edit.tsx", "../app/components/EditCollectionForm.tsx", "/Users/dangurney/Desktop/Dev/trad-archive/remix/app/routes/entities/collections/[slug]/tags.tsx", "../app/components/TagWithRelationshipToObject.tsx", "/Users/dangurney/Desktop/Dev/trad-archive/remix/app/routes/entities/instruments/[slug].tsx", "/Users/dangurney/Desktop/Dev/trad-archive/remix/app/routes/entities/instruments/[slug]/about.tsx", "../app/routes/entities/instruments/[slug].tsx", "/Users/dangurney/Desktop/Dev/trad-archive/remix/app/routes/entities/instruments/[slug]/edit.tsx", "../app/components/EditInstrumentForm.tsx", "/Users/dangurney/Desktop/Dev/trad-archive/remix/app/routes/entities/instruments/[slug]/tags.tsx", "/Users/dangurney/Desktop/Dev/trad-archive/remix/app/routes/entities/audio-items/index.tsx", "/Users/dangurney/Desktop/Dev/trad-archive/remix/app/routes/entities/collections/index.tsx", "../app/hooks/useCollections.ts", "/Users/dangurney/Desktop/Dev/trad-archive/remix/app/routes/entities/instruments/index.tsx", "../app/hooks/useInstruments.ts", "/Users/dangurney/Desktop/Dev/trad-archive/remix/app/routes/account/submissions/index.tsx", "/Users/dangurney/Desktop/Dev/trad-archive/remix/app/routes/entities/audio-items/new.tsx", "../app/hooks/useAudioItems.ts", "../app/components/CreateAudioItemForm.tsx", "/Users/dangurney/Desktop/Dev/trad-archive/remix/app/routes/entities/collections/new.tsx", "/Users/dangurney/Desktop/Dev/trad-archive/remix/app/routes/entities/instruments/new.tsx", "/Users/dangurney/Desktop/Dev/trad-archive/remix/app/routes/account/submissions/new.tsx", "../app/components/CreateSubmissionForm.tsx", "../app/components/Checkbox.tsx", "/Users/dangurney/Desktop/Dev/trad-archive/remix/app/routes/admin/submissions/index.tsx", "/Users/dangurney/Desktop/Dev/trad-archive/remix/app/routes/admin/takedown-requests.tsx", "/Users/dangurney/Desktop/Dev/trad-archive/remix/app/routes/admin/submissions/[id].tsx", "/Users/dangurney/Desktop/Dev/trad-archive/remix/app/routes/entities/places/[slug].tsx", "/Users/dangurney/Desktop/Dev/trad-archive/remix/app/routes/entities/places/[slug]/about.tsx", "../app/routes/entities/places/[slug].tsx", "/Users/dangurney/Desktop/Dev/trad-archive/remix/app/routes/entities/places/[slug]/edit.tsx", "../app/components/EditPlaceForm.tsx", "/Users/dangurney/Desktop/Dev/trad-archive/remix/app/routes/entities/places/[slug]/tags.tsx", "/Users/dangurney/Desktop/Dev/trad-archive/remix/app/routes/entities/people/$slug.tsx", "../app/utils/db.server.ts", "/Users/dangurney/Desktop/Dev/trad-archive/remix/app/routes/entities/people/$slug/about.tsx", "/Users/dangurney/Desktop/Dev/trad-archive/remix/app/routes/entities/people/$slug/edit.tsx", "../app/components/EditPersonForm.tsx", "/Users/dangurney/Desktop/Dev/trad-archive/remix/app/routes/entities/people/$slug/tags.tsx", "/Users/dangurney/Desktop/Dev/trad-archive/remix/app/routes/entities/people/index.tsx", "../app/hooks/usePeople.ts", "/Users/dangurney/Desktop/Dev/trad-archive/remix/app/routes/entities/places/index.tsx", "../app/hooks/usePlaces.ts", "/Users/dangurney/Desktop/Dev/trad-archive/remix/app/routes/entities/tunes/[slug].tsx", "/Users/dangurney/Desktop/Dev/trad-archive/remix/app/routes/entities/tunes/[slug]/about.tsx", "../app/routes/entities/tunes/[slug].tsx", "/Users/dangurney/Desktop/Dev/trad-archive/remix/app/routes/entities/tunes/[slug]/tags.tsx", "/Users/dangurney/Desktop/Dev/trad-archive/remix/app/routes/entities/tunes/index.tsx", "../app/hooks/useTunes.ts", "/Users/dangurney/Desktop/Dev/trad-archive/remix/app/routes/entities/people/new.tsx", "/Users/dangurney/Desktop/Dev/trad-archive/remix/app/routes/entities/places/new.tsx", "/Users/dangurney/Desktop/Dev/trad-archive/remix/app/routes/account/verify.tsx", "../app/hooks/useVerificationRequestsForCurrentUser.ts", "/Users/dangurney/Desktop/Dev/trad-archive/remix/app/routes/account/index.tsx", "/Users/dangurney/Desktop/Dev/trad-archive/remix/app/routes/admin/index.tsx", "/Users/dangurney/Desktop/Dev/trad-archive/remix/app/routes/saved-items.tsx", "/Users/dangurney/Desktop/Dev/trad-archive/remix/app/routes/auto-login.tsx", "/Users/dangurney/Desktop/Dev/trad-archive/remix/app/routes/users/[id].tsx", "../app/hooks/useAudioItemsCreatedByUser.tsx", "/Users/dangurney/Desktop/Dev/trad-archive/remix/app/routes/logout.tsx", "/Users/dangurney/Desktop/Dev/trad-archive/remix/app/routes/signup.tsx", "/Users/dangurney/Desktop/Dev/trad-archive/remix/app/routes/index.tsx", "../app/services/LocalStorage.ts", "../app/components/ProjectIntro.tsx", "/Users/dangurney/Desktop/Dev/trad-archive/remix/app/routes/login.tsx", "server-assets-manifest:@remix-run/dev/assets-manifest", "server-entry-module:@remix-run/dev/server-build"],
  "sourcesContent": ["export * from \"@remix-run/dev/server-build\";", "// eslint-disable-next-line import/no-extraneous-dependencies\nimport * as React from \"react\";\nexport { React };\n", "import type { EntryContext } from \"@remix-run/node\";\nimport { RemixServer } from \"@remix-run/react\";\nimport { renderToString } from \"react-dom/server\";\n\nexport default function handleRequest(\n\trequest: Request,\n\tresponseStatusCode: number,\n\tresponseHeaders: Headers,\n\tremixContext: EntryContext\n) {\n\tlet markup = renderToString(\n\t\t<RemixServer context={remixContext} url={request.url} />\n\t);\n\n\tresponseHeaders.set(\"Content-Type\", \"text/html\");\n\n\treturn new Response(\"<!DOCTYPE html>\" + markup, {\n\t\tstatus: responseStatusCode,\n\t\theaders: responseHeaders,\n\t});\n}\n", "import type { MetaFunction } from \"@remix-run/node\";\nimport {\n\tLinks,\n\tLiveReload,\n\tMeta,\n\tOutlet,\n\tScripts,\n\tScrollRestoration,\n\tuseCatch,\n} from \"@remix-run/react\";\nimport { ApolloProvider, ApolloClient, InMemoryCache } from \"@apollo/client\";\nimport styles from \"~/styles/globals-generated-do-not-edit.css\";\n\nimport PlayerContextProvider from \"~/components/PlayerContextProvider\";\nimport Header from \"~/components/Header\";\nimport Footer from \"~/components/Footer\";\n\n// TODO: Remove this\nconst apolloClient = new ApolloClient({ cache: new InMemoryCache() });\n\nexport const meta: MetaFunction = () => ({\n\tcharset: \"utf-8\",\n\ttitle: \"Trad Archive\",\n\tviewport: \"width=device-width,initial-scale=1\",\n});\n\nexport function links() {\n\treturn [\n\t\t{ rel: \"stylesheet\", href: styles },\n\t\t{ rel: \"dns-prefetch\", href: \"https://fonts.googleapis.com\" },\n\t\t{ rel: \"preconnect\", href: \"https://fonts.gstatic.com/\" },\n\t\t{\n\t\t\trel: \"stylesheet\",\n\t\t\thref: \"https://fonts.googleapis.com/icon?family=Material+Icons\",\n\t\t},\n\t\t{\n\t\t\trel: \"apple-touch-icon\",\n\t\t\tsizes: \"180x180\",\n\t\t\thref: \"/favicons/apple-touch-icon.png\",\n\t\t},\n\t\t{\n\t\t\trel: \"icon\",\n\t\t\ttype: \"image/png\",\n\t\t\tsizes: \"192x192\",\n\t\t\thref: \"/favicons/android-chrome-192x192.png\",\n\t\t},\n\t\t{\n\t\t\trel: \"icon\",\n\t\t\ttype: \"image/png\",\n\t\t\tsizes: \"32x32\",\n\t\t\thref: \"/favicons/favicon-32x32.png\",\n\t\t},\n\t\t{\n\t\t\trel: \"icon\",\n\t\t\ttype: \"image/png\",\n\t\t\tsizes: \"16x16\",\n\t\t\thref: \"/favicons/favicon-16x16.png\",\n\t\t},\n\t\t{\n\t\t\trel: \"shortcut icon\",\n\t\t\thref: \"/favicons/favicon.ico\",\n\t\t},\n\t];\n}\n\nexport default function App() {\n\treturn (\n\t\t<html lang=\"en\">\n\t\t\t<head>\n\t\t\t\t<Meta />\n\t\t\t\t<Links />\n\t\t\t</head>\n\t\t\t<ApolloProvider client={apolloClient}>\n\t\t\t\t<PlayerContextProvider>\n\t\t\t\t\t<body className=\"bg-gray-100\">\n\t\t\t\t\t\t<div className=\"flex flex-col w-full relative pt-12\">\n\t\t\t\t\t\t\t<div className=\"flex flex-col justify-start items-center\">\n\t\t\t\t\t\t\t\t<div className=\"w-full min-h-screen lg:max-w-5xl px-4 pt-6 pb-44\">\n\t\t\t\t\t\t\t\t\t<Outlet />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<Footer />\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t{/* Add header to the DOM after child content so its modals overlay */}\n\t\t\t\t\t\t\t<div className=\"fixed top-0 right-0 left-0\" id=\"header\">\n\t\t\t\t\t\t\t\t<Header />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<ScrollRestoration />\n\t\t\t\t\t\t<Scripts />\n\t\t\t\t\t\t<LiveReload />\n\t\t\t\t\t</body>\n\t\t\t\t</PlayerContextProvider>\n\t\t\t</ApolloProvider>\n\t\t</html>\n\t);\n}\n\ninterface ErrorBoundaryArgs {\n\terror: Error;\n}\nexport function ErrorBoundary({ error }: ErrorBoundaryArgs) {\n\treturn (\n\t\t<html lang=\"en\">\n\t\t\t<head>\n\t\t\t\t<Meta />\n\t\t\t\t<Links />\n\t\t\t</head>\n\t\t\t<ApolloProvider client={apolloClient}>\n\t\t\t\t<PlayerContextProvider>\n\t\t\t\t\t<body className=\"bg-gray-100\">\n\t\t\t\t\t\t<div className=\"flex flex-col w-full relative pt-12\">\n\t\t\t\t\t\t\t<div className=\"flex flex-col justify-start items-center\">\n\t\t\t\t\t\t\t\t<div className=\"w-full min-h-screen lg:max-w-5xl px-4 pt-6 pb-44 text-center\">\n\t\t\t\t\t\t\t\t\t<h1>Oops! There was an error.</h1>\n\t\t\t\t\t\t\t\t\t<p className=\"text-red-500 mt-2\">{error.message}</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<Footer />\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t{/* Add header to the DOM after child content so its modals overlay */}\n\t\t\t\t\t\t\t<div className=\"fixed top-0 right-0 left-0\" id=\"header\">\n\t\t\t\t\t\t\t\t<Header />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<ScrollRestoration />\n\t\t\t\t\t\t<Scripts />\n\t\t\t\t\t\t<LiveReload />\n\t\t\t\t\t</body>\n\t\t\t\t</PlayerContextProvider>\n\t\t\t</ApolloProvider>\n\t\t</html>\n\t);\n}\n\nexport function CatchBoundary() {\n\tconst caught = useCatch();\n\treturn (\n\t\t<html lang=\"en\">\n\t\t\t<head>\n\t\t\t\t<Meta />\n\t\t\t\t<Links />\n\t\t\t</head>\n\t\t\t<ApolloProvider client={apolloClient}>\n\t\t\t\t<PlayerContextProvider>\n\t\t\t\t\t<body className=\"bg-gray-100\">\n\t\t\t\t\t\t<div className=\"flex flex-col w-full relative pt-12\">\n\t\t\t\t\t\t\t<div className=\"flex flex-col justify-start items-center\">\n\t\t\t\t\t\t\t\t<div className=\"w-full min-h-screen lg:max-w-5xl px-4 pt-6 pb-44 text-center\">\n\t\t\t\t\t\t\t\t\t<h1>Oops! There was an error.</h1>\n\t\t\t\t\t\t\t\t\t<p className=\"text-red-500 mt-2\">\n\t\t\t\t\t\t\t\t\t\t{caught.status} - {caught.statusText}\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<Footer />\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t{/* Add header to the DOM after child content so its modals overlay */}\n\t\t\t\t\t\t\t<div className=\"fixed top-0 right-0 left-0\" id=\"header\">\n\t\t\t\t\t\t\t\t<Header />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<ScrollRestoration />\n\t\t\t\t\t\t<Scripts />\n\t\t\t\t\t\t<LiveReload />\n\t\t\t\t\t</body>\n\t\t\t\t</PlayerContextProvider>\n\t\t\t</ApolloProvider>\n\t\t</html>\n\t);\n}\n", "import React, { useEffect, useState } from \"react\";\nimport Player from \"~/components/Player\";\nimport { AudioItem } from \"~/types\";\n\ninterface PlayerContextValue {\n\tactiveAudioItem: AudioItem | null;\n\tsetActiveAudioItem: React.Dispatch<React.SetStateAction<AudioItem>>;\n\tactiveItemDurationSeconds: number | undefined;\n\tsetActiveItemDurationSeconds: React.Dispatch<\n\t\tReact.SetStateAction<number | undefined>\n\t>;\n\tplaybackPositionSeconds: number | undefined;\n\tsetPlaybackPositionSeconds: React.Dispatch<\n\t\tReact.SetStateAction<number | undefined>\n\t>;\n\tseekPositionSeconds: number | undefined;\n\tsetSeekPositionSeconds: React.Dispatch<\n\t\tReact.SetStateAction<number | undefined>\n\t>;\n}\n\nexport const PlayerContext = React.createContext<PlayerContextValue>(null);\n\ninterface PlayerContextProviderProps {\n\tchildren: React.ReactChild | React.ReactChild[];\n}\n\nfunction PlayerContextProvider({ children }: PlayerContextProviderProps) {\n\tconst [activeAudioItem, setActiveAudioItem] = useState<AudioItem>(null);\n\tconst [activeItemDurationSeconds, setActiveItemDurationSeconds] = useState<\n\t\tnumber | undefined\n\t>(undefined);\n\tconst [playbackPositionSeconds, setPlaybackPositionSeconds] = useState<\n\t\tnumber | undefined\n\t>(undefined);\n\tconst [seekPositionSeconds, setSeekPositionSeconds] = useState<\n\t\tnumber | undefined\n\t>(undefined);\n\n\t// Reset PlayerContext when there is no active item\n\tuseEffect(() => {\n\t\tif (!activeAudioItem) {\n\t\t\tsetActiveItemDurationSeconds(undefined);\n\t\t\tsetPlaybackPositionSeconds(undefined);\n\t\t\tsetSeekPositionSeconds(undefined);\n\t\t}\n\t}, [activeAudioItem]);\n\n\treturn (\n\t\t<PlayerContext.Provider\n\t\t\tvalue={{\n\t\t\t\tactiveAudioItem,\n\t\t\t\tsetActiveAudioItem,\n\t\t\t\tactiveItemDurationSeconds,\n\t\t\t\tsetActiveItemDurationSeconds,\n\t\t\t\tplaybackPositionSeconds,\n\t\t\t\tsetPlaybackPositionSeconds,\n\t\t\t\tseekPositionSeconds,\n\t\t\t\tsetSeekPositionSeconds,\n\t\t\t}}\n\t\t>\n\t\t\t{children}\n\n\t\t\t{/* Player is rendered here so it is persistent across all routes */}\n\t\t\t{activeAudioItem && (\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"fixed bottom-0 left-0 right-0\"\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tboxShadow:\n\t\t\t\t\t\t\t\"0 -10px 15px -3px rgba(0, 0, 0, 0.1), 0 -4px 6px -2px rgba(0, 0, 0, 0.05)\",\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<Player />\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</PlayerContext.Provider>\n\t);\n}\n\nexport default PlayerContextProvider;\n", "import { useMemo } from \"react\";\nimport { Link } from \"@remix-run/react\";\n\nimport usePlayerContext from \"~/hooks/usePlayerContext\";\nimport { isAudioItem } from \"~/types\";\n\nimport AudioPlayer from \"~/components/AudioPlayer\";\n\nconst Player = () => {\n\tconst { activeAudioItem, setActiveAudioItem } = usePlayerContext();\n\n\tif (!activeAudioItem) {\n\t\treturn null;\n\t}\n\n\tconst itemHref = useMemo(() => {\n\t\tif (isAudioItem(activeAudioItem)) {\n\t\t\treturn `/entities/audio-items/${activeAudioItem.slug}`;\n\t\t}\n\t\treturn window.location.href;\n\t}, [activeAudioItem]);\n\n\treturn (\n\t\t<div className=\"flex flex-col align-center justify-center px-4 pb-4 pt-2 bg-white\">\n\t\t\t<div className=\"flex flex-row justify-between mb-2\">\n\t\t\t\t<div className=\"leading-8\">\n\t\t\t\t\tNow playing:{\" \"}\n\t\t\t\t\t<span className=\"text-gray-500\">{activeAudioItem.name}</span>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"flex flex-row items-center ml-4\">\n\t\t\t\t\t<Link to={itemHref}>\n\t\t\t\t\t\t<a className=\"whitespace-nowrap\">View</a>\n\t\t\t\t\t</Link>\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName=\"btn-icon flex ml-2 md:ml-4\"\n\t\t\t\t\t\tonClick={() => setActiveAudioItem(null)}\n\t\t\t\t\t>\n\t\t\t\t\t\t<i className=\"material-icons\">close</i>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<AudioPlayer item={activeAudioItem} key={activeAudioItem.id} />\n\t\t</div>\n\t);\n};\n\nexport default Player;\n", "import { useContext } from \"react\";\nimport { PlayerContext } from \"~/components/PlayerContextProvider\";\n\nconst usePlayerContext = () => {\n\tconst playerContext = useContext(PlayerContext);\n\treturn playerContext;\n};\n\nexport default usePlayerContext;\n", "import type {\n\tUser,\n\tAudioItem,\n\tCollection,\n\tInstrument,\n\tPerson,\n\tPlace,\n\tTune,\n} from \"@prisma/client\";\nimport { Prisma } from \"@prisma/client\";\n\nexport type Entity =\n\t| AudioItem\n\t| AudioItemWithRelations\n\t| Collection\n\t| CollectionWithRelations\n\t| Instrument\n\t| Person\n\t| Place\n\t| Tune;\n\nconst audioItemWithRelations = Prisma.validator<Prisma.AudioItemArgs>()({\n\tinclude: {\n\t\ttagsAsSubject: {\n\t\t\tinclude: {\n\t\t\t\tobjectAudioItem: true,\n\t\t\t\tobjectCollection: true,\n\t\t\t\tobjectInstrument: true,\n\t\t\t\tobjectPerson: true,\n\t\t\t\tobjectPlace: true,\n\t\t\t\tobjectTune: true,\n\t\t\t\trelationship: true,\n\t\t\t},\n\t\t},\n\t\tcreatedByUser: true,\n\t\tupdatedByUser: true,\n\t\tcomments: {\n\t\t\tinclude: {\n\t\t\t\tcreatedByUser: true,\n\t\t\t},\n\t\t},\n\t},\n});\nexport type AudioItemWithRelations = Prisma.AudioItemGetPayload<\n\ttypeof audioItemWithRelations\n>;\n\nconst collectionWithRelations = Prisma.validator<Prisma.CollectionArgs>()({\n\tinclude: { tagsAsSubject: true, createdByUser: true, updatedByUser: true },\n});\nexport type CollectionWithRelations = Prisma.CollectionGetPayload<\n\ttypeof collectionWithRelations\n>;\n\nconst commentWithRelations = Prisma.validator<Prisma.CommentArgs>()({\n\tinclude: { parentAudioItem: true, createdByUser: true },\n});\nexport type CommentWithRelations = Prisma.CommentGetPayload<\n\ttypeof commentWithRelations\n>;\n\nconst tagWithRelations = Prisma.validator<Prisma.TagArgs>()({\n\tinclude: {\n\t\tobjectAudioItem: true,\n\t\tobjectCollection: true,\n\t\tobjectInstrument: true,\n\t\tobjectPerson: true,\n\t\tobjectPlace: true,\n\t\tobjectTune: true,\n\t\trelationship: true,\n\t},\n});\nexport type TagWithRelations = Prisma.TagGetPayload<typeof tagWithRelations>;\n\n// EVERYTHING BELOW THIS LINE SHOULD BE GRADUALLY DEPRECATED\n\nexport enum EntityType {\n\tAudioItem = \"AudioItem\",\n\tPerson = \"Person\",\n\tInstrument = \"Instrument\",\n\tPlace = \"Place\",\n\tTune = \"Tune\",\n\tCollection = \"Collection\",\n}\n\nexport enum PerPage {\n\tTen = 10,\n\tTwenty = 20,\n\tFifty = 50,\n\tHundred = 100,\n}\n\nexport enum SortBy {\n\tRecentlyTagged = \"RecentlyTagged\",\n\tRecentlyAdded = \"RecentlyAdded\",\n\tAToZ = \"AToZ\",\n}\n\nexport enum ViewAs {\n\tCards = \"Cards\",\n\tCompact = \"Compact\",\n\tList = \"List\",\n}\n\nexport enum UserRole {\n\tUser = \"User\",\n\tAdmin = \"Admin\",\n}\n\nexport enum CopyrightPermissionStatus {\n\tFullNonCommercialGranted = \"FullNonCommercialGranted\",\n}\n\nexport enum EntityStatus {\n\tPublished = \"PUBLISHED\",\n\tTakenDown = \"TAKEN_DOWN\",\n}\n\nexport function isAudioItem(entity: Entity): entity is AudioItem {\n\treturn (entity as AudioItem).entityType === EntityType.AudioItem;\n}\nexport function isPerson(entity: Entity): entity is Person {\n\treturn (entity as Person).entityType === EntityType.Person;\n}\nexport function isInstrument(entity: Entity): entity is Instrument {\n\treturn (entity as Instrument).entityType === EntityType.Instrument;\n}\nexport function isPlace(entity: Entity): entity is Place {\n\treturn (entity as Place).entityType === EntityType.Place;\n}\nexport function isTune(entity: Entity): entity is Tune {\n\treturn (entity as Tune).entityType === EntityType.Tune;\n}\nexport function isCollection(entity: Entity): entity is Collection {\n\treturn (entity as Collection).entityType === EntityType.Collection;\n}\nexport interface Relationship {\n\tid: string;\n\tname: string;\n\tsubjectEntityType: EntityType;\n\tobjectEntityType: EntityType;\n\tcreatedByUser: User;\n\tcreatedAt: string;\n\tupdatedAt: string;\n}\n\nexport interface Comment {\n\tid: string;\n\tparentAudioItem?: AudioItem | null;\n\ttext: string;\n\tcreatedByUser: User;\n\tcreatedAt: string;\n\tupdatedAt: string;\n}\n\nexport interface SavedItem {\n\tid: string;\n\taudioItem?: AudioItem | null;\n\tuser?: User | null;\n\tcreatedAt: string;\n}\n\nexport enum TakedownRequestType {\n\tPerformer = \"Performer\",\n\tCopyright = \"Copyright\",\n}\n\nexport enum TakedownRequestStatus {\n\tPending = \"Pending\",\n\tApproved = \"Approved\",\n\tDenied = \"Denied\",\n}\n\nexport interface TakedownRequest {\n\tid: string;\n\tentity?: Entity;\n\ttype: TakedownRequestType;\n\tmessage: string | null;\n\tstatus: TakedownRequestStatus;\n\tcreatedByUser: User;\n\tcreatedAt: string;\n\tupdatedByUser: User;\n\tupdatedAt: string;\n}\n\nexport const isPendingTakedownRequest = (takedownRequest: TakedownRequest) =>\n\ttakedownRequest.status.valueOf() === \"Pending\";\n\nexport const isApprovedTakedownRequest = (takedownRequest: TakedownRequest) =>\n\ttakedownRequest.status.valueOf() === \"Approved\";\n\nexport const isDeniedTakedownRequest = (takedownRequest: TakedownRequest) =>\n\ttakedownRequest.status.valueOf() === \"Denied\";\n\nexport enum VerificationRequestStatus {\n\tPending = \"Pending\",\n\tApproved = \"Approved\",\n\tDenied = \"Denied\",\n}\nexport interface VerificationRequest {\n\tid: string;\n\tperson: Person;\n\tpresignedImageDownloadUrl: string | null;\n\tcopyrightPermissionStatus: CopyrightPermissionStatus | null;\n\tstatus: VerificationRequestStatus;\n\tcreatedByUser: User;\n\tcreatedAt: string;\n\tupdatedByUser: User;\n\tupdatedAt: string;\n}\n\nexport const isPendingVerificationRequest = (\n\tverificationRequest: VerificationRequest\n) => verificationRequest.status.valueOf() === \"Pending\";\n\nexport const isApprovedVerificationRequest = (\n\tverificationRequest: VerificationRequest\n) => verificationRequest.status.valueOf() === \"Approved\";\n\nexport const isDeniedVerificationRequest = (\n\tverificationRequest: VerificationRequest\n) => verificationRequest.status.valueOf() === \"Denied\";\n\nexport enum SubmissionStatus {\n\tPending = \"Pending\",\n\tApproved = \"Approved\",\n\tDenied = \"Denied\",\n}\nexport enum SubmissionMaterialType {\n\tAudio = \"Audio\",\n\tVideo = \"Video\",\n\tImage = \"Image\",\n\tDocument = \"Document\",\n}\nexport interface Submission {\n\tid: string;\n\tstatus: SubmissionStatus;\n\tmaterialTypes: SubmissionMaterialType[];\n\tuserControlsCopyright: boolean;\n\tcopyrightDetails: string | null;\n\tdescription: string | null;\n\ts3DirectoryKey: string | null;\n\tcreatedByUser: User;\n\tcreatedAt: string;\n\tupdatedByUser: User;\n\tupdatedAt: string;\n}\n\nexport interface Stats {\n\tnumAudioItemsAllTime: number;\n\tnumTagsAllTime: number;\n\tnumCommentsAllTime: number;\n}\n", "import { useEffect, useRef } from \"react\";\nimport usePlayerContext from \"~/hooks/usePlayerContext\";\nimport { AudioItem } from \"~/types\";\n\ninterface AudioPlayerProps {\n\titem: AudioItem;\n}\nconst AudioPlayer = ({ item }: AudioPlayerProps) => {\n\tconst audioPlayerRef = useRef<HTMLAudioElement>();\n\n\tconst {\n\t\tsetActiveItemDurationSeconds,\n\t\tsetPlaybackPositionSeconds,\n\t\tseekPositionSeconds,\n\t\tsetSeekPositionSeconds,\n\t} = usePlayerContext();\n\n\t// Set up event callbacks on the audio tag\n\tuseEffect(() => {\n\t\tconst audioPlayer = audioPlayerRef.current;\n\t\tif (audioPlayer) {\n\t\t\t// When the audio item's duration changes, update PlayerContext\n\t\t\taudioPlayer.ondurationchange = () => {\n\t\t\t\tconst duration = audioPlayer.duration;\n\t\t\t\tif (typeof duration === \"number\") {\n\t\t\t\t\tconst durationSeconds = Math.floor(audioPlayer.duration);\n\t\t\t\t\tsetActiveItemDurationSeconds(durationSeconds);\n\t\t\t\t}\n\t\t\t};\n\t\t\t// As the audio tag's playback position changes, update PlayerContext with the\n\t\t\t// new value\n\t\t\taudioPlayer.ontimeupdate = () => {\n\t\t\t\tconst playbackPositionSeconds = Math.floor(audioPlayer.currentTime);\n\t\t\t\tsetPlaybackPositionSeconds(playbackPositionSeconds);\n\t\t\t};\n\t\t}\n\t}, []);\n\n\t// If a seek position is set in PlayerContext, update audio tag's playback\n\t// position to match and ensure audio is playing\n\tuseEffect(() => {\n\t\tconst audioPlayer = audioPlayerRef.current;\n\t\tif (audioPlayer && typeof seekPositionSeconds === \"number\") {\n\t\t\taudioPlayer.currentTime = seekPositionSeconds;\n\t\t\tsetSeekPositionSeconds(undefined);\n\t\t\tif (audioPlayer.paused) {\n\t\t\t\taudioPlayer.play();\n\t\t\t}\n\t\t}\n\t}, [seekPositionSeconds]);\n\n\treturn (\n\t\t<audio\n\t\t\tref={audioPlayerRef}\n\t\t\tid=\"audio\"\n\t\t\tpreload=\"metadata\"\n\t\t\tautoPlay\n\t\t\tcontrols\n\t\t\tcontrolsList=\"nodownload\"\n\t\t\tclassName=\"w-full outline-none\"\n\t\t>\n\t\t\t<source src={item.urlSource} type=\"audio/mpeg\" />\n\t\t</audio>\n\t);\n};\n\nexport default AudioPlayer;\n", "import React, { useMemo, useState, useCallback } from \"react\";\nimport { Link } from \"@remix-run/react\";\nimport { useNavigate } from \"@remix-run/react\";\nimport { useHotkeys } from \"react-hotkeys-hook\";\n\nimport type { Entity } from \"~/types\";\nimport useCurrentUser from \"~/hooks/useCurrentUser\";\nimport UserService from \"~/services/User\";\nimport EntityService from \"~/services/Entity\";\n\nimport Modal from \"~/components/Modal\";\nimport SearchEntities from \"~/components/SearchEntities\";\n\nconst Header = () => {\n\tconst navigate = useNavigate();\n\n\tconst [currentUser, { loading }] = useCurrentUser();\n\n\tconst [searchModalIsVisible, setSearchModalIsVisible] = useState(false);\n\n\tconst openSearchModal = (\n\t\tevent: KeyboardEvent | React.SyntheticEvent<HTMLButtonElement>\n\t) => {\n\t\tevent.preventDefault();\n\t\tsetSearchModalIsVisible(true);\n\t};\n\tconst closeSearchModal = () => {\n\t\tsetSearchModalIsVisible(false);\n\t};\n\n\tuseHotkeys(\"/\", openSearchModal);\n\n\tconst onSelectSearchResult = useCallback(\n\t\t(entity: Entity) => {\n\t\t\tsetSearchModalIsVisible(false);\n\t\t\tnavigate(EntityService.makeHrefForView(entity));\n\t\t},\n\t\t[navigate]\n\t);\n\n\tconst onNewEntityCreated = useCallback(\n\t\t(entity: Entity) => {\n\t\t\tnavigate(EntityService.makeHrefForView(entity));\n\t\t},\n\t\t[navigate]\n\t);\n\n\tconst userActions = useMemo(() => {\n\t\tif (loading || typeof currentUser === \"undefined\") {\n\t\t\treturn null;\n\t\t} else if (currentUser) {\n\t\t\treturn (\n\t\t\t\t<div className=\"flex flex-row items-center\">\n\t\t\t\t\t<Link\n\t\t\t\t\t\tto=\"/saved-items\"\n\t\t\t\t\t\tclassName=\"btn-text text-current flex flex-row items-center whitespace-nowrap hover:text-gray-400 ml-4\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<i className=\"material-icons\">bookmark</i>\n\t\t\t\t\t\t<span className=\"hidden md:block md:pl-1\">Saved</span>\n\t\t\t\t\t</Link>\n\t\t\t\t\t{UserService.isAdmin(currentUser) && (\n\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\tto=\"/admin\"\n\t\t\t\t\t\t\tclassName=\"btn-text text-current flex flex-row items-center whitespace-nowrap hover:text-gray-400 ml-4\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<i className=\"material-icons\">manage_accounts</i>\n\t\t\t\t\t\t\t<span className=\"hidden md:block md:pl-1\">Admin</span>\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t)}\n\t\t\t\t\t<Link\n\t\t\t\t\t\tto=\"/account\"\n\t\t\t\t\t\tclassName=\"btn-text text-current flex flex-row items-center whitespace-nowrap hover:text-gray-400 ml-4\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<i className=\"material-icons\">account_circle</i>\n\t\t\t\t\t\t<span className=\"hidden md:block md:pl-1\">Account</span>\n\t\t\t\t\t</Link>\n\t\t\t\t</div>\n\t\t\t);\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<div>\n\t\t\t\t\t<Link\n\t\t\t\t\t\tto=\"/login\"\n\t\t\t\t\t\tclassName=\"whitespace-nowrap text-white no-underline hover:text-gray-400 ml-4\"\n\t\t\t\t\t>\n\t\t\t\t\t\tLog In\n\t\t\t\t\t</Link>\n\t\t\t\t\t<Link\n\t\t\t\t\t\tto=\"/signup\"\n\t\t\t\t\t\tclassName=\"btn text-current no-underline whitespace-nowrap hover:text-current ml-4\"\n\t\t\t\t\t>\n\t\t\t\t\t\tSign Up\n\t\t\t\t\t</Link>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t}, [loading, currentUser]);\n\n\treturn (\n\t\t<>\n\t\t\t<div\n\t\t\t\tclassName=\"flex flex-row py-3 px-4 justify-between text-white items-center bg-teal-700\"\n\t\t\t\tsuppressHydrationWarning\n\t\t\t>\n\t\t\t\t<div className=\"flex flex-row\">\n\t\t\t\t\t<Link\n\t\t\t\t\t\tto=\"/\"\n\t\t\t\t\t\tclassName=\"whitespace-nowrap no-underline text-yellow-200 hover:text-gray-400\"\n\t\t\t\t\t>\n\t\t\t\t\t\tTrad Archive\n\t\t\t\t\t</Link>\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName=\"flex flex-row items-center whitespace-nowrap text-white hover:text-gray-400 group ml-4\"\n\t\t\t\t\t\tonClick={openSearchModal}\n\t\t\t\t\t>\n\t\t\t\t\t\t<i className=\"material-icons\">search</i>\n\t\t\t\t\t\t<span className=\"hidden md:block md:pl-1\">Search</span>\n\t\t\t\t\t\t<span className=\"hidden md:block border border-gray-300 group-hover:border-gray-400 rounded text-xs px-1.5 ml-2.5\">{`/`}</span>\n\t\t\t\t\t</button>\n\t\t\t\t\t<Link\n\t\t\t\t\t\tto=\"/entities/audio-items/random\"\n\t\t\t\t\t\tclassName=\"flex flex-row items-center no-underline text-white hover:text-gray-400 ml-4\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<div className=\"block h-6\">\n\t\t\t\t\t\t\t<i className=\"material-icons\">shuffle</i>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"md:pl-2 hidden md:block\">Random</div>\n\t\t\t\t\t</Link>\n\t\t\t\t</div>\n\n\t\t\t\t{userActions}\n\t\t\t</div>\n\n\t\t\t<Modal\n\t\t\t\ttitle=\"Search\"\n\t\t\t\tisVisible={searchModalIsVisible}\n\t\t\t\tonClose={closeSearchModal}\n\t\t\t>\n\t\t\t\t<SearchEntities\n\t\t\t\t\tonSelect={onSelectSearchResult}\n\t\t\t\t\tonNewEntityCreated={onNewEntityCreated}\n\t\t\t\t/>\n\t\t\t</Modal>\n\t\t</>\n\t);\n};\n\nexport default Header;\n", "import { useEffect } from \"react\";\nimport type { LazyQueryResult } from \"@apollo/client\";\nimport { useLazyQuery, gql } from \"@apollo/client\";\n\nimport type { User } from \"~/types\";\nimport { UserFragments } from \"~/fragments\";\n\nexport const CURRENT_USER_QUERY = gql`\n\tquery CurrentUser {\n\t\tcurrentUser {\n\t\t\t...CurrentUser\n\t\t}\n\t}\n\t${UserFragments.currentUser}\n`;\n\ninterface QueryData {\n\tcurrentUser: User;\n}\n\nconst useCurrentUser = (): [\n\tUser | null | undefined,\n\tLazyQueryResult<QueryData, {}>\n] => {\n\tconst [getCurrentUser, currentUserQuery] =\n\t\tuseLazyQuery<QueryData>(CURRENT_USER_QUERY);\n\n\tuseEffect(() => {\n\t\tgetCurrentUser();\n\t}, [getCurrentUser]);\n\n\tconst currentUser = currentUserQuery.data?.currentUser;\n\n\treturn [currentUser, currentUserQuery];\n};\n\nexport default useCurrentUser;\n", "import { gql } from \"@apollo/client\";\n\nexport const UserFragments = {\n\tuser: gql`\n\t\tfragment User on User {\n\t\t\tid\n\t\t\tusername\n\t\t\tcopyrightPermissionStatus\n\t\t\tverifiedPerson {\n\t\t\t\tid\n\t\t\t\tentityType\n\t\t\t\tslug\n\t\t\t\tname\n\t\t\t}\n\t\t\tcreatedAt\n\t\t}\n\t`,\n\tcurrentUser: gql`\n\t\tfragment CurrentUser on User {\n\t\t\tid\n\t\t\trole\n\t\t\temail\n\t\t\tusername\n\t\t\tcopyrightPermissionStatus\n\t\t}\n\t`,\n};\n\nexport const RelationshipFragments = {\n\trelationship: gql`\n\t\tfragment Relationship on Relationship {\n\t\t\tid\n\t\t\tname\n\t\t\tsubjectEntityType\n\t\t\tobjectEntityType\n\t\t}\n\t`,\n};\n\nexport const TagEntityFragments = {\n\ttagAudioItem: gql`\n\t\tfragment TagAudioItem on AudioItem {\n\t\t\tid\n\t\t\tentityType\n\t\t\tname\n\t\t\tslug\n\t\t}\n\t`,\n\ttagInstrument: gql`\n\t\tfragment TagInstrument on Instrument {\n\t\t\tid\n\t\t\tentityType\n\t\t\tname\n\t\t\tslug\n\t\t}\n\t`,\n\ttagPerson: gql`\n\t\tfragment TagPerson on Person {\n\t\t\tid\n\t\t\tentityType\n\t\t\tname\n\t\t\tslug\n\t\t}\n\t`,\n\ttagPlace: gql`\n\t\tfragment TagPlace on Place {\n\t\t\tid\n\t\t\tentityType\n\t\t\tname\n\t\t\tslug\n\t\t}\n\t`,\n\ttagTune: gql`\n\t\tfragment TagTune on Tune {\n\t\t\tid\n\t\t\tentityType\n\t\t\tname\n\t\t\tslug\n\t\t\ttype\n\t\t}\n\t`,\n\ttagCollection: gql`\n\t\tfragment TagCollection on Collection {\n\t\t\tid\n\t\t\tentityType\n\t\t\tname\n\t\t\tslug\n\t\t}\n\t`,\n};\n\nexport const TagFragments = {\n\ttag: gql`\n\t\tfragment Tag on Tag {\n\t\t\tid\n\t\t\trelationship {\n\t\t\t\t...Relationship\n\t\t\t}\n\t\t\tsubjectEntity {\n\t\t\t\t...TagAudioItem\n\t\t\t\t...TagInstrument\n\t\t\t\t...TagPerson\n\t\t\t\t...TagPlace\n\t\t\t\t...TagTune\n\t\t\t\t...TagCollection\n\t\t\t}\n\t\t\tobjectEntity {\n\t\t\t\t...TagAudioItem\n\t\t\t\t...TagInstrument\n\t\t\t\t...TagPerson\n\t\t\t\t...TagPlace\n\t\t\t\t...TagTune\n\t\t\t\t...TagCollection\n\t\t\t}\n\t\t\tsubjectTimeMarkerSeconds\n\t\t\tcreatedByUser {\n\t\t\t\t...User\n\t\t\t}\n\t\t\tcreatedAt\n\t\t}\n\t\t${RelationshipFragments.relationship}\n\t\t${TagEntityFragments.tagAudioItem}\n\t\t${TagEntityFragments.tagInstrument}\n\t\t${TagEntityFragments.tagPerson}\n\t\t${TagEntityFragments.tagPlace}\n\t\t${TagEntityFragments.tagTune}\n\t\t${TagEntityFragments.tagCollection}\n\t\t${UserFragments.user}\n\t`,\n\ttagForEntity: gql`\n\t\tfragment TagForEntity on Tag {\n\t\t\tid\n\t\t\trelationship {\n\t\t\t\t...Relationship\n\t\t\t}\n\t\t\tobjectEntity {\n\t\t\t\t...TagAudioItem\n\t\t\t\t...TagInstrument\n\t\t\t\t...TagPerson\n\t\t\t\t...TagPlace\n\t\t\t\t...TagTune\n\t\t\t\t...TagCollection\n\t\t\t}\n\t\t\tsubjectTimeMarkerSeconds\n\t\t\tcreatedByUser {\n\t\t\t\t...User\n\t\t\t}\n\t\t\tcreatedAt\n\t\t}\n\t\t${RelationshipFragments.relationship}\n\t\t${TagEntityFragments.tagAudioItem}\n\t\t${TagEntityFragments.tagInstrument}\n\t\t${TagEntityFragments.tagPerson}\n\t\t${TagEntityFragments.tagPlace}\n\t\t${TagEntityFragments.tagTune}\n\t\t${TagEntityFragments.tagCollection}\n\t\t${UserFragments.user}\n\t`,\n};\n\nexport const EntityFragments = {\n\taudioItem: gql`\n\t\tfragment AudioItem on AudioItem {\n\t\t\tid\n\t\t\tentityType\n\t\t\tname\n\t\t\tslug\n\t\t\taliases\n\t\t\tdescription\n\t\t\ttags {\n\t\t\t\t...TagForEntity\n\t\t\t}\n\t\t\tcommentsCount\n\t\t\tisSavedByUser\n\t\t\tstatus\n\t\t\tcreatedByUser {\n\t\t\t\tid\n\t\t\t\tusername\n\t\t\t\tverifiedPerson {\n\t\t\t\t\tid\n\t\t\t\t\tentityType\n\t\t\t\t\tslug\n\t\t\t\t}\n\t\t\t}\n\t\t\tcreatedAt\n\t\t\tupdatedAt\n\t\t\turlSource\n\t\t\titmaAtomSlug\n\t\t}\n\t\t${TagFragments.tagForEntity}\n\t`,\n\tperson: gql`\n\t\tfragment Person on Person {\n\t\t\tid\n\t\t\tentityType\n\t\t\tname\n\t\t\tslug\n\t\t\taliases\n\t\t\tdescription\n\t\t\ttags {\n\t\t\t\t...Tag\n\t\t\t}\n\t\t\tverifiedUser {\n\t\t\t\t...User\n\t\t\t}\n\t\t\tcreatedByUser {\n\t\t\t\tid\n\t\t\t\tusername\n\t\t\t}\n\t\t\tcreatedAt\n\t\t\tupdatedAt\n\t\t\tfirstName\n\t\t\tmiddleName\n\t\t\tlastName\n\t\t}\n\t\t${TagFragments.tag}\n\t\t${UserFragments.user}\n\t`,\n\tinstrument: gql`\n\t\tfragment Instrument on Instrument {\n\t\t\tid\n\t\t\tentityType\n\t\t\tname\n\t\t\tslug\n\t\t\taliases\n\t\t\tdescription\n\t\t\ttags {\n\t\t\t\t...Tag\n\t\t\t}\n\t\t\tcreatedByUser {\n\t\t\t\tid\n\t\t\t\tusername\n\t\t\t}\n\t\t}\n\t\t${TagFragments.tag}\n\t`,\n\tplace: gql`\n\t\tfragment Place on Place {\n\t\t\tid\n\t\t\tentityType\n\t\t\tname\n\t\t\tslug\n\t\t\taliases\n\t\t\tdescription\n\t\t\ttags {\n\t\t\t\t...Tag\n\t\t\t}\n\t\t\tlatitude\n\t\t\tlongitude\n\t\t\tcreatedByUser {\n\t\t\t\tid\n\t\t\t\tusername\n\t\t\t}\n\t\t}\n\t\t${TagFragments.tag}\n\t`,\n\ttune: gql`\n\t\tfragment Tune on Tune {\n\t\t\tid\n\t\t\tentityType\n\t\t\tname\n\t\t\tslug\n\t\t\taliases\n\t\t\tdescription\n\t\t\ttags {\n\t\t\t\t...Tag\n\t\t\t}\n\t\t\ttheSessionTuneId\n\t\t\ttype\n\t\t\tmeter\n\t\t\tmode\n\t\t\tabc\n\t\t}\n\t\t${TagFragments.tag}\n\t`,\n\tcollection: gql`\n\t\tfragment Collection on Collection {\n\t\t\tid\n\t\t\tentityType\n\t\t\tname\n\t\t\tslug\n\t\t\taliases\n\t\t\tdescription\n\t\t\ttags {\n\t\t\t\t...Tag\n\t\t\t}\n\t\t\titmaAtomSlug\n\t\t\tcreatedByUser {\n\t\t\t\tid\n\t\t\t\tusername\n\t\t\t}\n\t\t\tcreatedAt\n\t\t\tupdatedAt\n\t\t}\n\t\t${TagFragments.tag}\n\t\t${UserFragments.user}\n\t`,\n};\n\nexport const CommentFragments = {\n\tcomment: gql`\n\t\tfragment Comment on Comment {\n\t\t\tid\n\t\t\ttext\n\t\t\tparentAudioItem {\n\t\t\t\t...AudioItem\n\t\t\t}\n\t\t\tcreatedByUser {\n\t\t\t\t...User\n\t\t\t}\n\t\t\tcreatedAt\n\t\t\tupdatedAt\n\t\t}\n\t\t${EntityFragments.audioItem}\n\t\t${UserFragments.user}\n\t`,\n\tcommentWithoutParentEntity: gql`\n\t\tfragment CommentWithoutParentEntity on Comment {\n\t\t\tid\n\t\t\ttext\n\t\t\tcreatedByUser {\n\t\t\t\t...User\n\t\t\t}\n\t\t\tcreatedAt\n\t\t\tupdatedAt\n\t\t}\n\t\t${UserFragments.user}\n\t`,\n};\n\nexport const SavedItemFragments = {\n\tsavedItem: gql`\n\t\tfragment SavedItem on SavedItem {\n\t\t\tid\n\t\t\taudioItem {\n\t\t\t\t...AudioItem\n\t\t\t}\n\t\t\tcreatedAt\n\t\t}\n\t\t${EntityFragments.audioItem}\n\t`,\n};\n\nexport const TakedownRequestFragments = {\n\ttakedownRequest: gql`\n\t\tfragment TakedownRequest on TakedownRequest {\n\t\t\tid\n\t\t\tentity {\n\t\t\t\t...AudioItem\n\t\t\t}\n\t\t\ttype\n\t\t\tmessage\n\t\t\tstatus\n\t\t\tcreatedByUser {\n\t\t\t\tid\n\t\t\t\tusername\n\t\t\t\temail\n\t\t\t}\n\t\t\tcreatedAt\n\t\t\tupdatedByUser {\n\t\t\t\tid\n\t\t\t\tusername\n\t\t\t\temail\n\t\t\t}\n\t\t\tupdatedAt\n\t\t}\n\t\t${EntityFragments.audioItem}\n\t`,\n\ttakedownRequestWithoutEntity: gql`\n\t\tfragment TakedownRequestWithoutEntity on TakedownRequest {\n\t\t\tid\n\t\t\ttype\n\t\t\tmessage\n\t\t\tstatus\n\t\t\tcreatedByUser {\n\t\t\t\tid\n\t\t\t\tusername\n\t\t\t\temail\n\t\t\t}\n\t\t\tcreatedAt\n\t\t\tupdatedByUser {\n\t\t\t\tid\n\t\t\t\tusername\n\t\t\t\temail\n\t\t\t}\n\t\t\tupdatedAt\n\t\t}\n\t`,\n};\n\nexport const VerificationRequestFragments = {\n\tverificationRequest: gql`\n\t\tfragment VerificationRequest on VerificationRequest {\n\t\t\tid\n\t\t\tperson {\n\t\t\t\tid\n\t\t\t\tentityType\n\t\t\t\tname\n\t\t\t\tslug\n\t\t\t}\n\t\t\tpresignedImageDownloadUrl\n\t\t\tcopyrightPermissionStatus\n\t\t\tstatus\n\t\t\tcreatedByUser {\n\t\t\t\tid\n\t\t\t\tusername\n\t\t\t\temail\n\t\t\t}\n\t\t\tcreatedAt\n\t\t\tupdatedByUser {\n\t\t\t\tid\n\t\t\t\tusername\n\t\t\t\temail\n\t\t\t}\n\t\t\tupdatedAt\n\t\t}\n\t`,\n};\n\nexport const SubmissionFragments = {\n\tsubmission: gql`\n\t\tfragment Submission on Submission {\n\t\t\tid\n\t\t\tstatus\n\t\t\tmaterialTypes\n\t\t\tuserControlsCopyright\n\t\t\tcopyrightDetails\n\t\t\tdescription\n\t\t\ts3DirectoryKey\n\t\t\tcreatedByUser {\n\t\t\t\tid\n\t\t\t\tusername\n\t\t\t\temail\n\t\t\t}\n\t\t\tcreatedAt\n\t\t\tupdatedByUser {\n\t\t\t\tid\n\t\t\t\tusername\n\t\t\t\temail\n\t\t\t}\n\t\t\tupdatedAt\n\t\t}\n\t`,\n};\n", "import type { User } from \"~/types\";\nimport { UserRole } from \"~/types\";\n\nconst isAdmin = (user?: User) => {\n\tif (!user) {\n\t\treturn false;\n\t}\n\treturn user.role === UserRole.Admin;\n};\n\nconst UserService = {\n\tisAdmin,\n};\nexport default UserService;\n", "import { EntityType } from \"@prisma/client\";\n\nconst cleanSlug = (rawSlug: string) => {\n\tconst slugWithHyphens = rawSlug.replace(/[\\s]/g, \"-\");\n\treturn slugWithHyphens.replace(/[^a-zA-Z0-9-]/g, \"\").toLowerCase();\n};\n\ninterface EntityArg {\n\tentityType: EntityType | null;\n\tslug: string;\n}\n\nconst makeHrefForTopLevel = (entity?: EntityArg | null) => {\n\tswitch (entity?.entityType) {\n\t\tcase EntityType.AudioItem:\n\t\t\treturn \"/entities/audio-items\";\n\t\tcase EntityType.Person:\n\t\t\treturn \"/entities/people\";\n\t\tcase EntityType.Instrument:\n\t\t\treturn \"/entities/instruments\";\n\t\tcase EntityType.Place:\n\t\t\treturn \"/entities/places\";\n\t\tcase EntityType.Tune:\n\t\t\treturn \"/entities/tunes\";\n\t\tcase EntityType.Collection:\n\t\t\treturn \"/entities/collections\";\n\t\tdefault:\n\t\t\treturn \"\";\n\t}\n};\n\nconst makeHrefForView = (entity?: EntityArg | null) => {\n\tif (!entity) {\n\t\treturn \"\";\n\t}\n\treturn `${makeHrefForTopLevel(entity)}/${entity.slug}`;\n};\n\nconst makeHrefForEdit = (entity?: EntityArg | null) => {\n\tif (!entity) {\n\t\treturn \"\";\n\t}\n\treturn `${makeHrefForView(entity)}/edit`;\n};\n\nconst makeHrefForAbout = (entity?: EntityArg | null) => {\n\tif (!entity) {\n\t\treturn \"\";\n\t}\n\treturn `${makeHrefForView(entity)}/about`;\n};\n\nconst makeHrefForTags = (entity?: EntityArg | null) => {\n\tif (!entity) {\n\t\treturn \"\";\n\t}\n\treturn `${makeHrefForView(entity)}/tags`;\n};\n\nconst makeReadableNamePlural = (entity?: EntityArg | null) => {\n\tswitch (entity?.entityType) {\n\t\tcase EntityType.AudioItem:\n\t\t\treturn \"Audio Items\";\n\t\tcase EntityType.Person:\n\t\t\treturn \"People\";\n\t\tcase EntityType.Instrument:\n\t\t\treturn \"Instruments\";\n\t\tcase EntityType.Place:\n\t\t\treturn \"Places\";\n\t\tcase EntityType.Tune:\n\t\t\treturn \"Tunes\";\n\t\tcase EntityType.Collection:\n\t\t\treturn \"Collections\";\n\t\tdefault:\n\t\t\treturn \"\";\n\t}\n};\n\nconst EntityService = {\n\tcleanSlug,\n\tmakeHrefForTopLevel,\n\tmakeHrefForView,\n\tmakeHrefForEdit,\n\tmakeHrefForAbout,\n\tmakeHrefForTags,\n\tmakeReadableNamePlural,\n};\nexport default EntityService;\n", "import React from \"react\";\nimport { useHotkeys } from \"react-hotkeys-hook\";\n\ninterface Props {\n\tchildren: React.ReactNode;\n\tisVisible: boolean;\n\tonClose: () => void;\n\ttitle?: string;\n\tclassName?: string;\n}\n\nconst Modal = ({\n\tchildren,\n\tisVisible = false,\n\tonClose,\n\ttitle,\n\tclassName,\n}: Props) => {\n\t// Close the modal when escape key is pressed, even if a form field is focused\n\tuseHotkeys(\n\t\t\"esc\",\n\t\tonClose,\n\t\t{\n\t\t\tenableOnTags: [\"INPUT\", \"TEXTAREA\"],\n\t\t},\n\t\t[onClose]\n\t);\n\n\tif (!isVisible) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<div\n\t\t\tclassName={`${\n\t\t\t\tisVisible ? \"visible\" : \"hidden\"\n\t\t\t} z-40 fixed top-0 left-0 right-0 bottom-0 flex items-center justify-center`}\n\t\t>\n\t\t\t<div\n\t\t\t\tclassName=\"absolute top-0 left-0 right-0 bottom-0 bg-black bg-opacity-40\"\n\t\t\t\tonClick={onClose}\n\t\t\t/>\n\n\t\t\t<div\n\t\t\t\tclassName={`bg-white cursor-auto rounded relative w-full px-4 pb-4 pt-3 m-2 max-h-9/10 overflow-y-auto overflow-x-hidden md:max-w-md ${\n\t\t\t\t\tclassName ?? \"\"\n\t\t\t\t}`}\n\t\t\t>\n\t\t\t\t<div className=\"flex flex-row justify-between items-center mb-4 text-black\">\n\t\t\t\t\t<h2>{title}</h2>\n\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName=\"btn-icon flex flex-row items-center justify-center ml-4 mb-0.5\"\n\t\t\t\t\t\tonClick={onClose}\n\t\t\t\t\t\taria-label=\"Close\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<span className=\"hidden md:block border border-gray-300 group-hover:border-gray-400 rounded text-xs px-1.5 ml-0.5 mr-3\">\n\t\t\t\t\t\t\tESC\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<i className=\"material-icons\">close</i>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\n\t\t\t\t{/* Add some style resets so that the Modal's parent doesn't affect the content */}\n\t\t\t\t<div className=\"text-base text-black font-normal whitespace-normal text-left cursor-auto\">\n\t\t\t\t\t{children}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default Modal;\n", "import { Link } from \"@remix-run/react\";\nimport type { ChangeEvent } from \"react\";\nimport { useEffect, useState, useCallback } from \"react\";\nimport { useLazyQuery, gql } from \"@apollo/client\";\nimport debounce from \"lodash/debounce\";\n\nimport type { Entity } from \"~/types\";\nimport { EntityType } from \"~/types\";\nimport { EntityFragments } from \"~/fragments\";\nimport EntityService from \"~/services/Entity\";\n\nimport LoadingCircle from \"~/components/LoadingCircle\";\nimport CreateNewEntities from \"~/components/CreateNewEntities\";\n\nconst SEARCH_ENTITIES_QUERY = gql`\n\tquery SearchEntities($input: SearchEntitiesInput!) {\n\t\tsearchEntities(input: $input) {\n\t\t\t...AudioItem\n\t\t\t...Person\n\t\t\t...Instrument\n\t\t\t...Place\n\t\t\t...Tune\n\t\t\t...Collection\n\t\t}\n\t}\n\t${EntityFragments.audioItem}\n\t${EntityFragments.person}\n\t${EntityFragments.instrument}\n\t${EntityFragments.place}\n\t${EntityFragments.tune}\n\t${EntityFragments.collection}\n`;\n\ninterface QueryData {\n\tsearchEntities: Entity[];\n}\ninterface QueryVariables {\n\tinput: {\n\t\tsearchTerm: string;\n\t\tentityTypes?: EntityType[];\n\t\ttake?: number;\n\t};\n}\ninterface Props {\n\tentityTypes?: EntityType[];\n\ttake?: number;\n\tonSelect: (entity: Entity) => void;\n\tonNewEntityCreated?: (entity: Entity) => void;\n\tclassName?: string;\n}\nconst SearchEntities = ({\n\tentityTypes,\n\ttake,\n\tonSelect,\n\tonNewEntityCreated,\n\tclassName,\n}: Props) => {\n\tconst [searchTerm, setSearchTerm] = useState<string>(\"\");\n\tconst [searchResults, setSearchResults] = useState<Entity[] | undefined>();\n\n\tconst onChangeSearchTerm = (event: ChangeEvent<HTMLInputElement>) => {\n\t\tsetSearchTerm(event.target.value);\n\t};\n\n\tconst [searchEntities, { loading, data, error }] = useLazyQuery<\n\t\tQueryData,\n\t\tQueryVariables\n\t>(SEARCH_ENTITIES_QUERY, {\n\t\tfetchPolicy: \"no-cache\",\n\t});\n\tconst debouncedSearchEntities = useCallback(\n\t\tdebounce(searchEntities, 300, { trailing: true }),\n\t\t[searchEntities]\n\t);\n\n\tuseEffect(() => {\n\t\tconst cleanedSearchTerm = searchTerm?.trim() ?? \"\";\n\t\tif (cleanedSearchTerm.length >= 3) {\n\t\t\tdebouncedSearchEntities({\n\t\t\t\tvariables: {\n\t\t\t\t\tinput: {\n\t\t\t\t\t\tsearchTerm: cleanedSearchTerm,\n\t\t\t\t\t\tentityTypes,\n\t\t\t\t\t\ttake: take ?? 24,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t});\n\t\t}\n\t}, [searchTerm]);\n\n\tuseEffect(() => {\n\t\tif (data?.searchEntities) {\n\t\t\tsetSearchResults(data.searchEntities);\n\t\t}\n\t}, [data]);\n\n\treturn (\n\t\t<div className={className ?? \"\"}>\n\t\t\t<div className=\"relative\">\n\t\t\t\t<input\n\t\t\t\t\tautoFocus\n\t\t\t\t\tplaceholder=\"Start typing...\"\n\t\t\t\t\tvalue={searchTerm}\n\t\t\t\t\tonChange={onChangeSearchTerm}\n\t\t\t\t/>\n\t\t\t\t{loading && (\n\t\t\t\t\t<div className=\"absolute top-2 right-2\">\n\t\t\t\t\t\t<LoadingCircle />\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</div>\n\n\t\t\t{error && (\n\t\t\t\t<div className=\"text-red-600 mt-4 ml-2\">Error fetching results</div>\n\t\t\t)}\n\n\t\t\t{searchResults && (\n\t\t\t\t<div className=\"mt-4\">\n\t\t\t\t\t<ul className=\"max-h-40\">\n\t\t\t\t\t\t{searchResults.map((entity, index) => (\n\t\t\t\t\t\t\t<li className=\"flex flex-row\" key={index}>\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclassName=\"flex flex-1 justify-between items-center text-left p-2 rounded cursor-pointer hover:bg-gray-200\"\n\t\t\t\t\t\t\t\t\tonClick={() => onSelect(entity)}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t\t{entity.name}\n\t\t\t\t\t\t\t\t\t\t{entity.entityType === EntityType.Tune\n\t\t\t\t\t\t\t\t\t\t\t? ` (${entity.type})`\n\t\t\t\t\t\t\t\t\t\t\t: \"\"}\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t<span className=\"uppercase text-gray-500 text-sm\">\n\t\t\t\t\t\t\t\t\t\t{entity.entityType}\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t</button>\n\n\t\t\t\t\t\t\t\t<Link to={EntityService.makeHrefForAbout(entity)}>\n\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\tclassName=\"btn-icon w-auto px-2\"\n\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\t\t\taria-label={`Open ${entity.name} in New Tab`}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<i className=\"material-icons text-base\">launch</i>\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</ul>\n\n\t\t\t\t\t{searchResults.length === 0 && (\n\t\t\t\t\t\t<div className=\"p-2 block text-gray-500\">No results</div>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{onNewEntityCreated && (\n\t\t\t\t\t\t<div className=\"mt-2 ml-2\">\n\t\t\t\t\t\t\t<CreateNewEntities\n\t\t\t\t\t\t\t\tentityTypes={entityTypes}\n\t\t\t\t\t\t\t\tonNewEntityCreated={onNewEntityCreated}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nexport default SearchEntities;\n", "interface Props {\n\tclassName?: string;\n}\n\nconst LoadingCircle = ({ className }: Props) => (\n\t<div className=\"h-6\">\n\t\t<i\n\t\t\tclassName={`material-icons animate-spin text-gray-500 ${className ?? \"\"}`}\n\t\t>\n\t\t\tscatter_plot\n\t\t</i>\n\t</div>\n);\n\nexport default LoadingCircle;\n", "import { useState, useCallback } from \"react\";\n\nimport type { Entity, Person, Instrument, Place, Collection } from \"~/types\";\nimport { EntityType } from \"~/types\";\nimport useRequireLogin from \"~/hooks/useRequireLogin\";\n\nimport Modal from \"~/components/Modal\";\nimport CreatePersonForm from \"~/components/CreatePersonForm\";\nimport CreateInstrumentForm from \"~/components/CreateInstrumentForm\";\nimport CreatePlaceForm from \"~/components/CreatePlaceForm\";\nimport CreateCollectionForm from \"~/components/CreateCollectionForm\";\n\ninterface Props {\n\tentityTypes?: EntityType[];\n\tonNewEntityCreated: (entity: Entity) => void;\n}\nconst CreateNewEntities = ({ entityTypes, onNewEntityCreated }: Props) => {\n\tconst { currentUser, requireLogin } = useRequireLogin();\n\n\tconst [createPersonModalIsVisible, setCreatePersonModalIsVisible] =\n\t\tuseState(false);\n\tconst [createInstrumentModalIsVisible, setCreateInstrumentModalIsVisible] =\n\t\tuseState(false);\n\tconst [createPlaceModalIsVisible, setCreatePlaceModalIsVisible] =\n\t\tuseState(false);\n\tconst [createCollectionModalIsVisible, setCreateCollectionModalIsVisible] =\n\t\tuseState(false);\n\n\tconst onCreateNewPersonClicked = useCallback(async () => {\n\t\tif (!currentUser) {\n\t\t\treturn await requireLogin();\n\t\t}\n\t\tsetCreatePersonModalIsVisible(true);\n\t}, [requireLogin, currentUser]);\n\n\tconst onCreateNewInstrumentClicked = useCallback(async () => {\n\t\tif (!currentUser) {\n\t\t\treturn await requireLogin();\n\t\t}\n\t\tsetCreateInstrumentModalIsVisible(true);\n\t}, [requireLogin, currentUser]);\n\n\tconst onCreateNewPlaceClicked = useCallback(async () => {\n\t\tif (!currentUser) {\n\t\t\treturn await requireLogin();\n\t\t}\n\t\tsetCreatePlaceModalIsVisible(true);\n\t}, [requireLogin, currentUser]);\n\n\tconst onCreateNewCollectionClicked = useCallback(async () => {\n\t\tif (!currentUser) {\n\t\t\treturn await requireLogin();\n\t\t}\n\t\tsetCreateCollectionModalIsVisible(true);\n\t}, [requireLogin, currentUser]);\n\n\tconst onNewPersonCreated = useCallback(\n\t\t(person: Person) => {\n\t\t\tsetCreatePersonModalIsVisible(false);\n\t\t\tonNewEntityCreated(person);\n\t\t},\n\t\t[onNewEntityCreated]\n\t);\n\n\tconst onNewInstrumentCreated = useCallback((instrument: Instrument) => {\n\t\tsetCreateInstrumentModalIsVisible(false);\n\t\tonNewEntityCreated(instrument);\n\t}, []);\n\n\tconst onNewPlaceCreated = useCallback((place: Place) => {\n\t\tsetCreatePlaceModalIsVisible(false);\n\t\tonNewEntityCreated(place);\n\t}, []);\n\n\tconst onNewCollectionCreated = useCallback((collection: Collection) => {\n\t\tsetCreateCollectionModalIsVisible(false);\n\t\tonNewEntityCreated(collection);\n\t}, []);\n\n\tconst shouldShowCreatePerson =\n\t\ttypeof entityTypes === \"undefined\" ||\n\t\tentityTypes.includes(EntityType.Person);\n\tconst shouldShowCreateInstrument =\n\t\ttypeof entityTypes === \"undefined\" ||\n\t\tentityTypes.includes(EntityType.Instrument);\n\tconst shouldShowCreatePlace =\n\t\ttypeof entityTypes === \"undefined\" ||\n\t\tentityTypes.includes(EntityType.Place);\n\tconst shouldShowCreateCollection =\n\t\ttypeof entityTypes === \"undefined\" ||\n\t\tentityTypes.includes(EntityType.Collection);\n\n\tconst shouldShowCommaAfterCreatePerson =\n\t\t!entityTypes ||\n\t\tshouldShowCreateInstrument ||\n\t\tshouldShowCreatePlace ||\n\t\tshouldShowCreateCollection;\n\tconst shouldShowCommaAfterCreateInstrument =\n\t\t!entityTypes || shouldShowCreatePlace || shouldShowCreateCollection;\n\tconst shouldShowCommaAfterCreatePlace =\n\t\t!entityTypes || shouldShowCreateCollection;\n\n\treturn (\n\t\t<>\n\t\t\t<div className=\"text-gray-500\">\n\t\t\t\tCan't find it? Create new:{\" \"}\n\t\t\t\t{shouldShowCreatePerson && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<button className=\"btn-text\" onClick={onCreateNewPersonClicked}>\n\t\t\t\t\t\t\tPerson\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t{shouldShowCommaAfterCreatePerson && \", \"}\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t\t{shouldShowCreateInstrument && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<button className=\"btn-text\" onClick={onCreateNewInstrumentClicked}>\n\t\t\t\t\t\t\tInstrument\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t{shouldShowCommaAfterCreateInstrument && \", \"}\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t\t{shouldShowCreatePlace && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<button className=\"btn-text\" onClick={onCreateNewPlaceClicked}>\n\t\t\t\t\t\t\tPlace\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t{shouldShowCommaAfterCreatePlace && \", \"}\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t\t{shouldShowCreateCollection && (\n\t\t\t\t\t<button className=\"btn-text\" onClick={onCreateNewCollectionClicked}>\n\t\t\t\t\t\tCollection\n\t\t\t\t\t</button>\n\t\t\t\t)}\n\t\t\t</div>\n\n\t\t\t<Modal\n\t\t\t\ttitle=\"Create New Person\"\n\t\t\t\tisVisible={createPersonModalIsVisible}\n\t\t\t\tonClose={() => setCreatePersonModalIsVisible(false)}\n\t\t\t>\n\t\t\t\t<CreatePersonForm onSuccess={onNewPersonCreated} />\n\t\t\t</Modal>\n\n\t\t\t<Modal\n\t\t\t\ttitle=\"Create New Instrument\"\n\t\t\t\tisVisible={createInstrumentModalIsVisible}\n\t\t\t\tonClose={() => setCreateInstrumentModalIsVisible(false)}\n\t\t\t>\n\t\t\t\t<CreateInstrumentForm onSuccess={onNewInstrumentCreated} />\n\t\t\t</Modal>\n\n\t\t\t<Modal\n\t\t\t\ttitle=\"Create New Place\"\n\t\t\t\tisVisible={createPlaceModalIsVisible}\n\t\t\t\tonClose={() => setCreatePlaceModalIsVisible(false)}\n\t\t\t>\n\t\t\t\t<CreatePlaceForm onSuccess={onNewPlaceCreated} />\n\t\t\t</Modal>\n\n\t\t\t<Modal\n\t\t\t\ttitle=\"Create New Collection\"\n\t\t\t\tisVisible={createCollectionModalIsVisible}\n\t\t\t\tonClose={() => setCreateCollectionModalIsVisible(false)}\n\t\t\t>\n\t\t\t\t<CreateCollectionForm onSuccess={onNewCollectionCreated} />\n\t\t\t</Modal>\n\t\t</>\n\t);\n};\n\nexport default CreateNewEntities;\n", "import { useCallback } from \"react\";\nimport { useNavigate } from \"@remix-run/react\";\n\nimport type { User } from \"~/types\";\nimport useCurrentUser from \"~/hooks/useCurrentUser\";\n\ninterface RequireLoginFunctionArgs {\n\tredirectTo?: string;\n}\n\ninterface HookReturnValue {\n\trequireLogin: (args?: RequireLoginFunctionArgs) => Promise<boolean>;\n\tcurrentUser: User | null | undefined;\n}\n\n// useRequireLogin returns a function that will navigate to the /login page\n// and then back to the given redirect path, if specified.\nconst useRequireLogin = (): HookReturnValue => {\n\tconst navigate = useNavigate();\n\tconst [currentUser] = useCurrentUser();\n\n\tconst requireLogin = useCallback(\n\t\t({ redirectTo }: RequireLoginFunctionArgs = {}): Promise<boolean> =>\n\t\t\tnavigate({\n\t\t\t\tpathname: \"/login\",\n\t\t\t\tquery: {\n\t\t\t\t\tredirectTo: redirectTo ?? window.location.pathname,\n\t\t\t\t},\n\t\t\t}),\n\t\t[navigate]\n\t);\n\n\treturn { requireLogin, currentUser };\n};\n\nexport default useRequireLogin;\n", "import { useEffect, useState } from \"react\";\nimport { useMutation, gql } from \"@apollo/client\";\n\nimport type { Person } from \"~/types\";\nimport { EntityFragments } from \"~/fragments\";\nimport EntityService from \"~/services/Entity\";\n\nconst CREATE_PERSON_MUTATION = gql`\n\tmutation CreatePerson($input: CreatePersonInput!) {\n\t\tcreatePerson(input: $input) {\n\t\t\t...Person\n\t\t}\n\t}\n\t${EntityFragments.person}\n`;\ninterface CreatePersonInput {\n\tslug: string;\n\taliases?: string;\n\tdescription?: string;\n\tfirstName: string;\n\tmiddleName?: string;\n\tlastName: string;\n}\ninterface Props {\n\tonSuccess?: (person: Person) => void;\n}\nconst CreatePersonForm = ({ onSuccess }: Props) => {\n\tconst [createPerson, { loading, error, data }] = useMutation<\n\t\t{ createPerson: Person },\n\t\t{ input: CreatePersonInput }\n\t>(CREATE_PERSON_MUTATION, {\n\t\terrorPolicy: \"all\",\n\t});\n\n\tconst [firstName, setFirstName] = useState(\"\");\n\tconst [middleName, setMiddleName] = useState(\"\");\n\tconst [lastName, setLastName] = useState(\"\");\n\tconst [slug, setSlug] = useState(\"\");\n\tconst [aliases, setAliases] = useState(\"\");\n\tconst [description, setDescription] = useState(\"\");\n\n\tuseEffect(() => {\n\t\tlet proposedSlug = \"\";\n\t\tif (firstName) {\n\t\t\tproposedSlug = firstName;\n\t\t}\n\t\tif (middleName) {\n\t\t\tproposedSlug = `${proposedSlug}-${middleName}`;\n\t\t}\n\t\tif (lastName) {\n\t\t\tproposedSlug = `${proposedSlug}-${lastName}`;\n\t\t}\n\t\tsetSlug(EntityService.cleanSlug(proposedSlug));\n\t}, [firstName, middleName, lastName]);\n\n\tconst onCreatePerson = (event) => {\n\t\tevent.preventDefault();\n\t\tconst input = {\n\t\t\tfirstName,\n\t\t\tmiddleName,\n\t\t\tlastName,\n\t\t\tslug,\n\t\t\taliases,\n\t\t\tdescription,\n\t\t};\n\t\tcreatePerson({ variables: { input } });\n\t};\n\n\tuseEffect(() => {\n\t\tif (data?.createPerson) {\n\t\t\tif (onSuccess) {\n\t\t\t\treturn onSuccess(data.createPerson);\n\t\t\t}\n\t\t\twindow.alert(\"Person created successfully!\");\n\t\t\tsetFirstName(\"\");\n\t\t\tsetMiddleName(\"\");\n\t\t\tsetLastName(\"\");\n\t\t\tsetSlug(\"\");\n\t\t\tsetAliases(\"\");\n\t\t\tsetDescription(\"\");\n\t\t}\n\t}, [data]);\n\n\treturn (\n\t\t<>\n\t\t\t<div className=\"flex flex-col align-start\">\n\t\t\t\t<form onSubmit={onCreatePerson}>\n\t\t\t\t\t<input\n\t\t\t\t\t\tplaceholder=\"First name\"\n\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\tclassName=\"mb-2\"\n\t\t\t\t\t\tvalue={firstName}\n\t\t\t\t\t\tonChange={(event) => setFirstName(event.target.value)}\n\t\t\t\t\t/>\n\t\t\t\t\t<input\n\t\t\t\t\t\tplaceholder=\"Middle name (optional)\"\n\t\t\t\t\t\tclassName=\"mb-2\"\n\t\t\t\t\t\tvalue={middleName}\n\t\t\t\t\t\tonChange={(event) => setMiddleName(event.target.value)}\n\t\t\t\t\t/>\n\t\t\t\t\t<input\n\t\t\t\t\t\tplaceholder=\"Last name\"\n\t\t\t\t\t\tclassName=\"mb-2\"\n\t\t\t\t\t\tvalue={lastName}\n\t\t\t\t\t\tonChange={(event) => setLastName(event.target.value)}\n\t\t\t\t\t/>\n\t\t\t\t\t<input\n\t\t\t\t\t\tplaceholder=\"URL slug (ie. kitty-hayes)\"\n\t\t\t\t\t\tclassName=\"mb-2\"\n\t\t\t\t\t\tvalue={slug}\n\t\t\t\t\t\tonChange={(event) => setSlug(event.target.value)}\n\t\t\t\t\t/>\n\t\t\t\t\t<div className=\"text-sm text-gray-400 mb-2 ml-2\">\n\t\t\t\t\t\tThis will be used for the URL of this Person, for example{\" \"}\n\t\t\t\t\t\t{`https://trad-archive.com/entities/people/${\n\t\t\t\t\t\t\tslug || \"kitty-hayes\"\n\t\t\t\t\t\t}`}\n\t\t\t\t\t</div>\n\t\t\t\t\t<input\n\t\t\t\t\t\tplaceholder=\"Aliases\"\n\t\t\t\t\t\tclassName=\"mb-2\"\n\t\t\t\t\t\tvalue={aliases}\n\t\t\t\t\t\tonChange={(event) => setAliases(event.target.value)}\n\t\t\t\t\t/>\n\t\t\t\t\t<div className=\"text-sm text-gray-400 mb-2 ml-2\">\n\t\t\t\t\t\tA list of comma-separated aliases for this Person. For example:{\" \"}\n\t\t\t\t\t\t<em>Tony D, The Tradfather, Tony from the County Calamari</em>\n\t\t\t\t\t</div>\n\t\t\t\t\t<textarea\n\t\t\t\t\t\tplaceholder=\"Description\"\n\t\t\t\t\t\tclassName=\"mb-2\"\n\t\t\t\t\t\tvalue={description}\n\t\t\t\t\t\trows={5}\n\t\t\t\t\t\tonChange={(event) => setDescription(event.target.value)}\n\t\t\t\t\t/>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\tclassName=\"btn mb-4 w-auto\"\n\t\t\t\t\t\tdisabled={loading}\n\t\t\t\t\t\tvalue=\"Create\"\n\t\t\t\t\t/>\n\t\t\t\t</form>\n\t\t\t</div>\n\n\t\t\t{error && <div className=\"text-red-600\">{error.message}</div>}\n\t\t</>\n\t);\n};\n\nexport default CreatePersonForm;\n", "import { useEffect, useState } from \"react\";\nimport { useMutation, gql } from \"@apollo/client\";\n\nimport type { Instrument } from \"~/types\";\nimport { EntityFragments } from \"~/fragments\";\nimport EntityService from \"~/services/Entity\";\n\nconst CREATE_INSTRUMENT_MUTATION = gql`\n\tmutation CreateInstrument($input: CreateInstrumentInput!) {\n\t\tcreateInstrument(input: $input) {\n\t\t\t...Instrument\n\t\t}\n\t}\n\t${EntityFragments.instrument}\n`;\ninterface CreateInstrumentInput {\n\tname: string;\n\tslug: string;\n\taliases?: string;\n\tdescription?: string;\n}\ninterface Props {\n\tonSuccess?: (instrument: Instrument) => void;\n}\nconst CreateInstrumentForm = ({ onSuccess }: Props) => {\n\tconst [createInstrument, { loading, error, data }] = useMutation<\n\t\t{ createInstrument: Instrument },\n\t\t{ input: CreateInstrumentInput }\n\t>(CREATE_INSTRUMENT_MUTATION, {\n\t\terrorPolicy: \"all\",\n\t});\n\n\tconst [name, setName] = useState(\"\");\n\tconst [slug, setSlug] = useState(\"\");\n\tconst [aliases, setAliases] = useState(\"\");\n\tconst [description, setDescription] = useState(\"\");\n\n\tuseEffect(() => {\n\t\tconst proposedSlug = EntityService.cleanSlug(name ?? \"\");\n\t\tsetSlug(proposedSlug);\n\t}, [name]);\n\n\tconst onCreateInstrument = (event) => {\n\t\tevent.preventDefault();\n\t\tconst input = {\n\t\t\tname,\n\t\t\tslug,\n\t\t\taliases,\n\t\t\tdescription,\n\t\t};\n\t\tcreateInstrument({ variables: { input } });\n\t};\n\n\tuseEffect(() => {\n\t\tif (data?.createInstrument) {\n\t\t\tif (onSuccess) {\n\t\t\t\treturn onSuccess(data.createInstrument);\n\t\t\t}\n\t\t\twindow.alert(\"Instrument created successfully!\");\n\t\t\tsetName(\"\");\n\t\t\tsetSlug(\"\");\n\t\t\tsetAliases(\"\");\n\t\t\tsetDescription(\"\");\n\t\t}\n\t}, [data]);\n\n\treturn (\n\t\t<>\n\t\t\t<div className=\"flex flex-col align-start\">\n\t\t\t\t<form onSubmit={onCreateInstrument}>\n\t\t\t\t\t<input\n\t\t\t\t\t\tplaceholder=\"Name\"\n\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\tclassName=\"mb-2\"\n\t\t\t\t\t\tvalue={name}\n\t\t\t\t\t\tonChange={(event) => setName(event.target.value)}\n\t\t\t\t\t/>\n\t\t\t\t\t<input\n\t\t\t\t\t\tplaceholder=\"URL slug (ie. button-accordion)\"\n\t\t\t\t\t\tclassName=\"mb-2\"\n\t\t\t\t\t\tvalue={slug}\n\t\t\t\t\t\tonChange={(event) => setSlug(event.target.value)}\n\t\t\t\t\t/>\n\t\t\t\t\t<div className=\"text-sm text-gray-400 mb-2 ml-2\">\n\t\t\t\t\t\tThis will be used for the URL of this Instrument, for example{\" \"}\n\t\t\t\t\t\t{`https://trad-archive.com/entities/instruments/${\n\t\t\t\t\t\t\tslug || \"button-accordion\"\n\t\t\t\t\t\t}`}\n\t\t\t\t\t</div>\n\t\t\t\t\t<input\n\t\t\t\t\t\tplaceholder=\"Aliases\"\n\t\t\t\t\t\tclassName=\"mb-2\"\n\t\t\t\t\t\tvalue={aliases}\n\t\t\t\t\t\tonChange={(event) => setAliases(event.target.value)}\n\t\t\t\t\t/>\n\t\t\t\t\t<div className=\"text-sm text-gray-400 mb-2 ml-2\">\n\t\t\t\t\t\tA list of comma-separated aliases for this Instrument. For example:{\" \"}\n\t\t\t\t\t\t<em>Stomach Steinway, Squeezebox, Belly Organ</em>\n\t\t\t\t\t</div>\n\t\t\t\t\t<textarea\n\t\t\t\t\t\tplaceholder=\"Description\"\n\t\t\t\t\t\tclassName=\"mb-2\"\n\t\t\t\t\t\tvalue={description}\n\t\t\t\t\t\trows={5}\n\t\t\t\t\t\tonChange={(event) => setDescription(event.target.value)}\n\t\t\t\t\t/>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\tclassName=\"btn mb-4 w-auto\"\n\t\t\t\t\t\tdisabled={loading}\n\t\t\t\t\t\tvalue=\"Create\"\n\t\t\t\t\t/>\n\t\t\t\t</form>\n\t\t\t</div>\n\n\t\t\t{error && <div className=\"text-red-600\">{error.message}</div>}\n\t\t</>\n\t);\n};\n\nexport default CreateInstrumentForm;\n", "import { useEffect, useState } from \"react\";\nimport { useMutation, gql } from \"@apollo/client\";\n\nimport type { Place } from \"~/types\";\nimport { EntityFragments } from \"~/fragments\";\nimport EntityService from \"~/services/Entity\";\n\nconst CREATE_PLACE_MUTATION = gql`\n\tmutation CreatePlace($input: CreatePlaceInput!) {\n\t\tcreatePlace(input: $input) {\n\t\t\t...Place\n\t\t}\n\t}\n\t${EntityFragments.place}\n`;\ninterface CreatePlaceInput {\n\tslug: string;\n\taliases?: string;\n\tdescription?: string;\n\tlatitude: number;\n\tlongitude: number;\n}\ninterface Props {\n\tonSuccess?: (place: Place) => void;\n}\nconst CreatePlaceForm = ({ onSuccess }: Props) => {\n\tconst [createPlace, { loading, error, data }] = useMutation<\n\t\t{ createPlace: Place },\n\t\t{ input: CreatePlaceInput }\n\t>(CREATE_PLACE_MUTATION, { errorPolicy: \"all\" });\n\n\tconst [name, setName] = useState(\"\");\n\tconst [slug, setSlug] = useState(\"\");\n\tconst [aliases, setAliases] = useState(\"\");\n\tconst [latitude, setLatitude] = useState(\"\");\n\tconst [longitude, setLongitude] = useState(\"\");\n\tconst [description, setDescription] = useState(\"\");\n\n\tuseEffect(() => {\n\t\tconst proposedSlug = EntityService.cleanSlug(name ?? \"\");\n\t\tsetSlug(proposedSlug);\n\t}, [name]);\n\n\tconst onCreatePlace = async (event) => {\n\t\tevent.preventDefault();\n\t\tconst input = {\n\t\t\tname,\n\t\t\tslug,\n\t\t\taliases,\n\t\t\tlatitude: parseFloat(latitude),\n\t\t\tlongitude: parseFloat(longitude),\n\t\t\tdescription,\n\t\t};\n\t\ttry {\n\t\t\tawait createPlace({ variables: { input } });\n\t\t} catch {\n\t\t\t//\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\tif (data?.createPlace) {\n\t\t\tif (onSuccess) {\n\t\t\t\treturn onSuccess(data.createPlace);\n\t\t\t}\n\t\t\twindow.alert(\"Place created successfully!\");\n\t\t\tsetName(\"\");\n\t\t\tsetSlug(\"\");\n\t\t\tsetAliases(\"\");\n\t\t\tsetLatitude(\"\");\n\t\t\tsetLongitude(\"\");\n\t\t\tsetDescription(\"\");\n\t\t}\n\t}, [data]);\n\n\treturn (\n\t\t<>\n\t\t\t<div className=\"flex flex-col align-start\">\n\t\t\t\t<form onSubmit={onCreatePlace}>\n\t\t\t\t\t<input\n\t\t\t\t\t\tplaceholder=\"Name\"\n\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\tclassName=\"mb-2\"\n\t\t\t\t\t\tvalue={name}\n\t\t\t\t\t\tonChange={(event) => setName(event.target.value)}\n\t\t\t\t\t/>\n\t\t\t\t\t<input\n\t\t\t\t\t\tplaceholder=\"URL slug (ie. galway-city)\"\n\t\t\t\t\t\tclassName=\"mb-2\"\n\t\t\t\t\t\tvalue={slug}\n\t\t\t\t\t\tonChange={(event) => setSlug(event.target.value)}\n\t\t\t\t\t/>\n\t\t\t\t\t<div className=\"text-sm text-gray-400 mb-2 ml-2\">\n\t\t\t\t\t\tThis will be used for the URL of this Place, for example{\" \"}\n\t\t\t\t\t\t{`https://trad-archive.com/entities/places/${\n\t\t\t\t\t\t\tslug || \"galway-city\"\n\t\t\t\t\t\t}`}\n\t\t\t\t\t</div>\n\t\t\t\t\t<input\n\t\t\t\t\t\tplaceholder=\"Aliases\"\n\t\t\t\t\t\tclassName=\"mb-2\"\n\t\t\t\t\t\tvalue={aliases}\n\t\t\t\t\t\tonChange={(event) => setAliases(event.target.value)}\n\t\t\t\t\t/>\n\t\t\t\t\t<div className=\"text-sm text-gray-400 mb-2 ml-2\">\n\t\t\t\t\t\tA list of comma-separated aliases for this Place. For example:{\" \"}\n\t\t\t\t\t\t<em>Gaillimh, The City of Tribes</em>\n\t\t\t\t\t</div>\n\t\t\t\t\t<input\n\t\t\t\t\t\tplaceholder=\"Latitude\"\n\t\t\t\t\t\tclassName=\"mb-2\"\n\t\t\t\t\t\tvalue={latitude}\n\t\t\t\t\t\tonChange={(event) => setLatitude(event.target.value)}\n\t\t\t\t\t/>\n\t\t\t\t\t<input\n\t\t\t\t\t\tplaceholder=\"Longitude\"\n\t\t\t\t\t\tclassName=\"mb-2\"\n\t\t\t\t\t\tvalue={longitude}\n\t\t\t\t\t\tonChange={(event) => setLongitude(event.target.value)}\n\t\t\t\t\t/>\n\t\t\t\t\t<div className=\"text-sm text-gray-400 mb-2 ml-2\">\n\t\t\t\t\t\tTo find the latitude and longitude, visit{\" \"}\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\thref={`https://www.google.com/maps/place/${name}`}\n\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\trel=\"noreferrer\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{name ? `${name} on ` : \"\"}Google Maps (will open in new tab)\n\t\t\t\t\t\t</a>{\" \"}\n\t\t\t\t\t\tand right-click on the exact location you'd like. You'll see numbers\n\t\t\t\t\t\tlike \"53.2838294,-9.1888286\". Click to copy them to your clipboard.\n\t\t\t\t\t\tThe first one is latitude, and the second is longitude.\n\t\t\t\t\t</div>\n\t\t\t\t\t<textarea\n\t\t\t\t\t\tplaceholder=\"Description\"\n\t\t\t\t\t\tclassName=\"mb-2\"\n\t\t\t\t\t\tvalue={description}\n\t\t\t\t\t\trows={5}\n\t\t\t\t\t\tonChange={(event) => setDescription(event.target.value)}\n\t\t\t\t\t/>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\tclassName=\"btn mb-4 w-auto\"\n\t\t\t\t\t\tdisabled={loading}\n\t\t\t\t\t\tvalue=\"Create\"\n\t\t\t\t\t/>\n\t\t\t\t</form>\n\t\t\t</div>\n\n\t\t\t{error && <div className=\"text-red-600\">{error.message}</div>}\n\t\t</>\n\t);\n};\n\nexport default CreatePlaceForm;\n", "import { useEffect, useState } from \"react\";\nimport { useMutation, gql } from \"@apollo/client\";\n\nimport type { Collection } from \"~/types\";\nimport { EntityFragments } from \"~/fragments\";\nimport EntityService from \"~/services/Entity\";\n\nconst CREATE_COLLECTION_MUTATION = gql`\n\tmutation CreateCollection($input: CreateCollectionInput!) {\n\t\tcreateCollection(input: $input) {\n\t\t\t...Collection\n\t\t}\n\t}\n\t${EntityFragments.collection}\n`;\n\ninterface CreateCollectionInput {\n\tslug: string;\n\taliases?: string;\n\tdescription?: string;\n}\ninterface Props {\n\tonSuccess?: (collection: Collection) => void;\n}\n\nconst CreateCollectionForm = ({ onSuccess }: Props) => {\n\tconst [createCollection, { loading, error, data }] = useMutation<\n\t\t{ createCollection: Collection },\n\t\t{ input: CreateCollectionInput }\n\t>(CREATE_COLLECTION_MUTATION, { errorPolicy: \"all\" });\n\n\tconst [name, setName] = useState(\"\");\n\tconst [slug, setSlug] = useState(\"\");\n\tconst [aliases, setAliases] = useState(\"\");\n\tconst [description, setDescription] = useState(\"\");\n\n\tuseEffect(() => {\n\t\tconst proposedSlug = EntityService.cleanSlug(name ?? \"\");\n\t\tsetSlug(proposedSlug);\n\t}, [name]);\n\n\tconst onCreateCollection = async (event) => {\n\t\tevent.preventDefault();\n\t\tconst input = {\n\t\t\tname,\n\t\t\tslug,\n\t\t\taliases,\n\t\t\tdescription,\n\t\t};\n\t\ttry {\n\t\t\tawait createCollection({ variables: { input } });\n\t\t} catch {\n\t\t\t//\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\tif (data?.createCollection) {\n\t\t\tif (onSuccess) {\n\t\t\t\treturn onSuccess(data.createCollection);\n\t\t\t}\n\t\t\twindow.alert(\"Collection created successfully!\");\n\t\t\tsetName(\"\");\n\t\t\tsetSlug(\"\");\n\t\t\tsetAliases(\"\");\n\t\t\tsetDescription(\"\");\n\t\t}\n\t}, [data]);\n\n\treturn (\n\t\t<>\n\t\t\t<div className=\"flex flex-col align-start\">\n\t\t\t\t<div className=\"text-gray-500 mb-8\">\n\t\t\t\t\tA Collection is a logical grouping of other entities. For example,\n\t\t\t\t\t\"O'Neill's Music of Ireland\" would be a Collection of Tunes. Or the\n\t\t\t\t\t\"Alen MacWeeney Collection\" would be a Collection of AudioItems.\n\t\t\t\t</div>\n\n\t\t\t\t<form onSubmit={onCreateCollection}>\n\t\t\t\t\t<input\n\t\t\t\t\t\tplaceholder=\"Name\"\n\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\tclassName=\"mb-2\"\n\t\t\t\t\t\tvalue={name}\n\t\t\t\t\t\tonChange={(event) => setName(event.target.value)}\n\t\t\t\t\t/>\n\t\t\t\t\t<input\n\t\t\t\t\t\tplaceholder=\"URL slug (ie. alan-macweeney-collection)\"\n\t\t\t\t\t\tclassName=\"mb-2\"\n\t\t\t\t\t\tvalue={slug}\n\t\t\t\t\t\tonChange={(event) => setSlug(event.target.value)}\n\t\t\t\t\t/>\n\t\t\t\t\t<div className=\"text-sm text-gray-400 mb-2 ml-2\">\n\t\t\t\t\t\tThis will be used for the URL of this Collection, for example{\" \"}\n\t\t\t\t\t\t{`https://trad-archive.com/entities/collections/${\n\t\t\t\t\t\t\tslug || \"alan-macweeney-collection\"\n\t\t\t\t\t\t}`}\n\t\t\t\t\t</div>\n\t\t\t\t\t<input\n\t\t\t\t\t\tplaceholder=\"Aliases\"\n\t\t\t\t\t\tclassName=\"mb-2\"\n\t\t\t\t\t\tvalue={aliases}\n\t\t\t\t\t\tonChange={(event) => setAliases(event.target.value)}\n\t\t\t\t\t/>\n\t\t\t\t\t<div className=\"text-sm text-gray-400 mb-2 ml-2\">\n\t\t\t\t\t\tA list of comma-separated aliases for this Collection. For example:{\" \"}\n\t\t\t\t\t\t<em>O'Neill's, 1000 Fiddle Tunes</em>\n\t\t\t\t\t</div>\n\t\t\t\t\t<textarea\n\t\t\t\t\t\tplaceholder=\"Description\"\n\t\t\t\t\t\tclassName=\"mb-2\"\n\t\t\t\t\t\tvalue={description}\n\t\t\t\t\t\trows={5}\n\t\t\t\t\t\tonChange={(event) => setDescription(event.target.value)}\n\t\t\t\t\t/>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\tclassName=\"btn mb-4 w-auto\"\n\t\t\t\t\t\tdisabled={loading}\n\t\t\t\t\t\tvalue=\"Create\"\n\t\t\t\t\t/>\n\t\t\t\t</form>\n\t\t\t</div>\n\n\t\t\t{error && <div className=\"text-red-600\">{error.message}</div>}\n\t\t</>\n\t);\n};\n\nexport default CreateCollectionForm;\n", "export default function Footer() {\n\treturn (\n\t\t<div className=\"flex flex-col items-start w-full p-4 pt-7 pb-24 bg-gray-900 text-gray-100\">\n\t\t\t<div className=\"mb-4\">\n\t\t\t\tThis project is a collaboration between the{\" \"}\n\t\t\t\t<a href=\"https://www.itma.ie/\" target=\"_blank\">\n\t\t\t\t\tIrish Traditional Music Archive{\" \"}\n\t\t\t\t\t<i className=\"material-icons text-sm\">launch</i>\n\t\t\t\t</a>{\" \"}\n\t\t\t\tand{\" \"}\n\t\t\t\t<a href=\"https://dangurney.net\" target=\"_blank\">\n\t\t\t\t\tDan Gurney <i className=\"material-icons text-sm\">launch</i>\n\t\t\t\t</a>\n\t\t\t</div>\n\n\t\t\t<div className=\"mb-4\">\n\t\t\t\tSpecial thanks to{\" \"}\n\t\t\t\t<a href=\"https://thesession.org/\" target=\"_blank\">\n\t\t\t\t\tThe Session <i className=\"material-icons text-sm\">launch</i>\n\t\t\t\t</a>{\" \"}\n\t\t\t\tfor providing tune data.\n\t\t\t</div>\n\n\t\t\t<div className=\"mb-4\">\n\t\t\t\tAll of the code is open source on{\" \"}\n\t\t\t\t<a href=\"https://github.com/dgurns/trad-archive\" target=\"_blank\">\n\t\t\t\t\tGitHub <i className=\"material-icons text-sm\">launch</i>\n\t\t\t\t</a>\n\t\t\t\t. We welcome community contributors.\n\t\t\t</div>\n\n\t\t\t<div>\n\t\t\t\t<a\n\t\t\t\t\thref=\"https://github.com/dgurns/trad-archive/discussions\"\n\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t>\n\t\t\t\t\tShare feedback or report a bug{\" \"}\n\t\t\t\t\t<i className=\"material-icons text-sm\">launch</i>\n\t\t\t\t</a>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n", "import { useState } from \"react\";\nimport { useNavigate } from \"@remix-run/react\";\nimport { useQuery, useMutation, gql } from \"@apollo/client\";\n\nimport type { Submission } from \"~/types\";\nimport { SubmissionFragments } from \"~/fragments\";\n\nimport Layout from \"~/components/Layout\";\nimport RequireUser from \"~/components/RequireUser\";\nimport Breadcrumb from \"~/components/Breadcrumb\";\nimport LoadingBlock from \"~/components/LoadingBlock\";\nimport FileUploader from \"~/components/FileUploader\";\nimport DateTimeService from \"~/services/DateTime\";\n\nconst SUBMISSION = gql`\n\tquery Submission($input: SubmissionInput!) {\n\t\tsubmission(input: $input) {\n\t\t\t...Submission\n\t\t}\n\t}\n\t${SubmissionFragments.submission}\n`;\n\nconst CREATE_PRESIGNED_FILE_UPLOAD_URLS = gql`\n\tmutation CreatePresignedFileUploadUrls(\n\t\t$input: CreatePresignedFileUploadUrlsInput!\n\t) {\n\t\tcreatePresignedFileUploadUrls(input: $input) {\n\t\t\tfilename\n\t\t\tpresignedUploadUrl\n\t\t}\n\t}\n`;\n\ninterface QueryData {\n\tsubmission: Submission;\n}\ninterface QueryVars {\n\tinput: {\n\t\tid: string;\n\t};\n}\ninterface MutationData {\n\tcreatePresignedFileUploadUrls: Array<{\n\t\tfilename: string;\n\t\tpresignedUploadUrl: string;\n\t}>;\n}\ninterface MutationVars {\n\tinput: {\n\t\tsubmissionId: string;\n\t\tfilenames: string[];\n\t};\n}\n\nconst SubmissionsViewByIdUpload = () => {\n\tconst navigate = useNavigate();\n\tconst { id } = navigate.query;\n\tconst submissionId = typeof id === \"string\" ? id : undefined;\n\n\tconst { data, error } = useQuery<QueryData, QueryVars>(SUBMISSION, {\n\t\tvariables: { input: { id: submissionId } },\n\t\tskip: !submissionId,\n\t});\n\n\tconst [files, setFiles] = useState<File[]>([]);\n\tconst [uploadQueue, setUploadQueue] =\n\t\tuseState<Array<{ file: File; uploadUrl: string }>>();\n\n\tconst [getPresignedUrls] = useMutation<MutationData, MutationVars>(\n\t\tCREATE_PRESIGNED_FILE_UPLOAD_URLS\n\t);\n\n\tconst onUploadClicked = async () => {\n\t\tif (!submissionId) {\n\t\t\treturn;\n\t\t}\n\t\ttry {\n\t\t\t// Prepend filenames with their size to avoid collisions, for example\n\t\t\t// multiple \"Track1.mp3\"\n\t\t\tconst filenamesForUrls = files.map((f) => `${f.size}_${f.name}`);\n\t\t\tconst response = await getPresignedUrls({\n\t\t\t\tvariables: { input: { submissionId, filenames: filenamesForUrls } },\n\t\t\t});\n\t\t\tconst uploadUrls = response.data.createPresignedFileUploadUrls;\n\t\t\tif (uploadUrls.length !== files.length) {\n\t\t\t\tthrow new Error(\"Unexpected number of presigned upload URLs\");\n\t\t\t}\n\t\t\tsetUploadQueue(\n\t\t\t\tfiles.map((f, index) => ({\n\t\t\t\t\tfile: f,\n\t\t\t\t\tuploadUrl: uploadUrls[index].presignedUploadUrl,\n\t\t\t\t}))\n\t\t\t);\n\t\t} catch {\n\t\t\talert(\"Error uploading files. Please try again.\");\n\t\t}\n\t};\n\n\tif (!data) {\n\t\treturn (\n\t\t\t<Layout>\n\t\t\t\t<RequireUser>\n\t\t\t\t\t{error ? (\n\t\t\t\t\t\t<div className=\"text-red-600\">\n\t\t\t\t\t\t\t{error.graphQLErrors.map((e) => e.message).join(\", \")}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<LoadingBlock />\n\t\t\t\t\t)}\n\t\t\t\t</RequireUser>\n\t\t\t</Layout>\n\t\t);\n\t}\n\n\tconst onFilesSelected = (event) => {\n\t\t// Add any new files to the array in state\n\t\tconst updatedFiles = [...files];\n\t\tconst selected = Array.from<File>(event.target.files);\n\t\tfor (const s of selected) {\n\t\t\tif (\n\t\t\t\t!updatedFiles.find(\n\t\t\t\t\t(f) =>\n\t\t\t\t\t\tf.name === s.name &&\n\t\t\t\t\t\tf.size === s.size &&\n\t\t\t\t\t\tf.lastModified === s.lastModified\n\t\t\t\t)\n\t\t\t) {\n\t\t\t\tupdatedFiles.push(s);\n\t\t\t}\n\t\t}\n\t\tsetFiles(updatedFiles);\n\t};\n\n\tconst onRemove = (file: File) => {\n\t\tsetFiles(\n\t\t\tfiles.filter((f) => {\n\t\t\t\tif (\n\t\t\t\t\tf.name === file.name &&\n\t\t\t\t\tf.size === file.size &&\n\t\t\t\t\tf.lastModified === file.lastModified\n\t\t\t\t) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t})\n\t\t);\n\t};\n\n\tconst onUploadSuccess = () => {\n\t\talert(\"Files uploaded successfully!\");\n\t\tnavigate(\"/account/submissions\");\n\t};\n\n\treturn (\n\t\t<Layout>\n\t\t\t<RequireUser>\n\t\t\t\t<Breadcrumb\n\t\t\t\t\titems={[\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: \"Account\",\n\t\t\t\t\t\t\thref: \"/account\",\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{ label: \"Submissions\", href: \"/account/submissions\" },\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: DateTimeService.formatDateYearTime(\n\t\t\t\t\t\t\t\tdata.submission.createdAt,\n\t\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{ label: \"Upload Files\" },\n\t\t\t\t\t]}\n\t\t\t\t\tclassName=\"mb-6\"\n\t\t\t\t/>\n\n\t\t\t\t<div className=\"flex-col\">\n\t\t\t\t\t{!uploadQueue ? (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<label htmlFor=\"file-picker\">\n\t\t\t\t\t\t\t\t<div className=\"btn-text mb-4 cursor-pointer\">\n\t\t\t\t\t\t\t\t\t{files.length === 0 ? \"Choose Files\" : \"Choose More Files\"}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tid=\"file-picker\"\n\t\t\t\t\t\t\t\ttype=\"file\"\n\t\t\t\t\t\t\t\tmultiple\n\t\t\t\t\t\t\t\tonChange={onFilesSelected}\n\t\t\t\t\t\t\t\tstyle={{ display: \"none\" }}\n\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t{files.length > 0 && (\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t<ul className=\"mb-6\">\n\t\t\t\t\t\t\t\t\t\t{files.map((f, index) => (\n\t\t\t\t\t\t\t\t\t\t\t<li key={index}>\n\t\t\t\t\t\t\t\t\t\t\t\t{f.name}{\" \"}\n\t\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn-text pl-2\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => onRemove(f)}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\tRemove\n\t\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t\t<button className=\"btn block\" onClick={onUploadClicked}>\n\t\t\t\t\t\t\t\t\t\tUpload {files.length} File{files.length === 1 ? \"\" : \"s\"}\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<FileUploader\n\t\t\t\t\t\t\tfilesWithUploadUrls={uploadQueue}\n\t\t\t\t\t\t\tonSuccess={onUploadSuccess}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</RequireUser>\n\t\t</Layout>\n\t);\n};\n\nexport default SubmissionsViewByIdUpload;\n", "interface Props {\n\tchildren: React.ReactNode;\n}\n\nconst Layout = ({ children }: Props) => {\n\treturn (\n\t\t<div className=\"flex flex-col justify-start items-center\">\n\t\t\t<div className=\"w-full min-h-screen lg:max-w-5xl px-4 pb-44\">\n\t\t\t\t{children}\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default Layout;\n", "import { useNavigate } from \"@remix-run/react\";\nimport useCurrentUser from \"~/hooks/useCurrentUser\";\n\ninterface Props {\n\tchildren: React.ReactNode | React.ReactNode[];\n\trequireUserId?: string;\n}\n\nconst RequireUser = ({\n\tchildren,\n\trequireUserId,\n}: Props): React.ReactElement | null => {\n\tconst navigate = useNavigate();\n\n\tconst [currentUser, { data, error }] = useCurrentUser();\n\n\tif (!data && !error) {\n\t\treturn <div>Checking for logged-in user...</div>;\n\t} else if (requireUserId && currentUser?.id !== requireUserId) {\n\t\treturn <div>You do not have access to this page</div>;\n\t} else if (currentUser) {\n\t\treturn <>{children}</>;\n\t} else if (typeof window !== \"undefined\") {\n\t\tnavigate({\n\t\t\tpathname: \"/login\",\n\t\t\tquery: { redirectTo: window.location.pathname },\n\t\t});\n\t\treturn null;\n\t}\n\n\treturn null;\n};\n\nexport default RequireUser;\n", "import { Link } from \"@remix-run/react\";\n\ninterface BreadcrumbItem {\n\tlabel: string;\n\thref?: string;\n}\n\ninterface Props {\n\titems: BreadcrumbItem[];\n\tclassName?: string;\n}\n\nconst Breadcrumb = ({ items = [], className }: Props) => {\n\tif (items.length === 0) {\n\t\treturn null;\n\t}\n\tif (items.length === 1) {\n\t\treturn <h1 className={className ?? \"\"}>{items[0].label}</h1>;\n\t}\n\n\tconst subItems = items.slice(0, items.length - 1);\n\tconst finalItem = items[items.length - 1];\n\n\treturn (\n\t\t<div className={`flex flex-col ${className ?? \"\"}`}>\n\t\t\t<div className=\"flex flex-row items-center mb-1\">\n\t\t\t\t{subItems.map(({ label, href }, index) => (\n\t\t\t\t\t<div className=\"flex\" key={index}>\n\t\t\t\t\t\t{href ? (\n\t\t\t\t\t\t\t<Link to={href}>{label}</Link>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<span className=\"text-gray-500\">{label}</span>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<i className=\"material-icons text-gray-500 text-base ml-1\">\n\t\t\t\t\t\t\tkeyboard_arrow_right\n\t\t\t\t\t\t</i>\n\t\t\t\t\t</div>\n\t\t\t\t))}\n\t\t\t</div>\n\n\t\t\t<h1>{finalItem.label}</h1>\n\t\t</div>\n\t);\n};\n\nexport default Breadcrumb;\n", "interface Props {\n\tclassName?: string;\n}\n\nconst LoadingBlock = ({ className }: Props) => (\n\t<div\n\t\tclassName={`flex flex-col justify-start items-start w-full ${\n\t\t\tclassName ?? \"\"\n\t\t}`}\n\t>\n\t\t<div className=\"flex h-5 w-2/3 rounded bg-gray-300 mb-4 animate-pulse\" />\n\t\t<div className=\"flex h-12 w-full rounded bg-gray-300 mb-4 animate-pulse\" />\n\t\t<div className=\"flex h-5 w-5/12 rounded bg-gray-300 mb-4 animate-pulse\" />\n\t</div>\n);\n\nexport default LoadingBlock;\n", "import { useEffect, useRef, useState } from \"react\";\nimport LoadingCircle from \"~/components/LoadingCircle\";\n\ninterface FileWithUploadUrl {\n\tfile: File;\n\tuploadUrl: string;\n}\ninterface Props {\n\tfilesWithUploadUrls: FileWithUploadUrl[];\n\tonSuccess?: () => void;\n}\nconst FileUploader = ({ filesWithUploadUrls, onSuccess }: Props) => {\n\tconst queue = useRef<{\n\t\tpending: FileWithUploadUrl[];\n\t\tinProgress: FileWithUploadUrl[];\n\t\tfailed: FileWithUploadUrl[];\n\t\tsucceeded: FileWithUploadUrl[];\n\t}>({\n\t\tpending: filesWithUploadUrls,\n\t\tinProgress: [],\n\t\tfailed: [],\n\t\tsucceeded: [],\n\t});\n\tconst [ticker, setTicker] = useState(0);\n\n\tconst moveFromPendingToInProgress = (file: FileWithUploadUrl) => {\n\t\tconst updated = { ...queue.current };\n\t\tupdated.pending = updated.pending.filter(\n\t\t\t(f) => f.uploadUrl !== file.uploadUrl\n\t\t);\n\t\tupdated.inProgress = [...updated.inProgress, file];\n\t\tqueue.current = updated;\n\t};\n\tconst moveFromInProgressToSucceeded = (file: FileWithUploadUrl) => {\n\t\tconst updated = { ...queue.current };\n\t\tupdated.inProgress = updated.inProgress.filter(\n\t\t\t(f) => f.uploadUrl !== file.uploadUrl\n\t\t);\n\t\tupdated.succeeded = [...updated.succeeded, file];\n\t\tqueue.current = updated;\n\t};\n\tconst moveFromInProgressToFailed = (file: FileWithUploadUrl) => {\n\t\tconst updated = { ...queue.current };\n\t\tupdated.inProgress = updated.inProgress.filter(\n\t\t\t(f) => f.uploadUrl !== file.uploadUrl\n\t\t);\n\t\tupdated.failed = [...updated.failed, file];\n\t\tqueue.current = updated;\n\t};\n\n\tconst uploadFile = async (f: FileWithUploadUrl) => {\n\t\ttry {\n\t\t\tmoveFromPendingToInProgress(f);\n\t\t\tawait fetch(f.uploadUrl, {\n\t\t\t\tmethod: \"PUT\",\n\t\t\t\tbody: f.file,\n\t\t\t});\n\t\t\tmoveFromInProgressToSucceeded(f);\n\t\t} catch {\n\t\t\tmoveFromInProgressToFailed(f);\n\t\t}\n\t};\n\n\tconst checkForFilesToUpload = () => {\n\t\tif (queue.current.succeeded.length === filesWithUploadUrls.length) {\n\t\t\tif (onSuccess) {\n\t\t\t\tsetTimeout(() => onSuccess(), 500);\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\t\tif (\n\t\t\tqueue.current.pending.length === 0 ||\n\t\t\tqueue.current.inProgress.length >= 2\n\t\t) {\n\t\t\treturn;\n\t\t}\n\t\tuploadFile(queue.current.pending[0]);\n\t};\n\n\tuseEffect(() => {\n\t\tconst interval = setInterval(checkForFilesToUpload, 1000);\n\t\treturn () => clearInterval(interval);\n\t}, [checkForFilesToUpload]);\n\n\t// Use the ticker to force re-renders of upload status\n\tuseEffect(() => {\n\t\tconst interval = setInterval(() => setTicker(ticker + 1), 1000);\n\t\treturn () => clearInterval(interval);\n\t}, [ticker]);\n\n\tconst renderFileStatus = (file: FileWithUploadUrl) => {\n\t\tif (queue.current.inProgress.includes(file)) {\n\t\t\treturn <LoadingCircle />;\n\t\t} else if (queue.current.failed.includes(file)) {\n\t\t\treturn <i className=\"material-icons text-red-600\">error</i>;\n\t\t} else if (queue.current.succeeded.includes(file)) {\n\t\t\treturn <i className=\"material-icons text-teal-600\">check</i>;\n\t\t} else {\n\t\t\treturn <i className=\"material-icons text-gray-500\">schedule</i>;\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className=\"flex flex-col\">\n\t\t\t<ul className=\"flex flex-col\" key={ticker}>\n\t\t\t\t{filesWithUploadUrls.map((f, i) => (\n\t\t\t\t\t<li className=\"flex flex-row\" key={i}>\n\t\t\t\t\t\t<div className=\"flex flex-1\">{f.file.name}</div>\n\t\t\t\t\t\t{renderFileStatus(f)}\n\t\t\t\t\t</li>\n\t\t\t\t))}\n\t\t\t</ul>\n\t\t</div>\n\t);\n};\n\nexport default FileUploader;\n", "import format from \"date-fns/format\";\nimport isToday from \"date-fns/isToday\";\nimport isYesterday from \"date-fns/isYesterday\";\n\n/**\n * @param {number} inputSeconds\n * \t- Number of seconds to convert to a duration\n * @returns {string}\n * \t- Readable duration in the format 10:01:01 (hours:minutes:seconds)\n */\nconst formatSecondsAsDuration = (inputSeconds: number) => {\n\tconst hours = Math.floor(inputSeconds / (60 * 60));\n\tconst minutes = Math.floor((inputSeconds - hours * 60 * 60) / 60);\n\tconst minutesAsTwoCharString = minutes < 10 ? `0${minutes}` : `${minutes}`;\n\tconst seconds = inputSeconds - hours * 60 * 60 - minutes * 60;\n\tconst secondsAsTwoCharString = seconds < 10 ? `0${seconds}` : `${seconds}`;\n\tlet output = `${minutes}:${secondsAsTwoCharString}`;\n\tif (hours > 0) {\n\t\toutput = `${hours}:${minutesAsTwoCharString}:${secondsAsTwoCharString}`;\n\t}\n\treturn output;\n};\n\nconst formatDateYear = (\n\tdate?: Date | number | string,\n\tshouldCapitalize: boolean | undefined = false\n) => {\n\tif (!date) {\n\t\treturn \"\";\n\t}\n\tconst dateObject = date instanceof Date ? date : new Date(date);\n\tif (isToday(dateObject)) {\n\t\treturn format(dateObject, `'${shouldCapitalize ? \"T\" : \"t\"}oday`);\n\t} else if (isYesterday(dateObject)) {\n\t\treturn format(dateObject, `'${shouldCapitalize ? \"Y\" : \"y\"}esterday`);\n\t} else {\n\t\treturn format(new Date(date), `LLLL d, y`);\n\t}\n};\n\nconst formatDateYearTime = (\n\tdate?: Date | number | string,\n\tshouldCapitalize: boolean | undefined = false\n) => {\n\tif (!date) {\n\t\treturn \"\";\n\t}\n\tconst dateObject = date instanceof Date ? date : new Date(date);\n\tif (isToday(dateObject)) {\n\t\treturn format(\n\t\t\tdateObject,\n\t\t\t`'${shouldCapitalize ? \"T\" : \"t\"}oday at' h:mm a`\n\t\t);\n\t} else if (isYesterday(dateObject)) {\n\t\treturn format(\n\t\t\tdateObject,\n\t\t\t`'${shouldCapitalize ? \"Y\" : \"y\"}esterday at' h:mm a`\n\t\t);\n\t} else {\n\t\treturn format(new Date(date), `LLLL d, y 'at' h:mm a`);\n\t}\n};\n\nconst DateTimeService = {\n\tformatSecondsAsDuration,\n\tformatDateYear,\n\tformatDateYearTime,\n};\nexport default DateTimeService;\n", "import { useEffect, useMemo, useState } from \"react\";\nimport { Link } from \"@remix-run/react\";\nimport { useQuery, useMutation, gql } from \"@apollo/client\";\nimport compareDesc from \"date-fns/compareDesc\";\n\nimport { VerificationRequestFragments } from \"~/fragments\";\nimport {\n\tisApprovedVerificationRequest,\n\tisDeniedVerificationRequest,\n\tisPendingVerificationRequest,\n\tVerificationRequest,\n\tVerificationRequestStatus,\n} from \"~/types\";\nimport EntityService from \"~/services/Entity\";\nimport DateTimeService from \"~/services/DateTime\";\n\nimport Layout from \"~/components/Layout\";\nimport LoadingBlock from \"~/components/LoadingBlock\";\nimport RequireAdmin from \"~/components/RequireAdmin\";\nimport Breadcrumb from \"~/components/Breadcrumb\";\n\nconst VERIFICATION_REQUESTS = gql`\n\tquery VerificationRequests($input: VerificationRequestsInput!) {\n\t\tverificationRequests(input: $input) {\n\t\t\t...VerificationRequest\n\t\t}\n\t}\n\t${VerificationRequestFragments.verificationRequest}\n`;\n\nconst UPDATE_VERIFICATION_REQUEST_STATUS = gql`\n\tmutation UpdateVerificationRequestStatus(\n\t\t$input: UpdateVerificationRequestStatusInput!\n\t) {\n\t\tupdateVerificationRequestStatus(input: $input) {\n\t\t\t...VerificationRequest\n\t\t}\n\t}\n\t${VerificationRequestFragments.verificationRequest}\n`;\n\ninterface QueryData {\n\tverificationRequests: VerificationRequest[];\n}\ninterface QueryVariables {\n\tinput: {\n\t\ttake?: number;\n\t\tskip?: number;\n\t\tstatus?: VerificationRequestStatus;\n\t};\n}\ninterface MutationData {\n\tupdateVerificationRequestStatus: VerificationRequest;\n}\ninterface MutationVariables {\n\tinput: {\n\t\tid: string;\n\t\tstatus: VerificationRequestStatus;\n\t};\n}\n\nconst VerificationRequests = () => {\n\tconst [statusToFetch, setStatusToFetch] = useState<\n\t\tVerificationRequestStatus | undefined\n\t>(VerificationRequestStatus.Pending);\n\n\tconst onChangeStatusToFetch = (event) => {\n\t\tconst updatedStatus = event.target.value;\n\t\tif (!updatedStatus) {\n\t\t\tsetStatusToFetch(undefined);\n\t\t} else {\n\t\t\tsetStatusToFetch(event.target.value as VerificationRequestStatus);\n\t\t}\n\t};\n\n\tconst {\n\t\tloading: verificationRequestsLoading,\n\t\tdata: verificationRequestsData,\n\t\terror: verificationRequestsError,\n\t} = useQuery<QueryData, QueryVariables>(VERIFICATION_REQUESTS, {\n\t\t// Take a high number until we implement pagination\n\t\tvariables: { input: { take: 200, skip: 0, status: statusToFetch } },\n\t\tfetchPolicy: \"network-only\",\n\t});\n\n\tconst verificationRequests = useMemo(() => {\n\t\tif (!verificationRequestsData?.verificationRequests) {\n\t\t\treturn [];\n\t\t}\n\t\tconst sortedVerificationRequests = [\n\t\t\t...verificationRequestsData.verificationRequests,\n\t\t];\n\t\tsortedVerificationRequests.sort((a, b) =>\n\t\t\tcompareDesc(new Date(a.createdAt), new Date(b.createdAt))\n\t\t);\n\t\treturn sortedVerificationRequests;\n\t}, [verificationRequestsData]);\n\n\tconst [\n\t\tupdateVerificationRequestStatus,\n\t\t{\n\t\t\tloading: updateVerificationRequestStatusLoading,\n\t\t\terror: updateVerificationRequestStatusError,\n\t\t},\n\t] = useMutation<MutationData, MutationVariables>(\n\t\tUPDATE_VERIFICATION_REQUEST_STATUS,\n\t\t{ errorPolicy: \"all\" }\n\t);\n\n\tconst onApproveClicked = (id: string) => {\n\t\tupdateVerificationRequestStatus({\n\t\t\tvariables: { input: { id, status: VerificationRequestStatus.Approved } },\n\t\t});\n\t};\n\n\tconst onDenyClicked = (id: string) => {\n\t\tupdateVerificationRequestStatus({\n\t\t\tvariables: { input: { id, status: VerificationRequestStatus.Denied } },\n\t\t});\n\t};\n\n\tuseEffect(() => {\n\t\tif (updateVerificationRequestStatusError) {\n\t\t\twindow.alert(\n\t\t\t\t\"Error updating Verification Request status. Please reload the page and try again.\"\n\t\t\t);\n\t\t}\n\t}, [updateVerificationRequestStatusError]);\n\n\treturn (\n\t\t<Layout>\n\t\t\t<RequireAdmin>\n\t\t\t\t<>\n\t\t\t\t\t<Breadcrumb\n\t\t\t\t\t\titems={[\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tlabel: \"Admin\",\n\t\t\t\t\t\t\t\thref: \"/admin\",\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{ label: \"Verification Requests\" },\n\t\t\t\t\t\t]}\n\t\t\t\t\t\tclassName=\"mb-6\"\n\t\t\t\t\t/>\n\n\t\t\t\t\t<select\n\t\t\t\t\t\tclassName=\"mb-6 flex max-w-xs\"\n\t\t\t\t\t\tvalue={statusToFetch}\n\t\t\t\t\t\tonChange={onChangeStatusToFetch}\n\t\t\t\t\t>\n\t\t\t\t\t\t<option value={VerificationRequestStatus.Pending}>Pending</option>\n\t\t\t\t\t\t<option value={VerificationRequestStatus.Approved}>Approved</option>\n\t\t\t\t\t\t<option value={VerificationRequestStatus.Denied}>Denied</option>\n\t\t\t\t\t\t<option value=\"\">All</option>\n\t\t\t\t\t</select>\n\n\t\t\t\t\t{verificationRequestsLoading && <LoadingBlock />}\n\t\t\t\t\t{verificationRequestsError && (\n\t\t\t\t\t\t<div className=\"text-red-600\">\n\t\t\t\t\t\t\t{verificationRequestsError.graphQLErrors\n\t\t\t\t\t\t\t\t.map((error) => error.message)\n\t\t\t\t\t\t\t\t.join(\", \")}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t\t{!verificationRequestsLoading &&\n\t\t\t\t\t\tverificationRequests?.map((verificationRequest, index) => {\n\t\t\t\t\t\t\tconst {\n\t\t\t\t\t\t\t\tid,\n\t\t\t\t\t\t\t\tperson,\n\t\t\t\t\t\t\t\tpresignedImageDownloadUrl,\n\t\t\t\t\t\t\t\tcreatedAt,\n\t\t\t\t\t\t\t\tcreatedByUser,\n\t\t\t\t\t\t\t\tstatus,\n\t\t\t\t\t\t\t} = verificationRequest;\n\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<div className=\"mb-4\" key={index}>\n\t\t\t\t\t\t\t\t\tCreated {DateTimeService.formatDateYearTime(createdAt)}\n\t\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t\tUser{\" \"}\n\t\t\t\t\t\t\t\t\t<Link to={`/users/${createdByUser.id}`}>\n\t\t\t\t\t\t\t\t\t\t<a target=\"_blank\">{createdByUser.username}</a>\n\t\t\t\t\t\t\t\t\t</Link>{\" \"}\n\t\t\t\t\t\t\t\t\tis asking to be verified as Person{\" \"}\n\t\t\t\t\t\t\t\t\t<Link to={EntityService.makeHrefForView(person)}>\n\t\t\t\t\t\t\t\t\t\t<a target=\"_blank\">{person.name}</a>\n\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t\t{presignedImageDownloadUrl && (\n\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\tProof:{\" \"}\n\t\t\t\t\t\t\t\t\t\t\t<a href={presignedImageDownloadUrl} target=\"_blank\">\n\t\t\t\t\t\t\t\t\t\t\t\tImage\n\t\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\tEmail: {createdByUser.email}\n\t\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t\tStatus: {status}\n\t\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t\t{isApprovedVerificationRequest(verificationRequest) && (\n\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn-text\"\n\t\t\t\t\t\t\t\t\t\t\tdisabled={updateVerificationRequestStatusLoading}\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => onDenyClicked(id)}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\tDeny\n\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t{isDeniedVerificationRequest(verificationRequest) && (\n\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn-text\"\n\t\t\t\t\t\t\t\t\t\t\tdisabled={updateVerificationRequestStatusLoading}\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => onApproveClicked(id)}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\tApprove\n\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t{isPendingVerificationRequest(verificationRequest) && (\n\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn-text mr-4\"\n\t\t\t\t\t\t\t\t\t\t\t\tdisabled={updateVerificationRequestStatusLoading}\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => onApproveClicked(id)}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\tApprove\n\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn-text\"\n\t\t\t\t\t\t\t\t\t\t\t\tdisabled={updateVerificationRequestStatusLoading}\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => onDenyClicked(id)}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\tDeny\n\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\t\t\t\t</>\n\t\t\t</RequireAdmin>\n\t\t</Layout>\n\t);\n};\n\nexport default VerificationRequests;\n", "import { useNavigate } from \"@remix-run/react\";\nimport useCurrentUser from \"~/hooks/useCurrentUser\";\nimport UserService from \"~/services/User\";\n\ninterface Props {\n\tchildren: React.ReactNode | React.ReactNode[];\n}\n\nconst RequireAdmin = ({ children }: Props): React.ReactElement | null => {\n\tconst navigate = useNavigate();\n\n\tconst [currentUser, { data, error }] = useCurrentUser();\n\n\tif (currentUser && UserService.isAdmin(currentUser)) {\n\t\treturn <>{children}</>;\n\t} else if (!data && !error) {\n\t\treturn <div>Checking admin permissions...</div>;\n\t} else if (typeof window !== \"undefined\") {\n\t\tnavigate({\n\t\t\tpathname: \"/login\",\n\t\t\tquery: { redirectTo: window.location.pathname },\n\t\t});\n\t\treturn null;\n\t}\n\n\treturn null;\n};\n\nexport default RequireAdmin;\n", "import { useNavigate } from \"@remix-run/react\";\nimport { Link } from \"@remix-run/react\";\nimport { useQuery, gql } from \"@apollo/client\";\n\nimport { EntityFragments } from \"~/fragments\";\nimport type { AudioItem } from \"~/types\";\nimport { ViewAs } from \"~/types\";\nimport EntityService from \"~/services/Entity\";\n\nimport Layout from \"~/components/Layout\";\nimport LoadingBlock from \"~/components/LoadingBlock\";\nimport Breadcrumb from \"~/components/Breadcrumb\";\nimport AudioItemComponent from \"~/components/AudioItem\";\n\nexport const AUDIO_ITEM_QUERY = gql`\n\tquery AudioItem($slug: String!) {\n\t\taudioItem(slug: $slug) {\n\t\t\t...AudioItem\n\t\t}\n\t}\n\t${EntityFragments.audioItem}\n`;\n\nconst ViewAudioItemBySlug = () => {\n\tconst navigate = useNavigate();\n\tconst { slug } = navigate.query;\n\n\tconst { data, error } = useQuery<{\n\t\taudioItem: AudioItem;\n\t}>(AUDIO_ITEM_QUERY, {\n\t\tvariables: { slug },\n\t\tskip: !slug,\n\t});\n\tconst { audioItem } = data ?? {};\n\tconst { name } = audioItem ?? {};\n\n\treturn (\n\t\t<Layout pageTitle={`Trad Archive - ${name ?? \"\"}`}>\n\t\t\t{!data && !error && <LoadingBlock />}\n\t\t\t{error && <span className=\"text-red-500\">{error.message}</span>}\n\t\t\t{data && (\n\t\t\t\t<div className=\"mb-6\">\n\t\t\t\t\t<Breadcrumb\n\t\t\t\t\t\titems={[\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tlabel: EntityService.makeReadableNamePlural(audioItem),\n\t\t\t\t\t\t\t\thref: EntityService.makeHrefForTopLevel(audioItem),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{ label: name },\n\t\t\t\t\t\t]}\n\t\t\t\t\t\tclassName=\"mb-2\"\n\t\t\t\t\t/>\n\t\t\t\t\t<div className=\"flex flex-row mb-6\">\n\t\t\t\t\t\t<Link to={EntityService.makeHrefForAbout(audioItem)}>About</Link>\n\t\t\t\t\t</div>\n\t\t\t\t\t<AudioItemComponent\n\t\t\t\t\t\tviewAs={ViewAs.Cards}\n\t\t\t\t\t\taudioItem={audioItem}\n\t\t\t\t\t\tshowTitle={false}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</Layout>\n\t);\n};\n\nexport default ViewAudioItemBySlug;\n", "import { useCallback, useMemo } from \"react\";\nimport { Link } from \"@remix-run/react\";\nimport { useNavigate } from \"@remix-run/react\";\nimport type { TakedownRequest, Tag } from \"@prisma/client\";\n\nimport type { AudioItemWithRelations } from \"~/types\";\nimport DateTime from \"~/services/DateTime\";\nimport usePlayerContext from \"~/hooks/usePlayerContext\";\n\nimport Tags from \"~/components/Tags\";\nimport Menu from \"~/components/Menu\";\nimport SaveItemButton from \"~/components/SaveItemButton\";\nimport ViewCommentsButton from \"~/components/ViewCommentsButton\";\nimport TimeMarkers from \"~/components/TimeMarkers\";\nimport RequestTakedownButton from \"~/components/RequestTakedownButton\";\n\ninterface Props {\n\taudioItem: AudioItemWithRelations;\n\tshowTitle?: boolean;\n\tclassName?: string;\n}\nconst AudioItemCard = ({ audioItem, showTitle = true, className }: Props) => {\n\tconst {\n\t\tname,\n\t\tslug,\n\t\tdescription,\n\t\ttagsAsSubject: tags,\n\t\tstatus,\n\t\tcreatedByUser,\n\t\tcreatedAt,\n\t} = audioItem;\n\n\tconst navigate = useNavigate();\n\n\tconst {\n\t\tactiveAudioItem,\n\t\tsetActiveAudioItem,\n\t\tactiveItemDurationSeconds,\n\t\tplaybackPositionSeconds,\n\t} = usePlayerContext();\n\n\tconst audioItemIsInPlayer = activeAudioItem?.id === audioItem.id;\n\tconst tagsWithTimeMarkers: Tag[] = useMemo(() => {\n\t\tif (!Array.isArray(tags)) {\n\t\t\treturn [];\n\t\t}\n\t\treturn tags.filter(\n\t\t\t(tag) => typeof tag.subjectTimeMarkerSeconds === \"number\"\n\t\t);\n\t}, [tags]);\n\n\tconst onPlayPressed = useCallback(() => {\n\t\tsetActiveAudioItem(audioItem);\n\t}, [audioItem, setActiveAudioItem]);\n\n\tconst onTakedownRequestCreated = useCallback(\n\t\t(takedownRequest: TakedownRequest) => {\n\t\t\tif (takedownRequest.status === \"APPROVED\") {\n\t\t\t\tnavigate(`/entities/audio-items/${slug}`);\n\t\t\t}\n\t\t},\n\t\t[navigate, slug]\n\t);\n\n\tconst shouldShowPositionAndDuration =\n\t\taudioItemIsInPlayer &&\n\t\ttypeof playbackPositionSeconds === \"number\" &&\n\t\ttypeof activeItemDurationSeconds === \"number\";\n\tconst positionAndDuration = `${DateTime.formatSecondsAsDuration(\n\t\tplaybackPositionSeconds ?? 0\n\t)} / ${DateTime.formatSecondsAsDuration(activeItemDurationSeconds ?? 0)}`;\n\n\tconst isTakenDown = status === \"TAKEN_DOWN\";\n\n\treturn (\n\t\t<div\n\t\t\tclassName={`flex flex-col justify-start items-start bg-white shadow-md rounded p-4 pb-3 ${\n\t\t\t\tclassName ?? \"\"\n\t\t\t}`}\n\t\t>\n\t\t\t{showTitle && (\n\t\t\t\t<h2 className=\"mb-2\">\n\t\t\t\t\t<Link\n\t\t\t\t\t\tto={`/entities/audio-items/${slug}`}\n\t\t\t\t\t\tclassName=\"no-underline text-gray-700\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{name}\n\t\t\t\t\t</Link>\n\t\t\t\t</h2>\n\t\t\t)}\n\n\t\t\t<div className=\"mb-4\">\n\t\t\t\t<Tags audioItem={audioItem} />\n\t\t\t</div>\n\n\t\t\t<div className=\"flex flex-col w-full border border-gray-200 rounded mb-2\">\n\t\t\t\t{isTakenDown ? (\n\t\t\t\t\t<div className=\"flex flex-row items-center px-4 py-6 text-gray-500\">\n\t\t\t\t\t\tThis Audio Item has been removed via an approved Takedown Request\n\t\t\t\t\t</div>\n\t\t\t\t) : (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<div className=\"flex flex-row justify-start items-center pr-4 h-16\">\n\t\t\t\t\t\t\t<div className=\"flex flex-1\">\n\t\t\t\t\t\t\t\t{audioItemIsInPlayer ? (\n\t\t\t\t\t\t\t\t\t<div className=\"pl-4 text-gray-500\">Playing</div>\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tstyle={{ lineHeight: 0 }}\n\t\t\t\t\t\t\t\t\t\tonClick={onPlayPressed}\n\t\t\t\t\t\t\t\t\t\taria-label=\"Play\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<i className=\"material-icons text-teal-600 hover:text-teal-800\">\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-6xl\">play_arrow</span>\n\t\t\t\t\t\t\t\t\t\t</i>\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclassName={`ml-4 text-gray-500 opacity-0 ${\n\t\t\t\t\t\t\t\t\t\tshouldShowPositionAndDuration\n\t\t\t\t\t\t\t\t\t\t\t? \"opacity-100 transition-opacity delay-500 duration-400\"\n\t\t\t\t\t\t\t\t\t\t\t: \"\"\n\t\t\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{positionAndDuration}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t\t{tagsWithTimeMarkers.length > 0 && (\n\t\t\t\t\t<div className=\"mx-4 mb-2 pt-3 border-t border-gray-200\">\n\t\t\t\t\t\t<TimeMarkers audioItem={audioItem} />\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</div>\n\n\t\t\t<div className=\"mt-4\">\n\t\t\t\t<div className=\"text-gray-500 text-sm flex flex-col sm:flex-row\">\n\t\t\t\t\tAdded\n\t\t\t\t\t{createdByUser && (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t{\" \"}\n\t\t\t\t\t\t\tby{\" \"}\n\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\tto={`/users/${createdByUser.id}`}\n\t\t\t\t\t\t\t\tclassName=\"flex flex-row px-0 sm:px-1\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{createdByUser.username}\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</>\n\t\t\t\t\t)}{\" \"}\n\t\t\t\t\t{DateTime.formatDateYearTime(createdAt)}\n\t\t\t\t</div>\n\t\t\t\t<div className=\"text-sm mt-1 text-gray-900 whitespace-pre-wrap\">\n\t\t\t\t\t{description || \"No description\"}\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div className=\"border-t border-gray-200 mt-4 pt-3 w-full flex flex-row justify-between items-center\">\n\t\t\t\t<div className=\"flex flex-row items-center\">\n\t\t\t\t\t<ViewCommentsButton audioItem={audioItem} />\n\n\t\t\t\t\t<div className=\"ml-2\">\n\t\t\t\t\t\t<SaveItemButton audioItem={audioItem} />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<Menu>\n\t\t\t\t\t{!isTakenDown && (\n\t\t\t\t\t\t<RequestTakedownButton\n\t\t\t\t\t\t\tentity={audioItem}\n\t\t\t\t\t\t\tonTakedownRequestCreated={onTakedownRequestCreated}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t</Menu>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default AudioItemCard;\n", "import { useMemo, useState, useCallback, useEffect } from \"react\";\nimport { Link } from \"@remix-run/react\";\n\nimport type { TagWithRelations, AudioItemWithRelations } from \"~/types\";\nimport EntityService from \"~/services/Entity\";\nimport TagService from \"~/services/Tag\";\n\nimport AddTagButton from \"~/components/AddTagButton\";\nimport EditTagsButton from \"~/components/EditTagsButton\";\n\ninterface TagProps {\n\ttag: TagWithRelations;\n}\nconst TagLink = ({ tag }: TagProps) => {\n\tconst [tooltipIsVisible, setTooltipIsVisible] = useState(false);\n\tconst [timeoutFunc, setTimeoutFunc] = useState<NodeJS.Timeout>();\n\n\tconst onMouseEnter = useCallback(() => {\n\t\tsetTimeoutFunc(setTimeout(() => setTooltipIsVisible(true), 400));\n\t}, []);\n\n\tconst onMouseLeave = useCallback(() => {\n\t\tif (timeoutFunc) {\n\t\t\tclearTimeout(timeoutFunc);\n\t\t\tsetTimeoutFunc(undefined);\n\t\t}\n\t\tsetTooltipIsVisible(false);\n\t}, [timeoutFunc]);\n\n\t// Clean up the timeout function when component unmounts\n\tuseEffect(() => {\n\t\treturn () => {\n\t\t\tif (timeoutFunc) {\n\t\t\t\tclearTimeout(timeoutFunc);\n\t\t\t\tsetTimeoutFunc(undefined);\n\t\t\t}\n\t\t};\n\t}, [timeoutFunc]);\n\n\tconst { relationship } = tag;\n\tconst objectEntity = TagService.getObjectEntity(tag);\n\tconst href = EntityService.makeHrefForView(objectEntity);\n\tif (!objectEntity || !href) {\n\t\treturn null;\n\t}\n\treturn (\n\t\t<Link\n\t\t\tto={href}\n\t\t\tclassName=\"relative block p-1 px-2 mb-2 no-underline border border-teal-600 rounded hover:border-teal-800\"\n\t\t\tonMouseEnter={onMouseEnter}\n\t\t\tonMouseLeave={onMouseLeave}\n\t\t>\n\t\t\t{objectEntity.name}\n\t\t\t<div\n\t\t\t\tclassName={`${\n\t\t\t\t\ttooltipIsVisible ? \"flex\" : \"hidden\"\n\t\t\t\t} absolute -top-8 left-0 text-center px-2 py-1 text-sm whitespace-nowrap bg-gray-700 rounded text-white`}\n\t\t\t>\n\t\t\t\t{relationship.name} {objectEntity.entityType?.toUpperCase()}\n\t\t\t</div>\n\t\t</Link>\n\t);\n};\n\ninterface TagsProps {\n\taudioItem: AudioItemWithRelations;\n}\nconst Tags = ({ audioItem }: TagsProps) => {\n\tconst { tagsAsSubject } = audioItem;\n\n\tconst sortedTags = useMemo(() => {\n\t\tif (!Array.isArray(tagsAsSubject)) {\n\t\t\treturn [];\n\t\t}\n\t\tconst tagsWithoutTimeMarkers = tagsAsSubject.filter(\n\t\t\t(tag) => typeof tag.subjectTimeMarkerSeconds !== \"number\"\n\t\t);\n\t\treturn TagService.sort(tagsWithoutTimeMarkers);\n\t}, [tagsAsSubject]);\n\n\treturn (\n\t\t<div className=\"flex flex-row items-center flex-wrap\">\n\t\t\t{sortedTags.map((tag, index) => (\n\t\t\t\t<div className=\"mr-2\" key={index}>\n\t\t\t\t\t<TagLink tag={tag} />\n\t\t\t\t</div>\n\t\t\t))}\n\n\t\t\t<div\n\t\t\t\tclassName={\n\t\t\t\t\ttagsAsSubject && tagsAsSubject.length > 0 ? \"mb-2 ml-1\" : undefined\n\t\t\t\t}\n\t\t\t>\n\t\t\t\t<AddTagButton entity={audioItem} />\n\t\t\t</div>\n\n\t\t\t{tagsAsSubject && tagsAsSubject.length > 0 && (\n\t\t\t\t<div className=\"flex ml-1 mb-2\">\n\t\t\t\t\t<span className=\"text-gray-500 mr-1\">/</span>\n\t\t\t\t\t<EditTagsButton entity={audioItem} />\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nexport default Tags;\n", "import compareAsc from \"date-fns/compareAsc\";\nimport compareDesc from \"date-fns/compareDesc\";\nimport type {\n\tAudioItem,\n\tCollection,\n\tInstrument,\n\tPerson,\n\tPlace,\n\tTune,\n} from \"@prisma/client\";\nimport type { TagWithRelations } from \"~/types\";\n\nenum TagSortStrategy {\n\tCreatedAtThenTimeMarker = \"CREATED_AT_THEN_TIME_MARKER\",\n\tCreatedAtDesc = \"CREATED_AT_DESC\",\n}\n\n/**\n * Sort with the following logic:\n *   1) Tags without time markers, sorted by `createdAt` ASC\n *   2) Tags with time markers, sorted by time marker ASC\n */\nconst sortByCreatedAtThenTimeMarker = (tags: TagWithRelations[]) => {\n\tconst sortedTags = [...(tags ?? [])];\n\tsortedTags.sort((a, b) => {\n\t\tif (\n\t\t\ttypeof a.subjectTimeMarkerSeconds !== \"number\" &&\n\t\t\ttypeof b.subjectTimeMarkerSeconds !== \"number\"\n\t\t) {\n\t\t\treturn compareAsc(new Date(a.createdAt), new Date(b.createdAt));\n\t\t}\n\t\tif (\n\t\t\ttypeof a.subjectTimeMarkerSeconds !== \"number\" &&\n\t\t\ttypeof b.subjectTimeMarkerSeconds === \"number\"\n\t\t) {\n\t\t\treturn -1;\n\t\t}\n\t\treturn (\n\t\t\t(a.subjectTimeMarkerSeconds ?? 0) - (b.subjectTimeMarkerSeconds ?? 0)\n\t\t);\n\t});\n\treturn sortedTags;\n};\n\n/**\n * Sort Tags by `createdAt` DESC\n */\nconst sortByCreatedAtDesc = (tags: TagWithRelations[]) => {\n\tconst sortedTags = [...(tags ?? [])];\n\tsortedTags.sort((a, b) => {\n\t\treturn compareDesc(new Date(a.createdAt), new Date(b.createdAt));\n\t});\n\treturn sortedTags;\n};\n\nconst sort = (\n\ttags: TagWithRelations[] = [],\n\tsortStrategy = TagSortStrategy.CreatedAtThenTimeMarker\n) => {\n\tswitch (sortStrategy) {\n\t\tcase TagSortStrategy.CreatedAtThenTimeMarker:\n\t\t\treturn sortByCreatedAtThenTimeMarker(tags);\n\t\tcase TagSortStrategy.CreatedAtDesc:\n\t\t\treturn sortByCreatedAtDesc(tags);\n\t\tdefault:\n\t\t\treturn tags;\n\t}\n};\n\nconst getObjectEntity = (\n\ttag: TagWithRelations\n): AudioItem | Collection | Instrument | Person | Place | Tune | null => {\n\treturn (\n\t\ttag.objectAudioItem ??\n\t\ttag.objectCollection ??\n\t\ttag.objectInstrument ??\n\t\ttag.objectPerson ??\n\t\ttag.objectPlace ??\n\t\ttag.objectTune\n\t);\n};\n\nexport default {\n\tTagSortStrategy,\n\tsort,\n\tgetObjectEntity,\n};\n", "import { useState, useCallback } from \"react\";\nimport { useLazyQuery, gql } from \"@apollo/client\";\n\nimport type { Entity, Tag } from \"~/types\";\nimport { EntityFragments } from \"~/fragments\";\nimport useRequireLogin from \"~/hooks/useRequireLogin\";\nimport EntityService from \"~/services/Entity\";\n\nimport Modal from \"~/components/Modal\";\nimport LoadingBlock from \"~/components/LoadingBlock\";\nimport CreateTagForm from \"~/components/CreateTagForm\";\n\nconst PARENT_ENTITY_QUERY = gql`\n\tquery Entity($id: String!) {\n\t\tentity(id: $id) {\n\t\t\t...AudioItem\n\t\t\t...Collection\n\t\t\t...Person\n\t\t\t...Place\n\t\t\t...Instrument\n\t\t\t...Tune\n\t\t}\n\t}\n\t${EntityFragments.audioItem}\n\t${EntityFragments.collection}\n\t${EntityFragments.instrument}\n\t${EntityFragments.person}\n\t${EntityFragments.place}\n\t${EntityFragments.tune}\n`;\n\ninterface Props {\n\tentity: Entity;\n\tonSuccess?: (tag: Tag) => void;\n\tclassName?: string;\n\tchildren?: React.ReactChild | React.ReactChild[];\n}\nconst AddTagButton = ({ entity, onSuccess, className, children }: Props) => {\n\tconst { currentUser, requireLogin } = useRequireLogin();\n\n\tconst [addTagModalIsVisible, setAddTagModalIsVisible] = useState(false);\n\n\tconst [getParentEntity, { loading: parentEntityLoading }] = useLazyQuery<{\n\t\tentity: Entity;\n\t}>(PARENT_ENTITY_QUERY, {\n\t\tvariables: { id: entity.id },\n\t\tfetchPolicy: \"network-only\",\n\t});\n\n\tconst onCreateTagSuccess = useCallback(\n\t\tasync (tag: Tag) => {\n\t\t\t// Refetch the parent Entity so it has updated Tags\n\t\t\tawait getParentEntity();\n\t\t\tsetAddTagModalIsVisible(false);\n\t\t\tif (onSuccess) {\n\t\t\t\tonSuccess(tag);\n\t\t\t}\n\t\t},\n\t\t[getParentEntity, setAddTagModalIsVisible, onSuccess]\n\t);\n\n\tconst onAddTagClicked = useCallback(async () => {\n\t\tif (!currentUser) {\n\t\t\tconst redirectTo = EntityService.makeHrefForView(entity);\n\t\t\treturn await requireLogin({ redirectTo });\n\t\t}\n\t\tsetAddTagModalIsVisible(true);\n\t}, [currentUser, requireLogin, entity]);\n\n\treturn (\n\t\t<>\n\t\t\t<button\n\t\t\t\tclassName={`btn-text whitespace-pre ${className ?? \"\"}`}\n\t\t\t\tonClick={onAddTagClicked}\n\t\t\t>\n\t\t\t\t{children ?? \"+ Add Tag\"}\n\t\t\t</button>\n\n\t\t\t<Modal\n\t\t\t\ttitle=\"Add Tag\"\n\t\t\t\tisVisible={addTagModalIsVisible}\n\t\t\t\tonClose={() => setAddTagModalIsVisible(false)}\n\t\t\t>\n\t\t\t\t{parentEntityLoading ? (\n\t\t\t\t\t<LoadingBlock />\n\t\t\t\t) : (\n\t\t\t\t\t<CreateTagForm entity={entity} onSuccess={onCreateTagSuccess} />\n\t\t\t\t)}\n\t\t\t</Modal>\n\t\t</>\n\t);\n};\n\nexport default AddTagButton;\n", "import { useEffect, useState, useCallback } from \"react\";\nimport { useMutation, gql } from \"@apollo/client\";\n\nimport type { Entity, Tag } from \"~/types\";\nimport { EntityType } from \"~/types\";\nimport usePlayerContext from \"~/hooks/usePlayerContext\";\nimport useTags from \"~/hooks/useTags\";\n\nimport SearchEntities from \"~/components/SearchEntities\";\nimport SelectRelationship from \"~/components/SelectRelationship\";\nimport TimestampInput from \"~/components/TimestampInput\";\n\nconst CREATE_TAG_MUTATION = gql`\n\tmutation CreateTag($input: CreateTagInput!) {\n\t\tcreateTag(input: $input) {\n\t\t\tid\n\t\t}\n\t}\n`;\ninterface CreateTagInput {\n\trelationshipId: string;\n\tsubjectEntityType: EntityType;\n\tsubjectEntityId: string;\n\tobjectEntityType: EntityType;\n\tobjectEntityId: string;\n\tsubjectTimeMarkerSeconds?: number;\n}\ninterface Props {\n\tentity: Entity;\n\tonSuccess: (tag: Tag) => void;\n}\nconst CreateTagForm = ({ entity, onSuccess }: Props) => {\n\tconst {\n\t\tactiveAudioItem,\n\t\tplaybackPositionSeconds,\n\t\tactiveItemDurationSeconds,\n\t} = usePlayerContext();\n\n\tconst isActiveAudioItem = activeAudioItem?.id === entity.id;\n\tconst defaultTimeMarkerValue = isActiveAudioItem\n\t\t? playbackPositionSeconds\n\t\t: undefined;\n\n\tconst [shouldAddTimeMarker, setShouldAddTimeMarker] = useState(false);\n\tconst [timeMarkerValue, setTimeMarkerValue] = useState<number | undefined>(\n\t\tdefaultTimeMarkerValue\n\t);\n\n\tconst [selectedEntity, setSelectedEntity] = useState<Entity>(null);\n\tconst [selectedRelationshipId, setSelectedRelationshipId] = useState(\"\");\n\tconst [shouldCreateInverseRelationship, setShouldCreateInverseRelationship] =\n\t\tuseState(true);\n\tconst [selectedInverseRelationshipId, setSelectedInverseRelationshipId] =\n\t\tuseState(\"\");\n\n\tconst [createTag, { data, error }] = useMutation<\n\t\t{ createTag: Tag },\n\t\t{ input: CreateTagInput }\n\t>(CREATE_TAG_MUTATION, {\n\t\terrorPolicy: \"all\",\n\t});\n\tconst [tagsAreCreating, setTagsAreCreating] = useState(false);\n\tconst [primaryCreatedTag, setPrimaryCreatedTag] = useState<Tag | undefined>(\n\t\tundefined\n\t);\n\tconst [tagsAreCreated, setTagsAreCreated] = useState(false);\n\n\tconst {\n\t\ttagsQuery: { refetch: refetchTopLevelTags },\n\t} = useTags({\n\t\tqueryOptions: { fetchPolicy: \"network-only\" },\n\t});\n\n\tuseEffect(() => {\n\t\tif (!tagsAreCreated) {\n\t\t\treturn;\n\t\t}\n\t\tconst onCreateSuccess = async (tag: Tag) => {\n\t\t\t// Now that a new Tag has been created, refetch the top-level `tags` query\n\t\t\tif (refetchTopLevelTags) {\n\t\t\t\tawait refetchTopLevelTags();\n\t\t\t}\n\t\t\tawait onSuccess(tag);\n\t\t};\n\t\tif (primaryCreatedTag) {\n\t\t\tonCreateSuccess(primaryCreatedTag);\n\t\t}\n\t}, [data, refetchTopLevelTags, onSuccess, tagsAreCreated, primaryCreatedTag]);\n\n\tconst onSelectEntity = useCallback(\n\t\t(selectedEntityFromResults: Entity) => {\n\t\t\tif (selectedEntityFromResults.id === entity.id) {\n\t\t\t\treturn window.alert(\"Cannot tag an entity with itself\");\n\t\t\t}\n\t\t\tsetSelectedEntity(selectedEntityFromResults);\n\t\t},\n\t\t[entity]\n\t);\n\n\tconst onNewEntityCreated = useCallback((entity: Entity) => {\n\t\tsetSelectedEntity(entity);\n\t}, []);\n\n\tconst onTimeMarkerValueChanged = useCallback(\n\t\t(newTimeMarkerValueSeconds: number) => {\n\t\t\tsetShouldAddTimeMarker(true);\n\t\t\tif (newTimeMarkerValueSeconds >= activeItemDurationSeconds) {\n\t\t\t\tsetTimeMarkerValue(activeItemDurationSeconds);\n\t\t\t} else if (newTimeMarkerValueSeconds <= 0) {\n\t\t\t\tsetTimeMarkerValue(0);\n\t\t\t} else {\n\t\t\t\tsetTimeMarkerValue(newTimeMarkerValueSeconds);\n\t\t\t}\n\t\t},\n\t\t[activeItemDurationSeconds]\n\t);\n\n\tconst onSelectRelationship = useCallback(\n\t\t(relationshipId: string) => {\n\t\t\tsetSelectedRelationshipId(relationshipId);\n\t\t},\n\t\t[setSelectedRelationshipId]\n\t);\n\n\tconst onSelectInverseRelationship = useCallback(\n\t\t(relationshipId: string) => {\n\t\t\tsetSelectedInverseRelationshipId(relationshipId);\n\t\t},\n\t\t[setSelectedInverseRelationshipId]\n\t);\n\n\tconst onCreateTagClicked = useCallback(async () => {\n\t\tsetTagsAreCreating(true);\n\n\t\tlet subjectTimeMarkerSeconds: number | undefined;\n\t\tif (shouldAddTimeMarker && !isNaN(timeMarkerValue)) {\n\t\t\tsubjectTimeMarkerSeconds = timeMarkerValue;\n\t\t}\n\t\tconst tagInput = {\n\t\t\trelationshipId: selectedRelationshipId,\n\t\t\tsubjectEntityType: entity.entityType,\n\t\t\tsubjectEntityId: entity.id,\n\t\t\tobjectEntityType: selectedEntity.entityType,\n\t\t\tobjectEntityId: selectedEntity.id,\n\t\t\tsubjectTimeMarkerSeconds,\n\t\t};\n\t\tconst primaryTagQuery = await createTag({ variables: { input: tagInput } });\n\t\tsetPrimaryCreatedTag(primaryTagQuery.data?.createTag);\n\n\t\tif (shouldCreateInverseRelationship && selectedInverseRelationshipId) {\n\t\t\tconst inverseTagInput = {\n\t\t\t\trelationshipId: selectedInverseRelationshipId,\n\t\t\t\tsubjectEntityType: selectedEntity.entityType,\n\t\t\t\tsubjectEntityId: selectedEntity.id,\n\t\t\t\tobjectEntityType: entity.entityType,\n\t\t\t\tobjectEntityId: entity.id,\n\t\t\t\tsubjectTimeMarkerSeconds,\n\t\t\t};\n\t\t\tawait createTag({ variables: { input: inverseTagInput } });\n\t\t}\n\n\t\tsetTagsAreCreating(false);\n\t\tsetTagsAreCreated(true);\n\t}, [\n\t\tselectedRelationshipId,\n\t\tshouldCreateInverseRelationship,\n\t\tselectedInverseRelationshipId,\n\t\tentity,\n\t\tselectedEntity,\n\t\tcreateTag,\n\t\tshouldAddTimeMarker,\n\t\ttimeMarkerValue,\n\t]);\n\n\tif (!selectedEntity) {\n\t\treturn (\n\t\t\t<SearchEntities\n\t\t\t\tonSelect={onSelectEntity}\n\t\t\t\tonNewEntityCreated={onNewEntityCreated}\n\t\t\t/>\n\t\t);\n\t}\n\n\t// Only show the time marker option if the subject entity is an AudioItem\n\tconst shouldShowTimeMarkerCheckbox =\n\t\tentity.entityType === EntityType.AudioItem &&\n\t\ttypeof defaultTimeMarkerValue !== \"undefined\";\n\n\treturn (\n\t\t<>\n\t\t\t<div>What is the relationship between these two entities?</div>\n\n\t\t\t<div className=\"mt-2\">\n\t\t\t\t<SelectRelationship\n\t\t\t\t\tsubjectEntity={entity}\n\t\t\t\t\tobjectEntity={selectedEntity}\n\t\t\t\t\tonSelect={onSelectRelationship}\n\t\t\t\t/>\n\t\t\t</div>\n\n\t\t\t<div className=\"mt-6 flex flex-row items-center justify-start\">\n\t\t\t\t<input\n\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\tid=\"reverse-relationship\"\n\t\t\t\t\tchecked={shouldCreateInverseRelationship}\n\t\t\t\t\tonChange={(event) =>\n\t\t\t\t\t\tsetShouldCreateInverseRelationship(event.target.checked)\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t\t<label htmlFor=\"reverse-relationship\" className=\"ml-2\">\n\t\t\t\t\tAlso create the inverse relationship\n\t\t\t\t</label>\n\t\t\t</div>\n\n\t\t\t{shouldCreateInverseRelationship && (\n\t\t\t\t<div className=\"mt-2\">\n\t\t\t\t\t<SelectRelationship\n\t\t\t\t\t\tsubjectEntity={selectedEntity}\n\t\t\t\t\t\tobjectEntity={entity}\n\t\t\t\t\t\tonSelect={onSelectInverseRelationship}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t{shouldShowTimeMarkerCheckbox && (\n\t\t\t\t<div className=\"mt-6 flex flex-row items-start justify-start\">\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\tid=\"time-marker\"\n\t\t\t\t\t\tclassName=\"mt-1\"\n\t\t\t\t\t\tchecked={shouldAddTimeMarker}\n\t\t\t\t\t\tonChange={(event) => setShouldAddTimeMarker(event.target.checked)}\n\t\t\t\t\t/>\n\t\t\t\t\t<label htmlFor=\"time-marker\" className=\"ml-2\">\n\t\t\t\t\t\t<div className=\"flex flex-col items-start\">\n\t\t\t\t\t\t\t<div className=\"mb-2\">Mark this Tag at time:</div>\n\t\t\t\t\t\t\t<TimestampInput\n\t\t\t\t\t\t\t\tvalueInSeconds={timeMarkerValue}\n\t\t\t\t\t\t\t\tonChange={onTimeMarkerValueChanged}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</label>\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t<button\n\t\t\t\tclassName=\"btn mt-6\"\n\t\t\t\tonClick={onCreateTagClicked}\n\t\t\t\tdisabled={tagsAreCreating || !selectedRelationshipId}\n\t\t\t>\n\t\t\t\tSave\n\t\t\t</button>\n\t\t\t{error && <div className=\"text-red-600 mt-4\">{error.message}</div>}\n\t\t</>\n\t);\n};\n\nexport default CreateTagForm;\n", "import { useEffect, useCallback } from \"react\";\nimport type {\n\tLazyQueryResult,\n\tQueryLazyOptions,\n\tLazyQueryHookOptions,\n} from \"@apollo/client\";\nimport { useLazyQuery, gql } from \"@apollo/client\";\nimport type { Tag } from \"~/types\";\nimport { TagFragments } from \"~/fragments\";\n\nexport const TAGS_QUERY = gql`\n\tquery Tags($input: TagsInput!) {\n\t\ttags(input: $input) {\n\t\t\t...Tag\n\t\t}\n\t}\n\t${TagFragments.tag}\n`;\n\ninterface QueryData {\n\ttags: Tag[];\n}\ninterface QueryVariables {\n\tinput: {\n\t\ttake?: number;\n\t\tskip?: number;\n\t};\n}\ninterface HookArgs {\n\tresultsPerPage?: number;\n\tqueryOptions?: LazyQueryHookOptions<QueryData, QueryVariables>;\n}\ninterface HookReturnValue {\n\ttags: Tag[];\n\tgetTags: (options?: QueryLazyOptions<QueryVariables>) => void;\n\ttagsQuery: LazyQueryResult<QueryData, QueryVariables>;\n\tfetchNextPageOfTags: () => void;\n}\n\nconst useTags = ({\n\tresultsPerPage = 10,\n\tqueryOptions = {},\n}: HookArgs = {}): HookReturnValue => {\n\tconst [getTags, tagsQuery] = useLazyQuery<QueryData, QueryVariables>(\n\t\tTAGS_QUERY,\n\t\t{\n\t\t\tnotifyOnNetworkStatusChange: true,\n\t\t\t...queryOptions,\n\t\t}\n\t);\n\tconst { data, fetchMore } = tagsQuery;\n\n\tuseEffect(() => {\n\t\tgetTags({\n\t\t\tvariables: {\n\t\t\t\tinput: {\n\t\t\t\t\ttake: resultsPerPage,\n\t\t\t\t},\n\t\t\t},\n\t\t});\n\t}, [getTags, resultsPerPage]);\n\n\tconst tags = data?.tags;\n\n\tconst fetchNextPageOfTags = useCallback(() => {\n\t\tfetchMore({\n\t\t\tvariables: {\n\t\t\t\tinput: {\n\t\t\t\t\ttake: resultsPerPage,\n\t\t\t\t\tskip: tags.length ?? 0,\n\t\t\t\t},\n\t\t\t},\n\t\t});\n\t}, [fetchMore, resultsPerPage, tags]);\n\n\treturn {\n\t\ttags: tagsQuery.data?.tags,\n\t\tgetTags,\n\t\ttagsQuery,\n\t\tfetchNextPageOfTags,\n\t};\n};\n\nexport default useTags;\n", "import { useEffect, useState } from \"react\";\nimport { useQuery, gql } from \"@apollo/client\";\n\nimport type { Entity, Relationship } from \"~/types\";\nimport { RelationshipFragments } from \"~/fragments\";\n\nimport LoadingCircle from \"./LoadingCircle\";\n\nconst SEARCH_RELATIONSHIPS_QUERY = gql`\n\tquery SearchRelationships(\n\t\t$subjectEntityType: String!\n\t\t$objectEntityType: String!\n\t) {\n\t\tsearchRelationships(\n\t\t\tsubjectEntityType: $subjectEntityType\n\t\t\tobjectEntityType: $objectEntityType\n\t\t) {\n\t\t\t...Relationship\n\t\t}\n\t}\n\t${RelationshipFragments.relationship}\n`;\n\ninterface Props {\n\tsubjectEntity: Entity;\n\tobjectEntity: Entity;\n\tonSelect: (relationshipId: string) => void;\n}\nconst SelectRelationship = ({\n\tsubjectEntity,\n\tobjectEntity,\n\tonSelect,\n}: Props) => {\n\tconst [selectedRelationshipId, setSelectedRelationshipId] = useState(\"\");\n\n\tconst { loading, data, error } = useQuery<{\n\t\tsearchRelationships: Relationship[];\n\t}>(SEARCH_RELATIONSHIPS_QUERY, {\n\t\tvariables: {\n\t\t\tsubjectEntityType: subjectEntity.entityType,\n\t\t\tobjectEntityType: objectEntity.entityType,\n\t\t},\n\t\tfetchPolicy: \"no-cache\",\n\t});\n\tconst relationshipOptions = data?.searchRelationships ?? [];\n\n\tuseEffect(() => {\n\t\tif (relationshipOptions.length > 0) {\n\t\t\tonSelectRelationshipId(relationshipOptions[0].id);\n\t\t}\n\t}, [relationshipOptions]);\n\n\tconst onSelectRelationshipId = (relationshipId: string) => {\n\t\tsetSelectedRelationshipId(relationshipId);\n\t\tonSelect(relationshipId);\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<div className=\"mb-2 text-gray-500\">\n\t\t\t\t<span className=\"text-sm uppercase pr-2\">\n\t\t\t\t\t{subjectEntity.entityType}\n\t\t\t\t</span>\n\t\t\t\t{subjectEntity.name}\n\t\t\t</div>\n\n\t\t\t{loading ? (\n\t\t\t\t<LoadingCircle />\n\t\t\t) : (\n\t\t\t\t<select\n\t\t\t\t\tclassName=\"mb-2\"\n\t\t\t\t\tvalue={selectedRelationshipId}\n\t\t\t\t\tonChange={(event) => onSelectRelationshipId(event.target.value)}\n\t\t\t\t>\n\t\t\t\t\t{relationshipOptions.map((relationship, index) => (\n\t\t\t\t\t\t<option value={relationship.id} key={index}>\n\t\t\t\t\t\t\t{relationship.name}\n\t\t\t\t\t\t</option>\n\t\t\t\t\t))}\n\t\t\t\t</select>\n\t\t\t)}\n\n\t\t\t<div className=\"text-gray-500\">\n\t\t\t\t<span className=\"text-sm uppercase pr-2\">\n\t\t\t\t\t{objectEntity.entityType}\n\t\t\t\t</span>\n\t\t\t\t{objectEntity.name}\n\t\t\t</div>\n\n\t\t\t{error && <div className=\"text-red-600 mt-4\">{error}</div>}\n\t\t</>\n\t);\n};\n\nexport default SelectRelationship;\n", "interface Props {\n\tvalueInSeconds: number;\n\tonChange: (valueInSeconds: number) => void;\n\tclassName?: string;\n}\n\nconst TimestampInput = ({ valueInSeconds, onChange, className }: Props) => {\n\tconst hrs = Math.floor(valueInSeconds / 3600);\n\tconst mins = Math.floor((valueInSeconds - hrs * 3600) / 60);\n\tconst secs = valueInSeconds - hrs * 3600 - mins * 60;\n\n\tconst onChangeHrs = (event: React.ChangeEvent<HTMLInputElement>) => {\n\t\tconst newHrs = parseInt(event.target.value, 10) || 0;\n\t\tconst newValueInSeconds = newHrs * 3600 + mins * 60 + secs;\n\t\tonChange(newValueInSeconds);\n\t};\n\n\tconst onChangeMins = (event: React.ChangeEvent<HTMLInputElement>) => {\n\t\tconst newMins = parseInt(event.target.value, 10) || 0;\n\t\tconst newValueInSeconds = hrs * 3600 + newMins * 60 + secs;\n\t\tonChange(newValueInSeconds);\n\t};\n\n\tconst onChangeSecs = (event: React.ChangeEvent<HTMLInputElement>) => {\n\t\tconst newSecs = parseInt(event.target.value, 10) || 0;\n\t\tconst newValueInSeconds = hrs * 3600 + mins * 60 + newSecs;\n\t\tonChange(newValueInSeconds);\n\t};\n\n\treturn (\n\t\t<div className={`flex flex-row items-center ${className ?? \"\"}`}>\n\t\t\t<input\n\t\t\t\ttype=\"number\"\n\t\t\t\tid=\"hrs\"\n\t\t\t\tclassName=\"flex max-w-[50px]\"\n\t\t\t\tvalue={hrs || \"\"}\n\t\t\t\tplaceholder=\"0\"\n\t\t\t\tonChange={onChangeHrs}\n\t\t\t/>\n\t\t\t<label htmlFor=\"hours\" className=\"px-2\">\n\t\t\t\thr{hrs !== 1 && \"s\"}\n\t\t\t</label>\n\t\t\t<input\n\t\t\t\ttype=\"number\"\n\t\t\t\tid=\"mins\"\n\t\t\t\tclassName=\"flex max-w-[55px]\"\n\t\t\t\tvalue={mins || \"\"}\n\t\t\t\tplaceholder=\"0\"\n\t\t\t\tonChange={onChangeMins}\n\t\t\t/>\n\t\t\t<label htmlFor=\"mins\" className=\"px-2\">\n\t\t\t\tmin{mins !== 1 ? \"s\" : \"\"}\n\t\t\t</label>\n\t\t\t<input\n\t\t\t\ttype=\"number\"\n\t\t\t\tid=\"secs\"\n\t\t\t\tclassName=\"flex max-w-[55px]\"\n\t\t\t\tvalue={secs || \"\"}\n\t\t\t\tplaceholder=\"0\"\n\t\t\t\tonChange={onChangeSecs}\n\t\t\t/>\n\t\t\t<label htmlFor=\"secs\" className=\"px-2\">\n\t\t\t\tsec{secs !== 1 ? \"s\" : \"\"}\n\t\t\t</label>\n\t\t</div>\n\t);\n};\n\nexport default TimestampInput;\n", "import { useState, useCallback, useEffect, useMemo } from \"react\";\nimport { useLazyQuery, useMutation, gql } from \"@apollo/client\";\n\nimport type { Entity } from \"~/types\";\nimport { EntityFragments } from \"~/fragments\";\nimport useRequireLogin from \"~/hooks/useRequireLogin\";\nimport useTags from \"~/hooks/useTags\";\nimport DateTimeService from \"~/services/DateTime\";\nimport TagService from \"~/services/Tag\";\n\nimport Modal from \"~/components/Modal\";\nimport LoadingBlock from \"~/components/LoadingBlock\";\n\nconst PARENT_ENTITY_QUERY = gql`\n\tquery Entity($id: String!) {\n\t\tentity(id: $id) {\n\t\t\t...AudioItem\n\t\t\t...Collection\n\t\t\t...Person\n\t\t\t...Place\n\t\t\t...Instrument\n\t\t\t...Tune\n\t\t}\n\t}\n\t${EntityFragments.audioItem}\n\t${EntityFragments.collection}\n\t${EntityFragments.instrument}\n\t${EntityFragments.person}\n\t${EntityFragments.place}\n\t${EntityFragments.tune}\n`;\n\nconst DELETE_TAG_MUTATION = gql`\n\tmutation DeleteTag($id: String!) {\n\t\tdeleteTag(id: $id)\n\t}\n`;\n\ninterface Props {\n\tentity: Entity;\n\tclassName?: string;\n\tchildren?: React.ReactChild | React.ReactChild[];\n\tonSuccess?: () => void;\n}\nconst EditTagsButton = ({ entity, className, children, onSuccess }: Props) => {\n\tconst { currentUser, requireLogin } = useRequireLogin();\n\n\tconst [editTagsModalIsVisible, setEditTagsModalIsVisible] = useState(false);\n\n\tconst [getParentEntity, { loading: parentEntityLoading }] = useLazyQuery<{\n\t\tentity: Entity;\n\t}>(PARENT_ENTITY_QUERY, {\n\t\tvariables: { id: entity.id },\n\t\tfetchPolicy: \"network-only\",\n\t});\n\n\tconst [deleteTag, { loading: deleteTagLoading, data: deleteTagData }] =\n\t\tuseMutation(DELETE_TAG_MUTATION, { errorPolicy: \"all\" });\n\n\tconst {\n\t\ttagsQuery: { refetch: refetchTopLevelTags },\n\t} = useTags();\n\n\tconst onDeleteTag = useCallback(\n\t\tasync (id: string) => {\n\t\t\tif (!currentUser) {\n\t\t\t\treturn await requireLogin();\n\t\t\t}\n\t\t\tif (window.confirm(\"Are you sure you want to delete this Tag?\")) {\n\t\t\t\tdeleteTag({ variables: { id } });\n\t\t\t}\n\t\t},\n\t\t[deleteTag, currentUser, requireLogin]\n\t);\n\n\tuseEffect(() => {\n\t\tconst onDeleteSuccess = async () => {\n\t\t\tawait Promise.all([refetchTopLevelTags(), getParentEntity()]);\n\t\t\tsetEditTagsModalIsVisible(false);\n\t\t};\n\t\tif (deleteTagData?.deleteTag) {\n\t\t\tonDeleteSuccess();\n\t\t\tif (onSuccess) {\n\t\t\t\tonSuccess();\n\t\t\t}\n\t\t}\n\t}, [\n\t\tdeleteTagData,\n\t\tgetParentEntity,\n\t\tsetEditTagsModalIsVisible,\n\t\trefetchTopLevelTags,\n\t\tonSuccess,\n\t]);\n\n\tconst { tags } = entity;\n\n\tconst sortedTags = useMemo(() => {\n\t\tif (!Array.isArray(tags)) {\n\t\t\treturn [];\n\t\t}\n\t\treturn TagService.sort(tags);\n\t}, [tags]);\n\n\tif (!sortedTags || sortedTags.length === 0) {\n\t\treturn null;\n\t}\n\n\tconst isLoading = parentEntityLoading || deleteTagLoading;\n\n\treturn (\n\t\t<>\n\t\t\t<button\n\t\t\t\tclassName={`btn-text whitespace-pre ${className ?? \"\"}`}\n\t\t\t\tonClick={() => setEditTagsModalIsVisible(true)}\n\t\t\t>\n\t\t\t\t{children ?? \"Edit Tags\"}\n\t\t\t</button>\n\n\t\t\t<Modal\n\t\t\t\ttitle=\"Edit Tags\"\n\t\t\t\tisVisible={editTagsModalIsVisible}\n\t\t\t\tonClose={() => setEditTagsModalIsVisible(false)}\n\t\t\t>\n\t\t\t\t{isLoading ? (\n\t\t\t\t\t<LoadingBlock />\n\t\t\t\t) : (\n\t\t\t\t\tsortedTags.map((tag, index) => {\n\t\t\t\t\t\tconst { id, relationship, objectEntity, subjectTimeMarkerSeconds } =\n\t\t\t\t\t\t\ttag;\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclassName=\"flex flex-row items-start justify-start\"\n\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<div className=\"flex flex-col flex-1 justify-start align-start mb-4 pr-4\">\n\t\t\t\t\t\t\t\t\t<div className=\"italic text-gray-500\">\n\t\t\t\t\t\t\t\t\t\t{relationship.name}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"uppercase text-sm text-gray-500 pr-2\">\n\t\t\t\t\t\t\t\t\t\t{objectEntity.entityType}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t{objectEntity.name}\n\t\t\t\t\t\t\t\t\t{typeof subjectTimeMarkerSeconds === \"number\" && (\n\t\t\t\t\t\t\t\t\t\t<span className=\"italic text-gray-500\">\n\t\t\t\t\t\t\t\t\t\t\t{`at ${DateTimeService.formatSecondsAsDuration(\n\t\t\t\t\t\t\t\t\t\t\t\tsubjectTimeMarkerSeconds\n\t\t\t\t\t\t\t\t\t\t\t)}`}\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<button className=\"btn-text\" onClick={() => onDeleteTag(id)}>\n\t\t\t\t\t\t\t\t\tDelete Tag\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t);\n\t\t\t\t\t})\n\t\t\t\t)}\n\t\t\t</Modal>\n\t\t</>\n\t);\n};\n\nexport default EditTagsButton;\n", "import React, { useRef, useEffect, useState, useCallback } from \"react\";\n\n// Menu is a simple overlay menu that displays whatever menu items are passed to\n// it as children. For example, you can use it like:\n//\n// <Menu>\n//\t <span onClick={doSomething}>Option 1</span>\n//\t <span onClick={doSomethingElse}>Option 2</span>\n// </Menu>\n\ninterface Props {\n\tchildren: React.ReactNode | React.ReactNode[];\n}\n\nconst Menu = ({ children }: Props) => {\n\tconst containerRef = useRef<HTMLDivElement>();\n\n\tconst [shouldOpenLeft, setShouldOpenLeft] = useState(true);\n\tconst [isOpen, setIsOpen] = useState(false);\n\n\tuseEffect(() => {\n\t\tconst container = containerRef.current;\n\t\tif (container) {\n\t\t\tconst { x } = container.getBoundingClientRect();\n\t\t\tif (x < 200) {\n\t\t\t\tsetShouldOpenLeft(false);\n\t\t\t}\n\t\t}\n\t}, []);\n\n\tconst onIconClicked = useCallback((event) => {\n\t\tevent.stopPropagation();\n\t\tsetIsOpen(true);\n\t}, []);\n\n\tconst onBackgroundClicked = useCallback((event) => {\n\t\tevent.stopPropagation();\n\t\tsetIsOpen(false);\n\t}, []);\n\n\tconst childrenAsArray = Array.isArray(children) ? children : [children];\n\n\tif (!children) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<div className=\"relative\" ref={containerRef}>\n\t\t\t<button\n\t\t\t\tclassName=\"btn-secondary\"\n\t\t\t\tonClick={onIconClicked}\n\t\t\t\taria-label={isOpen ? \"Close Menu\" : \"Show Menu\"}\n\t\t\t>\n\t\t\t\t<i className=\"material-icons\">expand_more</i>\n\t\t\t</button>\n\n\t\t\t{isOpen && (\n\t\t\t\t<>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName=\"fixed top-0 right-0 bottom-0 left-0\"\n\t\t\t\t\t\tonClick={onBackgroundClicked}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<ul\n\t\t\t\t\t\tclassName={`absolute top-9 ${\n\t\t\t\t\t\t\tshouldOpenLeft ? \"right-0 text-right\" : \"left-0 text-left\"\n\t\t\t\t\t\t} flex flex-col bg-white rounded shadow-xl`}\n\t\t\t\t\t>\n\t\t\t\t\t\t{childrenAsArray.map((child, index) => (\n\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\tclassName={`cursor-pointer first:rounded-t last:rounded-b text-sm text-gray-500 font-bold whitespace-nowrap hover:bg-gray-200 ${\n\t\t\t\t\t\t\t\t\tindex === 0 ? \"hover:rounded-t\" : \"\"\n\t\t\t\t\t\t\t\t} ${\n\t\t\t\t\t\t\t\t\tindex === childrenAsArray.length - 1 ? \"hover:rounded-b\" : \"\"\n\t\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{child}\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</ul>\n\t\t\t\t</>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nexport default Menu;\n", "import { useCallback, useEffect } from \"react\";\nimport { useNavigate } from \"@remix-run/react\";\nimport { useMutation, useLazyQuery, gql } from \"@apollo/client\";\n\nimport { AUDIO_ITEM_QUERY } from \"~/hooks/useAudioItem\";\nimport useRequireLogin from \"~/hooks/useRequireLogin\";\nimport useSavedItemsForUser from \"~/hooks/useSavedItemsForUser\";\nimport type { AudioItem, SavedItem } from \"~/types\";\nimport EntityService from \"~/services/Entity\";\n\nconst CREATE_SAVED_ITEM_MUTATION = gql`\n\tmutation CreateSavedItem($input: CreateSavedItemInput!) {\n\t\tcreateSavedItem(input: $input) {\n\t\t\tid\n\t\t}\n\t}\n`;\nconst DELETE_SAVED_ITEM_MUTATION = gql`\n\tmutation DeleteSavedItem($input: DeleteSavedItemInput!) {\n\t\tdeleteSavedItem(input: $input)\n\t}\n`;\n\ninterface CreateMutationData {\n\tcreateSavedItem: SavedItem;\n}\ninterface CreateMutationVariables {\n\tinput: {\n\t\taudioItemId: string;\n\t};\n}\ninterface DeleteMutationData {\n\tdeleteSavedItem: boolean;\n}\ninterface DeleteMutationVariables {\n\tinput: {\n\t\taudioItemId: string;\n\t};\n}\ninterface Props {\n\taudioItem: AudioItem;\n}\nconst SaveItemButton = ({ audioItem }: Props) => {\n\tconst { id, slug, isSavedByUser } = audioItem;\n\tconst navigate = useNavigate();\n\tconst { currentUser, requireLogin } = useRequireLogin();\n\tconst [refetchAudioItem] = useLazyQuery(AUDIO_ITEM_QUERY, {\n\t\tfetchPolicy: \"network-only\",\n\t});\n\tconst [, { refetch: refetchSavedItemsForUser }] = useSavedItemsForUser();\n\n\tconst [\n\t\tcreateSavedItem,\n\t\t{ loading: createLoading, data: createData, error: createError },\n\t] = useMutation<CreateMutationData, CreateMutationVariables>(\n\t\tCREATE_SAVED_ITEM_MUTATION,\n\t\t{ errorPolicy: \"all\" }\n\t);\n\tconst [\n\t\tdeleteSavedItem,\n\t\t{ loading: deleteLoading, data: deleteData, error: deleteError },\n\t] = useMutation<DeleteMutationData, DeleteMutationVariables>(\n\t\tDELETE_SAVED_ITEM_MUTATION,\n\t\t{ errorPolicy: \"all\" }\n\t);\n\n\tconst onButtonClicked = useCallback(async () => {\n\t\tif (!currentUser) {\n\t\t\tconst redirectTo = EntityService.makeHrefForView(audioItem);\n\t\t\treturn await requireLogin({ redirectTo });\n\t\t} else if (!isSavedByUser) {\n\t\t\tcreateSavedItem({\n\t\t\t\tvariables: {\n\t\t\t\t\tinput: { audioItemId: id },\n\t\t\t\t},\n\t\t\t});\n\t\t} else if (isSavedByUser) {\n\t\t\tdeleteSavedItem({\n\t\t\t\tvariables: {\n\t\t\t\t\tinput: { audioItemId: id },\n\t\t\t\t},\n\t\t\t});\n\t\t}\n\t}, [currentUser, navigate, audioItem, id, createSavedItem, deleteSavedItem]);\n\n\tuseEffect(() => {\n\t\tconst refetch = async () => {\n\t\t\tawait refetchAudioItem({ variables: { slug } });\n\t\t\trefetchSavedItemsForUser();\n\t\t};\n\t\tif (createData) {\n\t\t\trefetch();\n\t\t}\n\t}, [createData, refetchAudioItem, refetchSavedItemsForUser, slug]);\n\tuseEffect(() => {\n\t\tif (createError) {\n\t\t\twindow.alert(\"Error saving item. Please try again.\");\n\t\t}\n\t}, [createError]);\n\n\tuseEffect(() => {\n\t\tconst refetch = async () => {\n\t\t\tawait refetchAudioItem({ variables: { slug } });\n\t\t\trefetchSavedItemsForUser();\n\t\t};\n\t\tif (deleteData) {\n\t\t\trefetch();\n\t\t}\n\t}, [deleteData, refetchAudioItem, refetchSavedItemsForUser, slug]);\n\tuseEffect(() => {\n\t\tif (deleteError) {\n\t\t\twindow.alert(\"Error removing saved item. Please try again.\");\n\t\t}\n\t}, [deleteError]);\n\n\treturn (\n\t\t<button\n\t\t\tclassName={`btn-secondary ${\n\t\t\t\tisSavedByUser ? \"btn-secondary-active\" : \"\"\n\t\t\t} pl-0.5`}\n\t\t\tonClick={onButtonClicked}\n\t\t\tdisabled={createLoading || deleteLoading}\n\t\t\taria-label={isSavedByUser ? \"Unsave\" : \"Save\"}\n\t\t>\n\t\t\t{isSavedByUser ? (\n\t\t\t\t<>\n\t\t\t\t\t<i className=\"material-icons\">bookmark</i>\n\t\t\t\t\tSaved\n\t\t\t\t</>\n\t\t\t) : (\n\t\t\t\t<>\n\t\t\t\t\t<i className=\"material-icons\">bookmark_border</i>\n\t\t\t\t\tSave\n\t\t\t\t</>\n\t\t\t)}\n\t\t</button>\n\t);\n};\n\nexport default SaveItemButton;\n", "import { useEffect } from \"react\";\nimport type { LazyQueryHookOptions, LazyQueryResult } from \"@apollo/client\";\nimport { useLazyQuery, gql } from \"@apollo/client\";\nimport type { AudioItem } from \"~/types\";\nimport { EntityFragments } from \"~/fragments\";\n\nexport const AUDIO_ITEM_QUERY = gql`\n\tquery AudioItem($slug: String!) {\n\t\taudioItem(slug: $slug) {\n\t\t\t...AudioItem\n\t\t}\n\t}\n\t${EntityFragments.audioItem}\n`;\n\ninterface QueryData {\n\taudioItem: AudioItem;\n}\ninterface QueryVariables {\n\tslug: string;\n}\ninterface HookArgs {\n\tslug?: string;\n\tqueryOptions?: LazyQueryHookOptions<QueryData, QueryVariables>;\n\tskip?: boolean;\n}\n\nconst useAudioItem = ({\n\tslug,\n\tqueryOptions = {},\n\tskip = false,\n}: HookArgs = {}): [\n\tAudioItem | undefined,\n\tLazyQueryResult<QueryData, QueryVariables>\n] => {\n\tconst [getAudioItem, audioItemQuery] = useLazyQuery<\n\t\tQueryData,\n\t\tQueryVariables\n\t>(AUDIO_ITEM_QUERY, queryOptions);\n\tconst { data } = audioItemQuery;\n\n\tuseEffect(() => {\n\t\tif (skip) {\n\t\t\treturn;\n\t\t}\n\t\tif (slug) {\n\t\t\tgetAudioItem({\n\t\t\t\tvariables: {\n\t\t\t\t\tslug,\n\t\t\t\t},\n\t\t\t});\n\t\t}\n\t}, [getAudioItem, slug, skip]);\n\n\tconst audioItem = data?.audioItem;\n\n\treturn [audioItem, audioItemQuery];\n};\n\nexport default useAudioItem;\n", "import { useEffect } from \"react\";\nimport type { LazyQueryResult } from \"@apollo/client\";\nimport { useLazyQuery, gql } from \"@apollo/client\";\nimport type { SavedItem } from \"~/types\";\nimport { SavedItemFragments } from \"~/fragments\";\nimport useCurrentUser from \"~/hooks/useCurrentUser\";\n\nconst SAVED_ITEMS_FOR_USER_QUERY = gql`\n\tquery SavedItemsForUser {\n\t\tsavedItemsForUser {\n\t\t\t...SavedItem\n\t\t}\n\t}\n\t${SavedItemFragments.savedItem}\n`;\n\ninterface QueryData {\n\tsavedItemsForUser: SavedItem[];\n}\n\nconst useSavedItemsForUser = (): [\n\tSavedItem[] | undefined,\n\tLazyQueryResult<QueryData, {}>\n] => {\n\tconst [currentUser] = useCurrentUser();\n\n\tconst [makeQuery, query] = useLazyQuery<QueryData, {}>(\n\t\tSAVED_ITEMS_FOR_USER_QUERY,\n\t\t{ fetchPolicy: \"cache-first\" }\n\t);\n\n\tuseEffect(() => {\n\t\tif (currentUser) {\n\t\t\tmakeQuery();\n\t\t}\n\t}, [makeQuery, currentUser]);\n\n\tconst savedItemsForUser = query.data?.savedItemsForUser;\n\n\treturn [savedItemsForUser, query];\n};\n\nexport default useSavedItemsForUser;\n", "import { useCallback, useState, useEffect, useRef, useMemo } from \"react\";\nimport { Link } from \"@remix-run/react\";\n\nimport type { AudioItemWithRelations, CommentWithRelations } from \"~/types\";\nimport DateTimeService from \"~/services/DateTime\";\n\nimport Modal from \"~/components/Modal\";\nimport CreateCommentForm from \"~/components/CreateCommentForm\";\ninterface Props {\n\taudioItem: AudioItemWithRelations;\n}\nconst ViewCommentsButton = ({ audioItem }: Props) => {\n\tconst { comments } = audioItem;\n\tconst commentsCount = comments.length;\n\n\tconst commentsRef = useRef<HTMLDivElement>();\n\tconst [modalIsVisible, setModalIsVisible] = useState(false);\n\n\tconst onViewCommentsButtonClicked = useCallback(async () => {\n\t\tsetModalIsVisible(true);\n\t}, []);\n\n\tconst onCloseModal = useCallback(() => setModalIsVisible(false), []);\n\n\tuseEffect(() => {\n\t\t// If comments have loaded, scroll to the bottom\n\t\tif (!commentsRef.current) {\n\t\t\treturn;\n\t\t}\n\t\tconst commentsHeight = commentsRef.current?.scrollHeight ?? 0;\n\t\tif (modalIsVisible && commentsHeight > 0 && comments.length > 0) {\n\t\t\tcommentsRef.current.scrollTo({\n\t\t\t\ttop: commentsHeight,\n\t\t\t\tbehavior: \"smooth\",\n\t\t\t});\n\t\t}\n\t}, [comments, modalIsVisible]);\n\n\tconst modalTitle =\n\t\tcommentsCount > 0\n\t\t\t? `${commentsCount} Comment${commentsCount === 1 ? \"\" : \"s\"}`\n\t\t\t: \"No Comments\";\n\n\treturn (\n\t\t<>\n\t\t\t<button\n\t\t\t\tclassName=\"btn-secondary\"\n\t\t\t\tonClick={onViewCommentsButtonClicked}\n\t\t\t\taria-label=\"View Comments\"\n\t\t\t>\n\t\t\t\t<i className=\"material-icons mr-0.5\">chat_bubble_outline</i>\n\t\t\t\t{commentsCount > 0 ? (\n\t\t\t\t\t<>\n\t\t\t\t\t\t{commentsCount}\n\t\t\t\t\t\t<span className=\"hidden md:block md:pl-1\">\n\t\t\t\t\t\t\tComment{commentsCount === 1 ? \"\" : \"s\"}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</>\n\t\t\t\t) : (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<span className=\"md:hidden\">0</span>\n\t\t\t\t\t\t<span className=\"hidden md:block\">No Comments</span>\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t</button>\n\n\t\t\t<Modal\n\t\t\t\ttitle={modalTitle}\n\t\t\t\tisVisible={modalIsVisible}\n\t\t\t\tonClose={onCloseModal}\n\t\t\t>\n\t\t\t\t{comments.length > 0 && (\n\t\t\t\t\t<div className=\"max-h-1/2 overflow-auto\">\n\t\t\t\t\t\t{comments.map(({ createdByUser, createdAt, text }, index) => (\n\t\t\t\t\t\t\t<div className=\"mb-2\" key={index}>\n\t\t\t\t\t\t\t\t<div className=\"text-gray-500 text-sm mb-1 flex flex-row items-center\">\n\t\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\t\tto={`/users/${createdByUser?.id}`}\n\t\t\t\t\t\t\t\t\t\tclassName=\"mr-1 flex flex-row items-center\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<span>{createdByUser?.username}</span>\n\t\t\t\t\t\t\t\t\t</Link>{\" \"}\n\t\t\t\t\t\t\t\t\t{DateTimeService.formatDateYearTime(createdAt)}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"text-sm whitespace-pre-line text-gray-900\">\n\t\t\t\t\t\t\t\t\t{text}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\n\t\t\t\t<div className=\"mt-4\">\n\t\t\t\t\t<CreateCommentForm parentEntity={audioItem} onSuccess={() => {}} />\n\t\t\t\t</div>\n\t\t\t</Modal>\n\t\t</>\n\t);\n};\n\nexport default ViewCommentsButton;\n", "import { useState, useCallback, useEffect } from \"react\";\nimport { useMutation, gql } from \"@apollo/client\";\n\nimport type { Comment, Entity } from \"~/types\";\nimport { isAudioItem } from \"~/types\";\nimport { CommentFragments } from \"~/fragments\";\nimport useRequireLogin from \"~/hooks/useRequireLogin\";\nimport useComments from \"~/hooks/useComments\";\nimport EntityService from \"~/services/Entity\";\n\nconst CREATE_COMMENT_MUTATION = gql`\n\tmutation CreateComment($input: CreateCommentInput!) {\n\t\tcreateComment(input: $input) {\n\t\t\t...CommentWithoutParentEntity\n\t\t}\n\t}\n\t${CommentFragments.commentWithoutParentEntity}\n`;\n\ninterface MutationData {\n\tcreateComment: Comment;\n}\ninterface MutationVariables {\n\tinput: {\n\t\tparentAudioItemId: string;\n\t\ttext: string;\n\t};\n}\ninterface Props {\n\tparentEntity: Entity;\n\tonSuccess?: (comment: Comment) => void;\n}\nconst CreateCommentForm = ({ parentEntity, onSuccess }: Props) => {\n\tconst { currentUser, requireLogin } = useRequireLogin();\n\n\tconst [text, setText] = useState(\"\");\n\n\tconst [createComment, { loading, data, error }] = useMutation<\n\t\tMutationData,\n\t\tMutationVariables\n\t>(CREATE_COMMENT_MUTATION, { errorPolicy: \"all\" });\n\n\tconst {\n\t\tcommentsQuery: { refetch: refetchTopLevelComments },\n\t} = useComments();\n\n\tconst onSubmit = useCallback(\n\t\tasync (event) => {\n\t\t\tevent.preventDefault();\n\t\t\tif (!currentUser) {\n\t\t\t\tconst redirectTo = EntityService.makeHrefForView(parentEntity);\n\t\t\t\treturn await requireLogin({ redirectTo });\n\t\t\t}\n\n\t\t\tlet parentAudioItemId;\n\t\t\tif (isAudioItem(parentEntity)) {\n\t\t\t\tparentAudioItemId = parentEntity.id;\n\t\t\t}\n\t\t\tconst input = { parentAudioItemId, text };\n\t\t\tcreateComment({ variables: { input } });\n\t\t},\n\t\t[createComment, parentEntity, text]\n\t);\n\n\tuseEffect(() => {\n\t\tif (data?.createComment) {\n\t\t\tsetText(\"\");\n\t\t\tif (onSuccess) {\n\t\t\t\tonSuccess(data.createComment);\n\t\t\t}\n\t\t\t// Now that a new Comment has been created, update the top-level\n\t\t\t// `comments` query\n\t\t\trefetchTopLevelComments();\n\t\t}\n\t}, [data, refetchTopLevelComments]);\n\n\treturn (\n\t\t<form onSubmit={onSubmit} className=\"w-full\">\n\t\t\t<textarea\n\t\t\t\tplaceholder=\"Add a comment...\"\n\t\t\t\tautoFocus\n\t\t\t\tvalue={text}\n\t\t\t\trows={3}\n\t\t\t\tonChange={(event) => setText(event.target.value)}\n\t\t\t/>\n\t\t\t{text.length > 0 && (\n\t\t\t\t<input\n\t\t\t\t\tclassName=\"btn mt-3 w-auto\"\n\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\tdisabled={loading}\n\t\t\t\t\tvalue=\"Add Comment\"\n\t\t\t\t/>\n\t\t\t)}\n\t\t\t{error && <div className=\"text-red-600 mt-3\">{error.message}</div>}\n\t\t</form>\n\t);\n};\n\nexport default CreateCommentForm;\n", "import { useEffect, useCallback } from \"react\";\nimport type {\n\tLazyQueryResult,\n\tLazyQueryHookOptions,\n\tQueryLazyOptions,\n} from \"@apollo/client\";\nimport { useLazyQuery, gql } from \"@apollo/client\";\nimport type { Comment } from \"~/types\";\nimport { CommentFragments } from \"~/fragments\";\n\nexport const COMMENTS_QUERY = gql`\n\tquery Comments($input: CommentsInput!) {\n\t\tcomments(input: $input) {\n\t\t\t...Comment\n\t\t}\n\t}\n\t${CommentFragments.comment}\n`;\n\ninterface QueryData {\n\tcomments: Comment[];\n}\ninterface QueryVariables {\n\tinput: {\n\t\ttake?: number;\n\t\tskip?: number;\n\t};\n}\ninterface HookArgs {\n\tresultsPerPage?: number;\n\tqueryOptions?: LazyQueryHookOptions<QueryData, QueryVariables>;\n}\ninterface HookReturnValue {\n\tcomments: Comment[];\n\tgetComments: (options?: QueryLazyOptions<QueryVariables>) => void;\n\tcommentsQuery: LazyQueryResult<QueryData, QueryVariables>;\n\tfetchNextPageOfComments: () => void;\n}\n\nconst useComments = ({\n\tresultsPerPage = 10,\n\tqueryOptions = {},\n}: HookArgs = {}): HookReturnValue => {\n\tconst [getComments, commentsQuery] = useLazyQuery<QueryData, QueryVariables>(\n\t\tCOMMENTS_QUERY,\n\t\t{\n\t\t\tnotifyOnNetworkStatusChange: true,\n\t\t\t...queryOptions,\n\t\t}\n\t);\n\tconst { data, fetchMore } = commentsQuery;\n\n\tuseEffect(() => {\n\t\tgetComments({\n\t\t\tvariables: {\n\t\t\t\tinput: {\n\t\t\t\t\ttake: resultsPerPage,\n\t\t\t\t},\n\t\t\t},\n\t\t});\n\t}, [getComments, resultsPerPage]);\n\n\tconst comments = data?.comments;\n\n\tconst fetchNextPageOfComments = useCallback(() => {\n\t\tfetchMore({\n\t\t\tvariables: {\n\t\t\t\tinput: {\n\t\t\t\t\ttake: resultsPerPage,\n\t\t\t\t\tskip: comments.length ?? 0,\n\t\t\t\t},\n\t\t\t},\n\t\t});\n\t}, [fetchMore, resultsPerPage, comments]);\n\n\treturn {\n\t\tcomments: commentsQuery.data?.comments,\n\t\tgetComments,\n\t\tcommentsQuery,\n\t\tfetchNextPageOfComments,\n\t};\n};\n\nexport default useComments;\n", "import { useCallback, useMemo } from \"react\";\nimport { Link } from \"@remix-run/react\";\n\nimport type { AudioItem, Tag } from \"~/types\";\nimport { EntityType } from \"~/types\";\nimport DateTime from \"~/services/DateTime\";\nimport Entity from \"~/services/Entity\";\nimport usePlayerContext from \"~/hooks/usePlayerContext\";\n\ninterface Props {\n\taudioItem: AudioItem;\n}\nconst TimeMarkers = ({ audioItem }: Props) => {\n\tconst { tags } = audioItem;\n\n\tconst {\n\t\tactiveAudioItem,\n\t\tsetActiveAudioItem,\n\t\tplaybackPositionSeconds,\n\t\tsetSeekPositionSeconds,\n\t} = usePlayerContext();\n\n\ttype TimeMarkersWithTags = {\n\t\t[timeMarker: string]: Tag[];\n\t};\n\tconst timeMarkersWithTags: TimeMarkersWithTags = useMemo(() => {\n\t\tconst output: Record<number, Tag[]> = {};\n\t\tif (!tags) {\n\t\t\treturn output;\n\t\t}\n\t\t// Filter out tags without time markers\n\t\tconst filteredTags = tags.filter(\n\t\t\t(tag) => typeof tag.subjectTimeMarkerSeconds === \"number\"\n\t\t);\n\t\t// Sort array so that time markers are ascending, and thus object keys will\n\t\t// be created in ascending order\n\t\tfilteredTags.sort(\n\t\t\t(a, b) =>\n\t\t\t\ta.subjectTimeMarkerSeconds ?? 0 - (b.subjectTimeMarkerSeconds ?? 0)\n\t\t);\n\t\tfilteredTags.forEach((tag) => {\n\t\t\tif (typeof tag.subjectTimeMarkerSeconds !== \"number\") {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst existingTagsAtTimeMarker: Tag[] | undefined =\n\t\t\t\toutput[tag.subjectTimeMarkerSeconds] ?? [];\n\t\t\toutput[tag.subjectTimeMarkerSeconds] = [...existingTagsAtTimeMarker, tag];\n\t\t});\n\t\treturn output;\n\t}, [tags]);\n\n\tconst onTimeMarkerClicked = useCallback(\n\t\t(event, timeMarker) => {\n\t\t\tif (event.target.id === \"time-marker-tag-link\") {\n\t\t\t\tevent.stopPropagation();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (activeAudioItem?.id !== audioItem.id) {\n\t\t\t\tsetActiveAudioItem(audioItem);\n\t\t\t}\n\t\t\tsetSeekPositionSeconds(parseInt(timeMarker));\n\t\t},\n\t\t[audioItem, activeAudioItem, setActiveAudioItem, setSeekPositionSeconds]\n\t);\n\n\tconst audioItemIsInPlayer = activeAudioItem?.id === audioItem.id;\n\tconst activeTimeMarker: string | undefined = useMemo(() => {\n\t\tif (!audioItemIsInPlayer) {\n\t\t\treturn undefined;\n\t\t}\n\t\tlet result: string | undefined;\n\t\tObject.keys(timeMarkersWithTags).forEach((timeMarker) => {\n\t\t\tif (parseInt(timeMarker) <= (playbackPositionSeconds ?? 0)) {\n\t\t\t\tresult = timeMarker;\n\t\t\t}\n\t\t});\n\t\treturn result;\n\t}, [audioItemIsInPlayer, timeMarkersWithTags, playbackPositionSeconds]);\n\n\treturn (\n\t\t<div className=\"flex flex-col\">\n\t\t\t{Object.entries(timeMarkersWithTags).map(\n\t\t\t\t([timeMarker, tagsAtTimeMarker], index) => {\n\t\t\t\t\tconst isActive = activeTimeMarker === timeMarker;\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName=\"flex flex-row items-start md:items-center justify-start mb-2 last:mb-1 text-sm\"\n\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<div className=\"flex flex-row w-16 flex-shrink-0\">\n\t\t\t\t\t\t\t\t<div className=\"w-3 text-left\">{isActive && \">\"}</div>\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclassName=\"link\"\n\t\t\t\t\t\t\t\t\tonClick={(event) => onTimeMarkerClicked(event, timeMarker)}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{DateTime.formatSecondsAsDuration(parseInt(timeMarker))}\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"flex flex-col md:flex-row\">\n\t\t\t\t\t\t\t\t{tagsAtTimeMarker.map((tag, index) => (\n\t\t\t\t\t\t\t\t\t<span className=\"flex flex-row items-center\" key={index}>\n\t\t\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\t\t\tto={Entity.makeHrefForView(tag.objectEntity)}\n\t\t\t\t\t\t\t\t\t\t\tid=\"time-marker-tag-link\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{tag.objectEntity.name}\n\t\t\t\t\t\t\t\t\t\t\t{tag.objectEntity.entityType === EntityType.Tune\n\t\t\t\t\t\t\t\t\t\t\t\t? ` (${tag.objectEntity.type})`\n\t\t\t\t\t\t\t\t\t\t\t\t: \"\"}\n\t\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t\t{index !== tagsAtTimeMarker.length - 1 && (\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"hidden md:block mr-1\">,</span>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nexport default TimeMarkers;\n", "import { useCallback, useState, useMemo } from \"react\";\nimport { useQuery, gql } from \"@apollo/client\";\nimport type { TakedownRequest } from \"@prisma/client\";\n\nimport type { Entity, EntityType } from \"~/types\";\nimport { isPendingTakedownRequest, isApprovedTakedownRequest } from \"~/types\";\nimport useRequireLogin from \"~/hooks/useRequireLogin\";\nimport EntityService from \"~/services/Entity\";\nimport { TakedownRequestFragments } from \"~/fragments\";\n\nimport Modal from \"~/components/Modal\";\nimport CreateTakedownRequestForm from \"~/components/CreateTakedownRequestForm\";\nimport LoadingBlock from \"~/components/LoadingBlock\";\nimport DateTimeService from \"~/services/DateTime\";\nimport useAudioItem from \"~/hooks/useAudioItem\";\n\nconst TAKEDOWN_REQUESTS_FOR_ENTITY = gql`\n\tquery TakedownRequestsForEntity($input: TakedownRequestsForEntityInput!) {\n\t\ttakedownRequestsForEntity(input: $input) {\n\t\t\t...TakedownRequestWithoutEntity\n\t\t}\n\t}\n\t${TakedownRequestFragments.takedownRequestWithoutEntity}\n`;\n\ninterface QueryData {\n\ttakedownRequestsForEntity: TakedownRequest[];\n}\ninterface QueryVariables {\n\tinput: {\n\t\tentityType: EntityType;\n\t\tentityId: string;\n\t};\n}\ninterface Props {\n\tentity: Entity;\n\tonTakedownRequestCreated?: (takedownRequest: TakedownRequest) => void;\n}\n\nconst RequestTakedownButton = ({ entity, onTakedownRequestCreated }: Props) => {\n\tconst { currentUser, requireLogin } = useRequireLogin();\n\n\tconst [modalIsVisible, setModalIsVisible] = useState(false);\n\tconst closeModal = useCallback(() => setModalIsVisible(false), []);\n\n\tconst { loading, data, error, refetch } = useQuery<QueryData, QueryVariables>(\n\t\tTAKEDOWN_REQUESTS_FOR_ENTITY,\n\t\t{\n\t\t\tvariables: {\n\t\t\t\tinput: {\n\t\t\t\t\tentityType: entity.entityType,\n\t\t\t\t\tentityId: entity.id,\n\t\t\t\t},\n\t\t\t},\n\t\t\tskip: !modalIsVisible,\n\t\t}\n\t);\n\tconst takedownRequests = data?.takedownRequestsForEntity ?? [];\n\n\tconst onButtonClicked = useCallback(async () => {\n\t\tif (!currentUser) {\n\t\t\tconst redirectTo = EntityService.makeHrefForView(entity);\n\t\t\tawait requireLogin({ redirectTo });\n\t\t} else {\n\t\t\tsetModalIsVisible(true);\n\t\t}\n\t}, [currentUser, entity, requireLogin]);\n\n\tconst onSuccess = useCallback(\n\t\tasync (takedownRequest: TakedownRequest) => {\n\t\t\ttry {\n\t\t\t\tawait refetch();\n\t\t\t\tif (onTakedownRequestCreated) {\n\t\t\t\t\tawait onTakedownRequestCreated(takedownRequest);\n\t\t\t\t}\n\t\t\t} catch {\n\t\t\t\t//\n\t\t\t}\n\t\t},\n\t\t[refetch, onTakedownRequestCreated]\n\t);\n\n\tconst modalContent = useMemo(() => {\n\t\tconst pendingTakedown = takedownRequests.find(isPendingTakedownRequest);\n\t\tconst approvedTakedown = takedownRequests.find(isApprovedTakedownRequest);\n\n\t\tif (loading) {\n\t\t\treturn <LoadingBlock />;\n\t\t} else if (error) {\n\t\t\treturn (\n\t\t\t\t<div className=\"text-red-600\">Error fetching Takedown Request data</div>\n\t\t\t);\n\t\t} else if (approvedTakedown) {\n\t\t\treturn (\n\t\t\t\t<div className=\"text-gray-500\">\n\t\t\t\t\tThis {entity.entityType} has an <strong>approved</strong>{\" \"}\n\t\t\t\t\t{approvedTakedown.type} Takedown Request last updated{\" \"}\n\t\t\t\t\t{DateTimeService.formatDateYearTime(approvedTakedown.updatedAt)}\n\t\t\t\t</div>\n\t\t\t);\n\t\t} else if (pendingTakedown) {\n\t\t\treturn (\n\t\t\t\t<div className=\"text-gray-500\">\n\t\t\t\t\tThis {entity.entityType} has a <strong>pending</strong>{\" \"}\n\t\t\t\t\t{pendingTakedown.type} Takedown Request last updated{\" \"}\n\t\t\t\t\t{DateTimeService.formatDateYearTime(pendingTakedown.updatedAt)}\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<div className=\"text-gray-500 mb-5\">\n\t\t\t\t\tWe exist as a community resource, and as such we place the foremost\n\t\t\t\t\timportance on performers' rights and copyright. You can request a\n\t\t\t\t\ttakedown using this form. We will be in touch to verify details.\n\t\t\t\t</div>\n\n\t\t\t\t<CreateTakedownRequestForm entity={entity} onSuccess={onSuccess} />\n\t\t\t</>\n\t\t);\n\t}, [loading, error, takedownRequests, refetch, entity]);\n\n\treturn (\n\t\t<>\n\t\t\t<span\n\t\t\t\tclassName=\"rounded flex flex-row items-center p-2\"\n\t\t\t\tonClick={onButtonClicked}\n\t\t\t>\n\t\t\t\t<i className=\"material-icons mr-0.5\">report_problem</i>\n\t\t\t\tRequest Takedown\n\t\t\t</span>\n\n\t\t\t<Modal\n\t\t\t\ttitle=\"Request Takedown\"\n\t\t\t\tisVisible={modalIsVisible}\n\t\t\t\tonClose={closeModal}\n\t\t\t>\n\t\t\t\t{modalContent}\n\t\t\t</Modal>\n\t\t</>\n\t);\n};\n\nexport default RequestTakedownButton;\n", "import { useState, useCallback, useEffect } from \"react\";\nimport { useMutation, gql } from \"@apollo/client\";\n\nimport type { Entity, EntityType, TakedownRequest } from \"~/types\";\nimport { TakedownRequestType } from \"~/types\";\nimport { TakedownRequestFragments } from \"~/fragments\";\n\nconst CREATE_TAKEDOWN_REQUEST = gql`\n\tmutation CreateTakedownRequest($input: CreateTakedownRequestInput!) {\n\t\tcreateTakedownRequest(input: $input) {\n\t\t\t...TakedownRequestWithoutEntity\n\t\t}\n\t}\n\t${TakedownRequestFragments.takedownRequestWithoutEntity}\n`;\n\ninterface MutationData {\n\tcreateTakedownRequest: TakedownRequest;\n}\ninterface MutationVariables {\n\tinput: {\n\t\tentityType: EntityType;\n\t\tentityId: string;\n\t\ttype: TakedownRequestType;\n\t\tmessage: string;\n\t};\n}\ninterface Props {\n\tentity: Entity;\n\tonSuccess?: (takedownRequest: TakedownRequest) => void;\n}\n\nconst CreateTakedownRequestForm = ({ entity, onSuccess }: Props) => {\n\tconst defaultType = Object.keys(TakedownRequestType)[0];\n\tconst [type, setType] = useState(defaultType);\n\tconst [message, setMessage] = useState(\"\");\n\tconst [validationError, setValidationError] = useState(\"\");\n\n\tconst [createTakedownRequest, { loading, data, error }] = useMutation<\n\t\tMutationData,\n\t\tMutationVariables\n\t>(CREATE_TAKEDOWN_REQUEST, { errorPolicy: \"all\" });\n\n\tconst getLabelForType = (type: TakedownRequestType) => {\n\t\tswitch (TakedownRequestType[type]) {\n\t\t\tcase TakedownRequestType.Performer:\n\t\t\t\treturn \"I'm a performer in it\";\n\t\t\tcase TakedownRequestType.Copyright:\n\t\t\t\treturn \"I own the copyright\";\n\t\t\tdefault:\n\t\t\t\treturn type;\n\t\t}\n\t};\n\n\tconst onSubmitForm = useCallback(\n\t\t(event) => {\n\t\t\tevent.preventDefault();\n\t\t\tsetValidationError(\"\");\n\t\t\tif (!message) {\n\t\t\t\treturn setValidationError(\"Please include details about your request\");\n\t\t\t}\n\t\t\tconst input = {\n\t\t\t\tentityType: entity.entityType,\n\t\t\t\tentityId: entity.id,\n\t\t\t\ttype: type as TakedownRequestType,\n\t\t\t\tmessage,\n\t\t\t};\n\t\t\ttry {\n\t\t\t\tcreateTakedownRequest({\n\t\t\t\t\tvariables: {\n\t\t\t\t\t\tinput,\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t} catch {\n\t\t\t\t//\n\t\t\t}\n\t\t},\n\t\t[message, entity, type, createTakedownRequest]\n\t);\n\n\tuseEffect(() => {\n\t\tif (data?.createTakedownRequest?.id && onSuccess) {\n\t\t\tonSuccess(data.createTakedownRequest);\n\t\t}\n\t}, [data, onSuccess]);\n\n\treturn (\n\t\t<form className=\"flex flex-col items-start\" onSubmit={onSubmitForm}>\n\t\t\t<label htmlFor=\"select-type\" className=\"mb-2\">\n\t\t\t\tWhy are you requesting a takedown for this {entity.entityType}?\n\t\t\t</label>\n\t\t\t<select\n\t\t\t\tid=\"select-type\"\n\t\t\t\tclassName=\"mb-4\"\n\t\t\t\tvalue={type}\n\t\t\t\tonChange={(event) => setType(event.target.value as TakedownRequestType)}\n\t\t\t>\n\t\t\t\t{Object.keys(TakedownRequestType).map((type, index) => (\n\t\t\t\t\t<option value={type} key={index}>\n\t\t\t\t\t\t{getLabelForType(type as TakedownRequestType)}\n\t\t\t\t\t</option>\n\t\t\t\t))}\n\t\t\t</select>\n\n\t\t\t<textarea\n\t\t\t\tclassName=\"mb-4\"\n\t\t\t\tplaceholder=\"Please include as many details as you can...\"\n\t\t\t\tvalue={message}\n\t\t\t\tonChange={(event) => setMessage(event.target.value)}\n\t\t\t\trows={4}\n\t\t\t/>\n\n\t\t\t<input type=\"submit\" value=\"Submit\" disabled={loading} />\n\n\t\t\t{validationError && (\n\t\t\t\t<div className=\"mt-4 text-red-600\">{validationError}</div>\n\t\t\t)}\n\t\t\t{error && (\n\t\t\t\t<div className=\"mt-4 text-red-600\">\n\t\t\t\t\tError submitting Takedown Request. Please reload the page and try\n\t\t\t\t\tagain.\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</form>\n\t);\n};\n\nexport default CreateTakedownRequestForm;\n", "import { useCallback, useMemo } from \"react\";\nimport { Link } from \"@remix-run/react\";\nimport { type Tune } from \"@prisma/client\";\n\nimport type { AudioItemWithRelations } from \"~/types\";\nimport { EntityStatus, EntityType } from \"~/types\";\nimport EntityService from \"~/services/Entity\";\nimport TagService from \"~/services/Tag\";\nimport usePlayerContext from \"~/hooks/usePlayerContext\";\n\nimport AddTagButton from \"~/components/AddTagButton\";\nimport EditTagsButton from \"~/components/EditTagsButton\";\nimport Menu from \"~/components/Menu\";\nimport SaveItemButton from \"~/components/SaveItemButton\";\nimport ViewCommentsButton from \"~/components/ViewCommentsButton\";\nimport RequestTakedownButton from \"~/components/RequestTakedownButton\";\n\ninterface Props {\n\taudioItem: AudioItemWithRelations;\n\tclassName?: string;\n}\nconst AudioItemCompact = ({ audioItem, className }: Props) => {\n\tconst { name, slug, description, tagsAsSubject, status } = audioItem;\n\tconst isTakenDown = status === EntityStatus.TakenDown;\n\tconst sortedTags = useMemo(\n\t\t() => TagService.sort(tagsAsSubject),\n\t\t[tagsAsSubject]\n\t);\n\n\tconst { activeAudioItem, setActiveAudioItem } = usePlayerContext();\n\n\tconst onPlayPressed = useCallback(() => {\n\t\tsetActiveAudioItem(audioItem);\n\t}, [audioItem, setActiveAudioItem]);\n\n\tconst playButtonMarkup = useMemo(() => {\n\t\tconst audioItemIsInPlayer = activeAudioItem?.id === audioItem.id;\n\t\tif (isTakenDown) {\n\t\t\treturn <div className=\"text-gray-500\">Taken Down</div>;\n\t\t}\n\t\tif (audioItemIsInPlayer) {\n\t\t\treturn <div className=\"text-gray-500\">Playing</div>;\n\t\t}\n\t\treturn (\n\t\t\t<button\n\t\t\t\tstyle={{ lineHeight: 0 }}\n\t\t\t\tonClick={onPlayPressed}\n\t\t\t\taria-label=\"Play\"\n\t\t\t>\n\t\t\t\t<i className=\"material-icons text-6xl text-teal-600 hover:text-teal-800\">\n\t\t\t\t\tplay_arrow\n\t\t\t\t</i>\n\t\t\t</button>\n\t\t);\n\t}, [isTakenDown, activeAudioItem, audioItem, onPlayPressed]);\n\n\treturn (\n\t\t<div\n\t\t\tclassName={`flex flex-row justify-start items-start bg-white shadow-md rounded pt-2 px-3 pb-1 ${\n\t\t\t\tclassName ?? \"\"\n\t\t\t}`}\n\t\t>\n\t\t\t<div className=\"flex justify-center items-center w-14 mr-3\">\n\t\t\t\t{playButtonMarkup}\n\t\t\t</div>\n\n\t\t\t<div className=\"flex flex-1 flex-col overflow-hidden\">\n\t\t\t\t<Link to={`/entities/audio-items/${slug}`}>{name}</Link>\n\n\t\t\t\t<div className=\"flex flex-row flex-wrap text-sm mt-1 mb-1\">\n\t\t\t\t\tTags:\n\t\t\t\t\t{sortedTags.map((tag, index) => {\n\t\t\t\t\t\tconst objectEntity = TagService.getObjectEntity(tag);\n\t\t\t\t\t\tif (!objectEntity) {\n\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<div key={index} className=\"ml-1 whitespace-pre\">\n\t\t\t\t\t\t\t\t<Link to={EntityService.makeHrefForView(objectEntity)}>\n\t\t\t\t\t\t\t\t\t{objectEntity.name}\n\t\t\t\t\t\t\t\t\t{objectEntity.entityType === EntityType.Tune\n\t\t\t\t\t\t\t\t\t\t? ` (${(objectEntity as Tune).type})`\n\t\t\t\t\t\t\t\t\t\t: \"\"}\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t{index !== sortedTags.length - 1 && \", \"}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t);\n\t\t\t\t\t})}\n\t\t\t\t\t<AddTagButton entity={audioItem} className=\"ml-2\" />\n\t\t\t\t\t{tagsAsSubject?.length > 0 && (\n\t\t\t\t\t\t<div className=\"flex ml-1\">\n\t\t\t\t\t\t\t<span className=\"text-gray-500 mr-1\">/</span>\n\t\t\t\t\t\t\t<EditTagsButton entity={audioItem} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\n\t\t\t\t{description && (\n\t\t\t\t\t<div className=\"text-gray-500 text-sm\">{description}</div>\n\t\t\t\t)}\n\n\t\t\t\t<div className=\"border-t border-gray-200 mt-2 pt-1 w-full flex flex-row justify-between items-center\">\n\t\t\t\t\t<div className=\"flex flex-row items-center\">\n\t\t\t\t\t\t<ViewCommentsButton audioItem={audioItem} />\n\n\t\t\t\t\t\t<div className=\"ml-2\">\n\t\t\t\t\t\t\t<SaveItemButton audioItem={audioItem} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<Menu>\n\t\t\t\t\t\t{!isTakenDown && <RequestTakedownButton entity={audioItem} />}\n\t\t\t\t\t</Menu>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default AudioItemCompact;\n", "import { useCallback, useMemo } from \"react\";\nimport { Link } from \"@remix-run/react\";\n\nimport type { AudioItemWithRelations } from \"~/types\";\nimport { EntityStatus } from \"~/types\";\nimport EntityService from \"~/services/Entity\";\nimport TagService from \"~/services/Tag\";\nimport usePlayerContext from \"~/hooks/usePlayerContext\";\n\ninterface Props {\n\taudioItem: AudioItemWithRelations;\n\tclassName?: string;\n}\nconst AudioItemTextOnly = ({ audioItem, className }: Props) => {\n\tconst { name, slug, tagsAsSubject, status } = audioItem;\n\tconst isTakenDown = status === EntityStatus.TakenDown;\n\tconst sortedTags = useMemo(\n\t\t() => TagService.sort(tagsAsSubject),\n\t\t[tagsAsSubject]\n\t);\n\n\tconst { activeAudioItem, setActiveAudioItem } = usePlayerContext();\n\n\tconst onPlayPressed = useCallback(() => {\n\t\tsetActiveAudioItem(audioItem);\n\t}, [audioItem, setActiveAudioItem]);\n\n\tconst playButtonMarkup = useMemo(() => {\n\t\tconst audioItemIsInPlayer = activeAudioItem?.id === audioItem.id;\n\t\tif (isTakenDown) {\n\t\t\treturn <div className=\"text-gray-500\">Taken Down</div>;\n\t\t}\n\t\tif (audioItemIsInPlayer) {\n\t\t\treturn <div className=\"text-gray-500\">Playing</div>;\n\t\t}\n\t\treturn (\n\t\t\t<button\n\t\t\t\tstyle={{ lineHeight: 0 }}\n\t\t\t\tonClick={onPlayPressed}\n\t\t\t\taria-label=\"Play\"\n\t\t\t>\n\t\t\t\t<i className=\"material-icons text-2xl text-teal-600 hover:text-teal-800\">\n\t\t\t\t\tplay_arrow\n\t\t\t\t</i>\n\t\t\t</button>\n\t\t);\n\t}, [isTakenDown, activeAudioItem, audioItem, onPlayPressed]);\n\n\treturn (\n\t\t<div\n\t\t\tclassName={`flex flex-row justify-start items-start ${className ?? \"\"}`}\n\t\t>\n\t\t\t<div className=\"flex justify-center items-center w-14 mr-3\">\n\t\t\t\t{playButtonMarkup}\n\t\t\t</div>\n\n\t\t\t<div className=\"flex flex-1 flex-col overflow-hidden\">\n\t\t\t\t<Link to={`/entities/audio-items/${slug}`}>{name}</Link>\n\n\t\t\t\t<div className=\"flex flex-row flex-wrap text-sm mt-1 mb-1\">\n\t\t\t\t\t<span className=\"text-gray-500\">Tags:</span>\n\t\t\t\t\t{sortedTags.map((tag, index) => {\n\t\t\t\t\t\tconst objectEntity = TagService.getObjectEntity(tag);\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<div key={index} className=\"ml-1 whitespace-pre\">\n\t\t\t\t\t\t\t\t<Link to={EntityService.makeHrefForView(objectEntity)}>\n\t\t\t\t\t\t\t\t\t{objectEntity?.name}\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t{index !== sortedTags.length - 1 && \", \"}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t);\n\t\t\t\t\t})}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default AudioItemTextOnly;\n", "import type { AudioItemWithRelations } from \"~/types\";\nimport { ViewAs } from \"~/types\";\n\nimport AudioItemCard from \"~/components/AudioItemCard\";\nimport AudioItemCompact from \"~/components/AudioItemCompact\";\nimport AudioItemTextOnly from \"~/components/AudioItemTextOnly\";\n\ninterface Props {\n\tviewAs?: ViewAs;\n\taudioItem: AudioItemWithRelations;\n\tshowTitle?: boolean;\n\tclassName?: string;\n}\n\n// AudioItem handles wrapping the different variants of AudioItem components. It\n// returns the variant requested in the `viewAs` prop. Default is Card.\nconst AudioItemComponent = ({\n\tviewAs,\n\taudioItem,\n\tshowTitle,\n\tclassName,\n}: Props) => {\n\tif (viewAs === ViewAs.Cards) {\n\t\treturn (\n\t\t\t<AudioItemCard\n\t\t\t\taudioItem={audioItem}\n\t\t\t\tshowTitle={showTitle}\n\t\t\t\tclassName={className}\n\t\t\t/>\n\t\t);\n\t} else if (viewAs === ViewAs.Compact) {\n\t\treturn <AudioItemCompact audioItem={audioItem} className={className} />;\n\t} else if (viewAs === ViewAs.List) {\n\t\treturn <AudioItemTextOnly audioItem={audioItem} className={className} />;\n\t} else {\n\t\treturn null;\n\t}\n};\n\nexport default AudioItemComponent;\n", "import { useQuery } from \"@apollo/client\";\nimport { Link } from \"@remix-run/react\";\nimport { useNavigate } from \"@remix-run/react\";\n\nimport type { AudioItem } from \"~/types\";\n\nimport Layout from \"~/components/Layout\";\nimport { AUDIO_ITEM_QUERY } from \"~/routes/entities/audio-items/[slug]\";\nimport Breadcrumb from \"~/components/Breadcrumb\";\nimport LoadingBlock from \"~/components/LoadingBlock\";\n\nconst AudioItemAbout = () => {\n\tconst navigate = useNavigate();\n\tconst { slug } = navigate.query;\n\n\tconst { data, error } = useQuery<{\n\t\taudioItem: AudioItem;\n\t}>(AUDIO_ITEM_QUERY, {\n\t\tvariables: { slug },\n\t\tskip: !slug,\n\t});\n\tconst isLoading = !data && !error;\n\tconst { name, description, aliases, itmaAtomSlug } = data?.audioItem ?? {};\n\n\treturn (\n\t\t<Layout pageTitle={`Trad Archive - ${name} - About`}>\n\t\t\t{isLoading && <LoadingBlock />}\n\t\t\t{error && <div className=\"text-red-500\">{error.message}</div>}\n\t\t\t{data && (\n\t\t\t\t<>\n\t\t\t\t\t<Breadcrumb\n\t\t\t\t\t\titems={[\n\t\t\t\t\t\t\t{ label: \"Audio Items\", href: \"/entities/audio-items\" },\n\t\t\t\t\t\t\t{ label: name, href: `/entities/audio-items/${slug}` },\n\t\t\t\t\t\t\t{ label: \"About\" },\n\t\t\t\t\t\t]}\n\t\t\t\t\t\tclassName=\"mb-6\"\n\t\t\t\t\t/>\n\t\t\t\t\t{itmaAtomSlug && (\n\t\t\t\t\t\t<div className=\"mb-4\">\n\t\t\t\t\t\t\t<div className=\"italic text-gray-500\">\n\t\t\t\t\t\t\t\tThis was sourced from ITMA's AtoM archive\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\thref={`https://itma-atom.arkivum.net/index.php/${itmaAtomSlug}`}\n\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\trel=\"noreferrer\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tView on AtoM <i className=\"material-icons text-sm\">launch</i>\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t\t{description && (\n\t\t\t\t\t\t<div className=\"mb-4\">\n\t\t\t\t\t\t\tDescription:\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t<span className=\"text-gray-500 whitespace-pre\">\n\t\t\t\t\t\t\t\t{description}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t\t{aliases && (\n\t\t\t\t\t\t<div className=\"mb-4\">\n\t\t\t\t\t\t\tAliases:\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t<span className=\"text-gray-500\">{aliases}</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t\t<Link to={`/entities/audio-items/${slug}/edit`}>Edit</Link>\n\t\t\t\t</>\n\t\t\t)}\n\t\t</Layout>\n\t);\n};\n\nexport default AudioItemAbout;\n", "import { useNavigate } from \"@remix-run/react\";\nimport { Link } from \"@remix-run/react\";\nimport { useQuery, gql } from \"@apollo/client\";\n\nimport { EntityFragments } from \"~/fragments\";\nimport type { AudioItem } from \"~/types\";\nimport { ViewAs } from \"~/types\";\nimport EntityService from \"~/services/Entity\";\n\nimport Layout from \"~/components/Layout\";\nimport LoadingBlock from \"~/components/LoadingBlock\";\nimport Breadcrumb from \"~/components/Breadcrumb\";\nimport AudioItemComponent from \"~/components/AudioItem\";\n\nexport const AUDIO_ITEM_QUERY = gql`\n\tquery AudioItem($slug: String!) {\n\t\taudioItem(slug: $slug) {\n\t\t\t...AudioItem\n\t\t}\n\t}\n\t${EntityFragments.audioItem}\n`;\n\nconst ViewAudioItemBySlug = () => {\n\tconst navigate = useNavigate();\n\tconst { slug } = navigate.query;\n\n\tconst { data, error } = useQuery<{\n\t\taudioItem: AudioItem;\n\t}>(AUDIO_ITEM_QUERY, {\n\t\tvariables: { slug },\n\t\tskip: !slug,\n\t});\n\tconst { audioItem } = data ?? {};\n\tconst { name } = audioItem ?? {};\n\n\treturn (\n\t\t<Layout pageTitle={`Trad Archive - ${name ?? \"\"}`}>\n\t\t\t{!data && !error && <LoadingBlock />}\n\t\t\t{error && <span className=\"text-red-500\">{error.message}</span>}\n\t\t\t{data && (\n\t\t\t\t<div className=\"mb-6\">\n\t\t\t\t\t<Breadcrumb\n\t\t\t\t\t\titems={[\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tlabel: EntityService.makeReadableNamePlural(audioItem),\n\t\t\t\t\t\t\t\thref: EntityService.makeHrefForTopLevel(audioItem),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{ label: name },\n\t\t\t\t\t\t]}\n\t\t\t\t\t\tclassName=\"mb-2\"\n\t\t\t\t\t/>\n\t\t\t\t\t<div className=\"flex flex-row mb-6\">\n\t\t\t\t\t\t<Link to={EntityService.makeHrefForAbout(audioItem)}>About</Link>\n\t\t\t\t\t</div>\n\t\t\t\t\t<AudioItemComponent\n\t\t\t\t\t\tviewAs={ViewAs.Cards}\n\t\t\t\t\t\taudioItem={audioItem}\n\t\t\t\t\t\tshowTitle={false}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</Layout>\n\t);\n};\n\nexport default ViewAudioItemBySlug;\n", "import { useNavigate } from \"@remix-run/react\";\nimport { useQuery, gql } from \"@apollo/client\";\n\nimport type { AudioItem } from \"types\";\nimport { EntityFragments } from \"~/fragments\";\n\nimport Layout from \"~/components/Layout\";\nimport LoadingBlock from \"~/components/LoadingBlock\";\nimport RequireUser from \"~/components/RequireUser\";\nimport EditAudioItemForm from \"~/components/EditAudioItemForm\";\n\nconst AUDIO_ITEM_QUERY = gql`\n\tquery AudioItem($slug: String!) {\n\t\taudioItem(slug: $slug) {\n\t\t\t...AudioItem\n\t\t}\n\t}\n\t${EntityFragments.audioItem}\n`;\n\nconst EditAudioItem = () => {\n\tconst navigate = useNavigate();\n\tconst { slug } = navigate.query;\n\n\tconst { data, error } = useQuery<{ audioItem?: AudioItem }>(\n\t\tAUDIO_ITEM_QUERY,\n\t\t{\n\t\t\tvariables: { slug },\n\t\t\tskip: !slug,\n\t\t}\n\t);\n\n\tconst onEditSuccess = (audioItem: AudioItem) => {\n\t\tnavigate(`/entities/audio-items/${audioItem.slug}`);\n\t};\n\n\tlet statusMessage;\n\tif (!data && !error) {\n\t\tstatusMessage = <LoadingBlock />;\n\t} else if (!data && error) {\n\t\tstatusMessage = `Error fetching AudioItem with slug ${slug}`;\n\t}\n\n\tif (statusMessage) {\n\t\treturn <Layout>{statusMessage}</Layout>;\n\t}\n\n\tconst { audioItem } = data;\n\n\treturn (\n\t\t<Layout>\n\t\t\t<RequireUser>\n\t\t\t\t<div className=\"max-w-md\">\n\t\t\t\t\t<h1 className=\"mb-4\">Edit AudioItem: {audioItem.name}</h1>\n\t\t\t\t\t<EditAudioItemForm audioItem={audioItem} onSuccess={onEditSuccess} />\n\t\t\t\t</div>\n\t\t\t</RequireUser>\n\t\t</Layout>\n\t);\n};\n\nexport default EditAudioItem;\n", "import { useEffect, useState } from \"react\";\nimport { useMutation, gql } from \"@apollo/client\";\nimport { useNavigate } from \"@remix-run/react\";\nimport type { AudioItem } from \"~/types\";\nimport { EntityFragments } from \"~/fragments\";\n\nconst UPDATE_AUDIO_ITEM_MUTATION = gql`\n\tmutation UpdateAudioItem($slug: String!, $input: UpdateAudioItemInput!) {\n\t\tupdateAudioItem(slug: $slug, input: $input) {\n\t\t\t...AudioItem\n\t\t}\n\t}\n\t${EntityFragments.audioItem}\n`;\ninterface UpdateAudioItemInput {\n\tslug: string;\n\tinput: {\n\t\tname?: string;\n\t\taliases?: string;\n\t\tdescription?: string;\n\t};\n}\ninterface Props {\n\taudioItem: AudioItem;\n\tonSuccess?: (audioItem: AudioItem) => void;\n}\nconst EditAudioItemForm = ({ audioItem, onSuccess }: Props) => {\n\tconst navigate = useNavigate();\n\n\tconst [updateAudioItem, { loading, error, data }] = useMutation<\n\t\t{ updateAudioItem: AudioItem },\n\t\tUpdateAudioItemInput\n\t>(UPDATE_AUDIO_ITEM_MUTATION, {\n\t\terrorPolicy: \"all\",\n\t});\n\n\tconst [name, setName] = useState(audioItem.name);\n\tconst [aliases, setAliases] = useState(audioItem.aliases);\n\tconst [description, setDescription] = useState(audioItem.description);\n\n\tconst onUpdateAudioItem = (event) => {\n\t\tevent.preventDefault();\n\t\tconst input = {\n\t\t\tname,\n\t\t\taliases,\n\t\t\tdescription,\n\t\t};\n\t\tupdateAudioItem({ variables: { slug: audioItem.slug, input } });\n\t};\n\n\tuseEffect(() => {\n\t\tif (data?.updateAudioItem) {\n\t\t\tif (onSuccess) {\n\t\t\t\treturn onSuccess(data.updateAudioItem);\n\t\t\t}\n\t\t\twindow.alert(\"AudioItem updated successfully!\");\n\t\t}\n\t}, [data, navigate]);\n\n\treturn (\n\t\t<>\n\t\t\t<div className=\"flex flex-col align-start\">\n\t\t\t\t<form onSubmit={onUpdateAudioItem}>\n\t\t\t\t\t<input\n\t\t\t\t\t\tplaceholder=\"Name\"\n\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\tclassName=\"mb-2\"\n\t\t\t\t\t\tvalue={name}\n\t\t\t\t\t\tonChange={(event) => setName(event.target.value)}\n\t\t\t\t\t/>\n\t\t\t\t\t<input\n\t\t\t\t\t\tplaceholder=\"Aliases\"\n\t\t\t\t\t\tclassName=\"mb-2\"\n\t\t\t\t\t\tvalue={aliases}\n\t\t\t\t\t\tonChange={(event) => setAliases(event.target.value)}\n\t\t\t\t\t/>\n\t\t\t\t\t<div className=\"text-sm text-gray-400 mb-2 ml-2\">\n\t\t\t\t\t\tA list of comma-separated aliases for this AudioItem. For example:{\" \"}\n\t\t\t\t\t\t<em>Finbarr and Brian, Finbarr '08 at Dolan's</em>\n\t\t\t\t\t</div>\n\t\t\t\t\t<textarea\n\t\t\t\t\t\tplaceholder=\"Description\"\n\t\t\t\t\t\tclassName=\"mb-2\"\n\t\t\t\t\t\tvalue={description}\n\t\t\t\t\t\trows={10}\n\t\t\t\t\t\tonChange={(event) => setDescription(event.target.value)}\n\t\t\t\t\t/>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\tclassName=\"btn mb-4 w-auto\"\n\t\t\t\t\t\tdisabled={loading}\n\t\t\t\t\t\tvalue=\"Save\"\n\t\t\t\t\t/>\n\t\t\t\t</form>\n\t\t\t</div>\n\n\t\t\t{error && <div className=\"text-red-600\">{error.message}</div>}\n\t\t</>\n\t);\n};\n\nexport default EditAudioItemForm;\n", "import { useEffect } from \"react\";\nimport { useNavigate } from \"@remix-run/react\";\n\nconst ViewAudioItemTags = () => {\n\tconst navigate = useNavigate();\n\tconst { slug } = navigate.query;\n\n\tuseEffect(() => {\n\t\tif (slug) {\n\t\t\tnavigate(`/entities/audio-items/${slug}`);\n\t\t}\n\t}, [navigate, slug]);\n\n\treturn null;\n};\n\nexport default ViewAudioItemTags;\n", "import { useEffect } from \"react\";\nimport { useNavigate } from \"@remix-run/react\";\n\nimport useAudioItemRandom from \"~/hooks/useAudioItemRandom\";\nimport EntityService from \"~/services/Entity\";\n\nimport Layout from \"~/components/Layout\";\nimport LoadingBlock from \"~/components/LoadingBlock\";\n\nconst AudioItemRandom = () => {\n\tconst [audioItemRandom, { loading, error }] = useAudioItemRandom();\n\tconst navigate = useNavigate();\n\n\tuseEffect(() => {\n\t\tif (audioItemRandom) {\n\t\t\tnavigate(EntityService.makeHrefForView(audioItemRandom));\n\t\t}\n\t}, [audioItemRandom]);\n\n\treturn (\n\t\t<Layout>\n\t\t\t{loading && <LoadingBlock />}\n\t\t\t{error && (\n\t\t\t\t<div className=\"text-red-600\">\n\t\t\t\t\tError fetching random Audio Item. Please reload the page.\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</Layout>\n\t);\n};\n\nexport default AudioItemRandom;\n", "import type { QueryHookOptions, QueryResult } from \"@apollo/client\";\nimport { useQuery, gql } from \"@apollo/client\";\nimport type { AudioItem } from \"~/types\";\nimport { EntityFragments } from \"~/fragments\";\n\nexport const AUDIO_ITEM_RANDOM_QUERY = gql`\n\tquery AudioItemRandom {\n\t\taudioItemRandom {\n\t\t\t...AudioItem\n\t\t}\n\t}\n\t${EntityFragments.audioItem}\n`;\n\ninterface QueryData {\n\taudioItemRandom: AudioItem;\n}\ninterface HookArgs {\n\tslug?: string;\n\tqueryOptions?: QueryHookOptions<QueryData>;\n}\n\nconst useAudioItemRandom = ({ queryOptions = {} }: HookArgs = {}): [\n\tAudioItem | undefined,\n\tQueryResult<QueryData, {}>\n] => {\n\tconst audioItemRandomQuery = useQuery<QueryData>(AUDIO_ITEM_RANDOM_QUERY, {\n\t\tfetchPolicy: \"network-only\",\n\t\t...queryOptions,\n\t});\n\tconst { data } = audioItemRandomQuery;\n\tconst audioItemRandom = data?.audioItemRandom;\n\n\treturn [audioItemRandom, audioItemRandomQuery];\n};\n\nexport default useAudioItemRandom;\n", "import { useNavigate } from \"@remix-run/react\";\nimport { useQuery, gql } from \"@apollo/client\";\n\nimport { EntityFragments } from \"~/fragments\";\nimport type { Collection } from \"~/types\";\n\nimport Layout from \"~/components/Layout\";\nimport LoadingBlock from \"~/components/LoadingBlock\";\nimport ViewEntityAndAudioItems from \"~/components/ViewEntityAndAudioItems\";\n\nexport const COLLECTION_QUERY = gql`\n\tquery Collection($slug: String!) {\n\t\tcollection(slug: $slug) {\n\t\t\t...Collection\n\t\t}\n\t}\n\t${EntityFragments.collection}\n`;\n\nconst ViewCollectionBySlug = () => {\n\tconst navigate = useNavigate();\n\tconst { slug } = navigate.query;\n\n\tconst { data: collectionData, error: collectionError } = useQuery<{\n\t\tcollection: Collection;\n\t}>(COLLECTION_QUERY, {\n\t\tvariables: { slug },\n\t\tskip: !slug,\n\t});\n\tconst { collection } = collectionData ?? {};\n\n\tlet statusMessage;\n\tif (!collectionData && !collectionError) {\n\t\tstatusMessage = <LoadingBlock />;\n\t} else if (!collectionData && collectionError) {\n\t\tstatusMessage = `Error fetching Collection with slug ${slug}`;\n\t}\n\n\tif (statusMessage) {\n\t\treturn <Layout>{statusMessage}</Layout>;\n\t}\n\n\treturn (\n\t\t<Layout pageTitle={`Trad Archive - ${collection.name}`}>\n\t\t\t<ViewEntityAndAudioItems entity={collection} />\n\t\t</Layout>\n\t);\n};\n\nexport default ViewCollectionBySlug;\n", "import { useEffect, useRef } from \"react\";\nimport { Link, useLocation } from \"@remix-run/react\";\nimport { useInView } from \"react-intersection-observer\";\n\nimport type { AudioItemWithRelations, Entity } from \"~/types\";\nimport { PerPage, ViewAs } from \"~/types\";\nimport useFilters from \"~/hooks/useFilters\";\nimport EntityService from \"~/services/Entity\";\n\nimport Breadcrumb from \"~/components/Breadcrumb\";\nimport AudioItem from \"~/components/AudioItem\";\n\ninterface Props {\n\tentity: Entity;\n\taudioItems: AudioItemWithRelations[];\n\ttotalAudioItems: number;\n\tclassName?: string;\n}\nconst ViewEntityAndAudioItems = ({\n\tentity,\n\taudioItems,\n\ttotalAudioItems,\n\tclassName,\n}: Props) => {\n\tconst { name } = entity ?? {};\n\n\tconst { ref: metadataRef, inView: metadataInView } = useInView({\n\t\tinitialInView: true,\n\t});\n\n\tconst { search } = useLocation();\n\tconst queryParams = new URLSearchParams(search);\n\tconst page = queryParams.get(\"page\");\n\tconst viewAs = queryParams.get(\"viewAs\") as ViewAs;\n\n\tconst { Filters, filtersProps } = useFilters({\n\t\ttotalItems: audioItems.length,\n\t});\n\tconst filtersRef = useRef<HTMLDivElement>(null);\n\n\t// Scroll to the top after choosing a different page of results\n\tuseEffect(() => {\n\t\tif (filtersRef.current) {\n\t\t\tfiltersRef.current.scrollIntoView({\n\t\t\t\tbehavior: \"smooth\",\n\t\t\t\tblock: \"end\",\n\t\t\t});\n\t\t}\n\t}, [page, filtersRef]);\n\n\tconst headerOffset =\n\t\ttypeof document !== \"undefined\"\n\t\t\t? document.getElementById(\"header\")?.offsetHeight\n\t\t\t: 0;\n\n\treturn (\n\t\t<div className={`flex flex-1 flex-col mb-8 ${className ?? \"\"}`}>\n\t\t\t{/* Initial metadata at top of page */}\n\t\t\t<div className=\"mb-6\" ref={metadataRef}>\n\t\t\t\t<Breadcrumb\n\t\t\t\t\titems={[\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: EntityService.makeReadableNamePlural(entity),\n\t\t\t\t\t\t\thref: EntityService.makeHrefForTopLevel(entity),\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{ label: name },\n\t\t\t\t\t]}\n\t\t\t\t\tclassName=\"mb-2\"\n\t\t\t\t/>\n\t\t\t\t<div className=\"flex flex-row mb-6\">\n\t\t\t\t\t<span className=\"text-gray-500\">\n\t\t\t\t\t\t{totalAudioItems ?? \"\"} Audio Item{totalAudioItems === 1 ? \"\" : \"s\"}\n\t\t\t\t\t</span>\n\t\t\t\t\t<Link to={EntityService.makeHrefForAbout(entity)} className=\"ml-4\">\n\t\t\t\t\t\tAbout\n\t\t\t\t\t</Link>\n\t\t\t\t\t<Link to={EntityService.makeHrefForTags(entity)} className=\"ml-4\">\n\t\t\t\t\t\tTags\n\t\t\t\t\t</Link>\n\t\t\t\t</div>\n\t\t\t\t{totalAudioItems > 0 && (\n\t\t\t\t\t<div ref={filtersRef}>\n\t\t\t\t\t\t<Filters {...filtersProps} />\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t\t{totalAudioItems > 0 &&\n\t\t\t\taudioItems.map((audioItem, index) => (\n\t\t\t\t\t<AudioItem\n\t\t\t\t\t\tviewAs={viewAs ?? ViewAs.Cards}\n\t\t\t\t\t\taudioItem={audioItem}\n\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\tclassName={viewAs === ViewAs.List ? \"mb-4\" : \"mb-6\"}\n\t\t\t\t\t/>\n\t\t\t\t))}\n\n\t\t\t{/* Fixed overlay metadata when scrolling. Render after AudioItems so it takes z-index precedence */}\n\t\t\t<div\n\t\t\t\tclassName={`${\n\t\t\t\t\tmetadataInView ? \"hidden\" : \"visible\"\n\t\t\t\t} fixed left-0 right-0 p-4 bg-gray-100 shadow-lg`}\n\t\t\t\tstyle={{ top: `${headerOffset}px` }}\n\t\t\t>\n\t\t\t\t{totalAudioItems > 0 && <Filters {...filtersProps} />}\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default ViewEntityAndAudioItems;\n", "import type React from \"react\";\nimport { useCallback, useMemo } from \"react\";\nimport { useLocation, useNavigate } from \"@remix-run/react\";\n\nimport type { PerPage } from \"~/types\";\nimport { SortBy, ViewAs } from \"~/types\";\n\nimport type { Props as FiltersProps } from \"~/components/Filters\";\nimport Filters from \"~/components/Filters\";\n\ninterface Args {\n\ttotalItems?: number;\n\tdefaultPage?: number; // Starts at 1\n\tdefaultPerPage?: PerPage;\n\tdefaultSortBy?: SortBy;\n\tdefaultViewAs?: ViewAs;\n\tenableQueryParams?: boolean;\n}\ninterface ReturnValue {\n\tFilters: (props: FiltersProps) => React.ReactElement;\n\tfiltersProps: FiltersProps;\n\tpage?: number;\n\tperPage?: PerPage;\n\tsortBy?: SortBy;\n\tviewAs?: ViewAs;\n}\n\n// useFilters takes default values for sortBy and viewAs and returns the Filters\n// component along with props to pass to it, plus the current sortBy and\n// viewAs values.\nconst useFilters = ({\n\ttotalItems,\n\tdefaultPage = 1,\n\tdefaultPerPage = 20,\n\tdefaultSortBy = SortBy.RecentlyTagged,\n\tdefaultViewAs = ViewAs.Cards,\n}: Args = {}): ReturnValue => {\n\tconst navigate = useNavigate();\n\tconst { pathname, search } = useLocation();\n\tconst queryParams = new URLSearchParams(search);\n\n\t// Pull filter values from query params. If not set, use defaults.\n\tconst page = parseInt(queryParams.get(\"page\") ?? \"\", 10) || defaultPage;\n\tconst perPage =\n\t\tparseInt(queryParams.get(\"perPage\") ?? \"\", 10) || defaultPerPage;\n\tconst sortBy = (queryParams.get(\"sortBy\") as SortBy) ?? defaultSortBy;\n\tconst viewAs = (queryParams.get(\"viewAs\") as ViewAs) ?? defaultViewAs;\n\n\tconst updateQueryParams = useCallback(\n\t\t(paramsToUpdate: Record<string, string | null> = {}) => {\n\t\t\tconst queryParams = new URLSearchParams(search);\n\n\t\t\tconst paramNames = Object.keys(paramsToUpdate);\n\t\t\tparamNames.forEach((paramName) => {\n\t\t\t\tconst value = paramsToUpdate[paramName];\n\t\t\t\tif (value) {\n\t\t\t\t\tqueryParams.set(paramName, value);\n\t\t\t\t} else {\n\t\t\t\t\tqueryParams.delete(paramName);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn navigate(`${pathname}?${queryParams.toString()}`);\n\t\t},\n\t\t[navigate, pathname, search]\n\t);\n\n\tconst onChangePage = useCallback(\n\t\t(event: React.ChangeEvent<HTMLSelectElement>) =>\n\t\t\tupdateQueryParams({ page: event.target.value }),\n\t\t[updateQueryParams]\n\t);\n\tconst onChangePerPage = useCallback(\n\t\t(event: React.ChangeEvent<HTMLSelectElement>) =>\n\t\t\tupdateQueryParams({ perPage: event.target.value, page: \"1\" }),\n\t\t[updateQueryParams]\n\t);\n\tconst onChangeSortBy = useCallback(\n\t\t(event: React.ChangeEvent<HTMLSelectElement>) =>\n\t\t\tupdateQueryParams({ sortBy: event.target.value as SortBy }),\n\t\t[updateQueryParams]\n\t);\n\tconst onChangeViewAs = useCallback(\n\t\t(event: React.ChangeEvent<HTMLSelectElement>) =>\n\t\t\tupdateQueryParams({ viewAs: event.target.value as ViewAs }),\n\t\t[updateQueryParams]\n\t);\n\n\tconst returnValue = useMemo(\n\t\t() => ({\n\t\t\tFilters,\n\t\t\tfiltersProps: {\n\t\t\t\ttotalItems,\n\t\t\t\tpage,\n\t\t\t\tonChangePage,\n\t\t\t\tperPage,\n\t\t\t\tonChangePerPage,\n\t\t\t\tsortBy,\n\t\t\t\tonChangeSortBy,\n\t\t\t\tviewAs,\n\t\t\t\tonChangeViewAs,\n\t\t\t},\n\t\t\tpage,\n\t\t\tperPage,\n\t\t\tsortBy,\n\t\t\tviewAs,\n\t\t}),\n\t\t[\n\t\t\ttotalItems,\n\t\t\tpage,\n\t\t\tonChangePage,\n\t\t\tperPage,\n\t\t\tonChangePerPage,\n\t\t\tsortBy,\n\t\t\tonChangeSortBy,\n\t\t\tviewAs,\n\t\t\tonChangeViewAs,\n\t\t]\n\t);\n\n\treturn returnValue;\n};\n\nexport default useFilters;\n", "import React, { useMemo } from \"react\";\nimport { PerPage, SortBy, ViewAs } from \"~/types\";\n\nexport interface Props {\n\ttotalItems?: number;\n\tpage?: number;\n\tonChangePage?: (event: React.ChangeEvent<HTMLSelectElement>) => void;\n\tperPage?: PerPage;\n\tonChangePerPage?: (event: React.ChangeEvent<HTMLSelectElement>) => void;\n\tsortBy?: SortBy;\n\tonChangeSortBy?: (event: React.ChangeEvent<HTMLSelectElement>) => void;\n\tviewAs?: ViewAs;\n\tonChangeViewAs?: (event: React.ChangeEvent<HTMLSelectElement>) => void;\n\tclassName?: string;\n}\n\nconst Filters = ({\n\ttotalItems,\n\tpage,\n\tonChangePage,\n\tperPage,\n\tonChangePerPage,\n\tsortBy,\n\tonChangeSortBy,\n\tviewAs,\n\tonChangeViewAs,\n\tclassName,\n}: Props) => {\n\tconst shouldRenderPagination =\n\t\ttypeof totalItems === \"number\" &&\n\t\ttypeof page === \"number\" &&\n\t\tonChangePage &&\n\t\tperPage &&\n\t\tonChangePerPage;\n\tconst shouldRenderSortBy = sortBy && onChangeSortBy;\n\tconst shouldRenderViewAs = viewAs && onChangeViewAs;\n\n\tconst totalPages = useMemo<number>(() => {\n\t\tif (typeof totalItems !== \"number\" || typeof perPage === \"undefined\") {\n\t\t\treturn 0;\n\t\t}\n\t\treturn Math.ceil(totalItems / perPage);\n\t}, [totalItems, perPage]);\n\n\tconst pageSelectOptions = useMemo(() => {\n\t\tconst output: React.ReactNode[] = [];\n\t\tlet i = 1;\n\t\twhile (i <= totalPages) {\n\t\t\toutput.push(\n\t\t\t\t<option value={i} key={i}>\n\t\t\t\t\t{i}\n\t\t\t\t</option>\n\t\t\t);\n\t\t\ti++;\n\t\t}\n\t\treturn output;\n\t}, [totalPages]);\n\n\tconst perPageOptions = useMemo(() => {\n\t\tconst output: React.ReactNode[] = [];\n\t\tfor (const value in PerPage) {\n\t\t\tif (isNaN(Number(value))) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\toutput.push(\n\t\t\t\t<option value={value} key={value}>\n\t\t\t\t\t{value}\n\t\t\t\t</option>\n\t\t\t);\n\t\t}\n\t\treturn output;\n\t}, []);\n\n\treturn (\n\t\t<div\n\t\t\tclassName={`flex flex-col md:flex-row flex-wrap justify-start items-start md:items-center text-gray-500 ${\n\t\t\t\tclassName ?? \"\"\n\t\t\t}`}\n\t\t>\n\t\t\t{shouldRenderPagination && (\n\t\t\t\t<div\n\t\t\t\t\tclassName={`flex flex-row items-center mr-0 md:mb-0 ${\n\t\t\t\t\t\tshouldRenderSortBy || shouldRenderViewAs ? \"mb-4 md:mr-6\" : \"\"\n\t\t\t\t\t}`}\n\t\t\t\t>\n\t\t\t\t\t<div className=\"mr-6\">\n\t\t\t\t\t\tPage{\" \"}\n\t\t\t\t\t\t<select value={page} onChange={onChangePage}>\n\t\t\t\t\t\t\t{pageSelectOptions}\n\t\t\t\t\t\t</select>\n\t\t\t\t\t\t{totalPages ? ` of ${totalPages}` : \"\"}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<select value={perPage} onChange={onChangePerPage}>\n\t\t\t\t\t\t\t{perPageOptions}\n\t\t\t\t\t\t</select>{\" \"}\n\t\t\t\t\t\tper page\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t{shouldRenderSortBy && (\n\t\t\t\t<div\n\t\t\t\t\tclassName={`flex flex-row items-center mr-0 md:mb-0 ${\n\t\t\t\t\t\tshouldRenderViewAs ? \"mb-4 md:mr-6\" : \"\"\n\t\t\t\t\t}`}\n\t\t\t\t>\n\t\t\t\t\tSort by\n\t\t\t\t\t<select className=\"ml-1\" value={sortBy} onChange={onChangeSortBy}>\n\t\t\t\t\t\t<option value={SortBy.RecentlyTagged}>Recently tagged</option>\n\t\t\t\t\t\t<option value={SortBy.RecentlyAdded}>Recently added</option>\n\t\t\t\t\t</select>\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t{shouldRenderViewAs && (\n\t\t\t\t<div className=\"flex flex-row items-center mr-0 md:mb-0\">\n\t\t\t\t\tView as\n\t\t\t\t\t<select className=\"ml-1\" value={viewAs} onChange={onChangeViewAs}>\n\t\t\t\t\t\t<option value={ViewAs.Cards}>Cards</option>\n\t\t\t\t\t\t<option value={ViewAs.Compact}>Compact</option>\n\t\t\t\t\t\t<option value={ViewAs.List}>List</option>\n\t\t\t\t\t</select>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nexport default Filters;\n", "import { useQuery } from \"@apollo/client\";\nimport { Link } from \"@remix-run/react\";\nimport { useNavigate } from \"@remix-run/react\";\n\nimport type { Collection } from \"~/types\";\n\nimport Layout from \"~/components/Layout\";\nimport LoadingBlock from \"~/components/LoadingBlock\";\nimport { COLLECTION_QUERY } from \"~/routes/entities/collections/[slug]\";\nimport Breadcrumb from \"~/components/Breadcrumb\";\n\nconst CollectionAbout = () => {\n\tconst navigate = useNavigate();\n\tconst { slug } = navigate.query;\n\n\tconst { data, error } = useQuery<{\n\t\tcollection: Collection;\n\t}>(COLLECTION_QUERY, {\n\t\tvariables: { slug },\n\t\tskip: !slug,\n\t});\n\tconst isLoading = !data && !error;\n\tconst { name, description, aliases, itmaAtomSlug } = data?.collection ?? {};\n\n\treturn (\n\t\t<Layout pageTitle={`Trad Archive - ${name} - About`}>\n\t\t\t{isLoading && <LoadingBlock />}\n\t\t\t{error && <div className=\"text-red-500\">{error.message}</div>}\n\t\t\t{data && (\n\t\t\t\t<>\n\t\t\t\t\t<Breadcrumb\n\t\t\t\t\t\titems={[\n\t\t\t\t\t\t\t{ label: \"Collections\", href: \"/entities/collections\" },\n\t\t\t\t\t\t\t{ label: name, href: `/entities/collections/${slug}` },\n\t\t\t\t\t\t\t{ label: \"About\" },\n\t\t\t\t\t\t]}\n\t\t\t\t\t\tclassName=\"mb-6\"\n\t\t\t\t\t/>\n\n\t\t\t\t\t{itmaAtomSlug && (\n\t\t\t\t\t\t<div className=\"mb-4\">\n\t\t\t\t\t\t\t<div className=\"italic text-gray-500\">\n\t\t\t\t\t\t\t\tThis was sourced from ITMA's AtoM archive\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\thref={`https://itma-atom.arkivum.net/index.php/${itmaAtomSlug}`}\n\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\trel=\"noreferrer\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tView on AtoM <i className=\"material-icons text-sm\">launch</i>\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t\t{description && (\n\t\t\t\t\t\t<div className=\"mb-4\">\n\t\t\t\t\t\t\tDescription:\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t<span className=\"text-gray-500 whitespace-pre-wrap\">\n\t\t\t\t\t\t\t\t{description}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t\t{aliases && (\n\t\t\t\t\t\t<div className=\"mb-4\">\n\t\t\t\t\t\t\tAliases:\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t<span className=\"text-gray-500\">{aliases}</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t\t<Link to={`/entities/collections/${slug}/edit`}>Edit</Link>\n\t\t\t\t</>\n\t\t\t)}\n\t\t</Layout>\n\t);\n};\n\nexport default CollectionAbout;\n", "import { useNavigate } from \"@remix-run/react\";\nimport { useQuery, gql } from \"@apollo/client\";\n\nimport { EntityFragments } from \"~/fragments\";\nimport type { Collection } from \"~/types\";\n\nimport Layout from \"~/components/Layout\";\nimport LoadingBlock from \"~/components/LoadingBlock\";\nimport ViewEntityAndAudioItems from \"~/components/ViewEntityAndAudioItems\";\n\nexport const COLLECTION_QUERY = gql`\n\tquery Collection($slug: String!) {\n\t\tcollection(slug: $slug) {\n\t\t\t...Collection\n\t\t}\n\t}\n\t${EntityFragments.collection}\n`;\n\nconst ViewCollectionBySlug = () => {\n\tconst navigate = useNavigate();\n\tconst { slug } = navigate.query;\n\n\tconst { data: collectionData, error: collectionError } = useQuery<{\n\t\tcollection: Collection;\n\t}>(COLLECTION_QUERY, {\n\t\tvariables: { slug },\n\t\tskip: !slug,\n\t});\n\tconst { collection } = collectionData ?? {};\n\n\tlet statusMessage;\n\tif (!collectionData && !collectionError) {\n\t\tstatusMessage = <LoadingBlock />;\n\t} else if (!collectionData && collectionError) {\n\t\tstatusMessage = `Error fetching Collection with slug ${slug}`;\n\t}\n\n\tif (statusMessage) {\n\t\treturn <Layout>{statusMessage}</Layout>;\n\t}\n\n\treturn (\n\t\t<Layout pageTitle={`Trad Archive - ${collection.name}`}>\n\t\t\t<ViewEntityAndAudioItems entity={collection} />\n\t\t</Layout>\n\t);\n};\n\nexport default ViewCollectionBySlug;\n", "import { useNavigate } from \"@remix-run/react\";\nimport { useQuery, gql } from \"@apollo/client\";\n\nimport type { Collection } from \"~/types\";\nimport { EntityFragments } from \"~/fragments\";\n\nimport Layout from \"~/components/Layout\";\nimport LoadingBlock from \"~/components/LoadingBlock\";\nimport RequireUser from \"~/components/RequireUser\";\nimport EditCollectionForm from \"~/components/EditCollectionForm\";\n\nconst COLLECTION_QUERY = gql`\n\tquery Collection($slug: String!) {\n\t\tcollection(slug: $slug) {\n\t\t\t...Collection\n\t\t}\n\t}\n\t${EntityFragments.collection}\n`;\n\nconst CollectionEdit = () => {\n\tconst navigate = useNavigate();\n\tconst { slug } = navigate.query;\n\n\tconst { data, error } = useQuery(COLLECTION_QUERY, {\n\t\tvariables: { slug },\n\t\tskip: !slug,\n\t});\n\n\tconst onEditSuccess = (collection: Collection) => {\n\t\tnavigate(`/entities/collections/${collection.slug}/about`);\n\t};\n\n\tlet statusMessage;\n\tif (!data && !error) {\n\t\tstatusMessage = <LoadingBlock />;\n\t} else if (!data && error) {\n\t\tstatusMessage = `Error fetching Collection with slug ${slug}`;\n\t}\n\n\tif (statusMessage) {\n\t\treturn <Layout>{statusMessage}</Layout>;\n\t}\n\n\tconst { collection } = data;\n\n\treturn (\n\t\t<Layout>\n\t\t\t<RequireUser>\n\t\t\t\t<div className=\"max-w-md\">\n\t\t\t\t\t<h1 className=\"mb-4\">Edit Collection: {collection.name}</h1>\n\t\t\t\t\t<EditCollectionForm\n\t\t\t\t\t\tcollection={collection}\n\t\t\t\t\t\tonSuccess={onEditSuccess}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</RequireUser>\n\t\t</Layout>\n\t);\n};\n\nexport default CollectionEdit;\n", "import { useEffect, useState } from \"react\";\nimport { useMutation, gql } from \"@apollo/client\";\nimport { useNavigate } from \"@remix-run/react\";\nimport type { Collection } from \"~/types\";\nimport { EntityFragments } from \"~/fragments\";\n\nconst UPDATE_COLLECTION_MUTATION = gql`\n\tmutation UpdateCollection($slug: String!, $input: UpdateCollectionInput!) {\n\t\tupdateCollection(slug: $slug, input: $input) {\n\t\t\t...Collection\n\t\t}\n\t}\n\t${EntityFragments.collection}\n`;\ninterface UpdateCollectionVariables {\n\tslug: string;\n\tinput: {\n\t\taliases?: string;\n\t\tdescription?: string;\n\t};\n}\ninterface Props {\n\tcollection: Collection;\n\tonSuccess?: (collection: Collection) => void;\n}\nconst EditCollectionForm = ({ collection, onSuccess }: Props) => {\n\tconst navigate = useNavigate();\n\n\tconst [updateCollection, { loading, error, data }] = useMutation<\n\t\t{ updateCollection: Collection },\n\t\tUpdateCollectionVariables\n\t>(UPDATE_COLLECTION_MUTATION, {\n\t\terrorPolicy: \"all\",\n\t});\n\n\tconst [name, setName] = useState(collection.name);\n\tconst [aliases, setAliases] = useState(collection.aliases);\n\tconst [description, setDescription] = useState(collection.description);\n\n\tconst onUpdateCollection = (event) => {\n\t\tevent.preventDefault();\n\t\tconst input = {\n\t\t\tname,\n\t\t\taliases,\n\t\t\tdescription,\n\t\t};\n\t\tupdateCollection({ variables: { slug: collection.slug, input } });\n\t};\n\n\tuseEffect(() => {\n\t\tif (data?.updateCollection) {\n\t\t\tif (onSuccess) {\n\t\t\t\treturn onSuccess(data.updateCollection);\n\t\t\t}\n\t\t\twindow.alert(\"Collection updated successfully!\");\n\t\t}\n\t}, [data, navigate]);\n\n\treturn (\n\t\t<>\n\t\t\t<div className=\"flex flex-col align-start\">\n\t\t\t\t<form onSubmit={onUpdateCollection}>\n\t\t\t\t\t<input\n\t\t\t\t\t\tplaceholder=\"Name\"\n\t\t\t\t\t\tclassName=\"mb-2\"\n\t\t\t\t\t\tvalue={name}\n\t\t\t\t\t\tonChange={(event) => setName(event.target.value)}\n\t\t\t\t\t/>\n\t\t\t\t\t<input\n\t\t\t\t\t\tplaceholder=\"Aliases\"\n\t\t\t\t\t\tclassName=\"mb-2\"\n\t\t\t\t\t\tvalue={aliases ?? \"\"}\n\t\t\t\t\t\tonChange={(event) => setAliases(event.target.value)}\n\t\t\t\t\t/>\n\t\t\t\t\t<div className=\"text-sm text-gray-400 mb-2 ml-2\">\n\t\t\t\t\t\tA list of comma-separated aliases for this Collection. For example:{\" \"}\n\t\t\t\t\t\t<em>O'Neill's, 1000 Fiddle Tunes</em>\n\t\t\t\t\t</div>\n\t\t\t\t\t<textarea\n\t\t\t\t\t\tplaceholder=\"Description\"\n\t\t\t\t\t\tclassName=\"mb-2\"\n\t\t\t\t\t\tvalue={description}\n\t\t\t\t\t\trows={10}\n\t\t\t\t\t\tonChange={(event) => setDescription(event.target.value)}\n\t\t\t\t\t/>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\tclassName=\"btn mb-4 w-auto\"\n\t\t\t\t\t\tdisabled={loading}\n\t\t\t\t\t\tvalue=\"Save\"\n\t\t\t\t\t/>\n\t\t\t\t</form>\n\t\t\t</div>\n\n\t\t\t{error && <div className=\"text-red-600\">{error.message}</div>}\n\t\t</>\n\t);\n};\n\nexport default EditCollectionForm;\n", "import { useQuery } from \"@apollo/client\";\nimport { useNavigate } from \"@remix-run/react\";\n\nimport type { Collection } from \"~/types\";\nimport TagService from \"~/services/Tag\";\nimport { COLLECTION_QUERY } from \"~/routes/entities/collections/[slug]\";\n\nimport Layout from \"~/components/Layout\";\nimport Breadcrumb from \"~/components/Breadcrumb\";\nimport LoadingBlock from \"~/components/LoadingBlock\";\nimport TagWithRelationshipToObject from \"~/components/TagWithRelationshipToObject\";\nimport AddTagButton from \"~/components/AddTagButton\";\nimport EditTagsButton from \"~/components/EditTagsButton\";\n\nconst CollectionTags = () => {\n\tconst navigate = useNavigate();\n\tconst { slug } = navigate.query;\n\n\tconst { data, error, refetch } = useQuery<{\n\t\tcollection: Collection;\n\t}>(COLLECTION_QUERY, {\n\t\tvariables: { slug },\n\t\tskip: !slug,\n\t});\n\tconst isLoading = !data && !error;\n\tconst { collection } = data ?? {};\n\tconst { name, tags } = collection ?? {};\n\tconst sortedTags = TagService.sort(tags);\n\n\treturn (\n\t\t<Layout pageTitle={`Trad Archive - ${name} - Tags`}>\n\t\t\t{isLoading && <LoadingBlock />}\n\t\t\t{error && <div className=\"text-red-500\">{error.message}</div>}\n\t\t\t{data && (\n\t\t\t\t<>\n\t\t\t\t\t<Breadcrumb\n\t\t\t\t\t\titems={[\n\t\t\t\t\t\t\t{ label: \"Collections\", href: \"/entities/collections\" },\n\t\t\t\t\t\t\t{ label: name, href: `/entities/collections/${slug}` },\n\t\t\t\t\t\t\t{ label: \"Tags\" },\n\t\t\t\t\t\t]}\n\t\t\t\t\t\tclassName=\"mb-6\"\n\t\t\t\t\t/>\n\n\t\t\t\t\t{sortedTags.map((tag, index) => (\n\t\t\t\t\t\t<TagWithRelationshipToObject\n\t\t\t\t\t\t\ttag={tag}\n\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\tclassName=\"mb-4\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t))}\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<AddTagButton entity={collection} onSuccess={refetch} />\n\t\t\t\t\t\t{sortedTags.length > 0 && (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<span className=\"text-gray-500 px-2\">/</span>\n\t\t\t\t\t\t\t\t<EditTagsButton entity={collection} onSuccess={refetch} />\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</>\n\t\t\t)}\n\t\t</Layout>\n\t);\n};\n\nexport default CollectionTags;\n", "import { Link } from \"@remix-run/react\";\n\nimport { Tag } from \"~/types\";\nimport EntityService from \"~/services/Entity\";\nimport DateTimeService from \"~/services/DateTime\";\n\ninterface Props {\n\ttag: Tag;\n\tclassName?: string;\n}\n\n// TagWithRelationshipToObject renders a Tag in the format \"taught PERSON Billy\n// McComiskey\", displaying the relationship from the subject entity to an object\n// entity.\nconst TagWithRelationshipToObject = ({ tag, className }: Props) => {\n\tconst { relationship, objectEntity, subjectTimeMarkerSeconds } = tag;\n\n\tif (!objectEntity) {\n\t\treturn null;\n\t}\n\n\tconst shouldShowTimeMarker = typeof subjectTimeMarkerSeconds === \"number\";\n\n\treturn (\n\t\t<div className={`text-gray-500 ${className ?? \"\"}`}>\n\t\t\t<em>{relationship.name}</em>\n\t\t\t<br />\n\t\t\t<span className=\"uppercase text-sm\">{objectEntity.entityType}</span>\n\t\t\t<br />\n\t\t\t<Link to={EntityService.makeHrefForView(objectEntity)}>\n\t\t\t\t{objectEntity.name}\n\t\t\t</Link>\n\t\t\t<br />\n\t\t\t{typeof subjectTimeMarkerSeconds === \"number\" && (\n\t\t\t\t<em>\n\t\t\t\t\t{`at ${DateTimeService.formatSecondsAsDuration(\n\t\t\t\t\t\tsubjectTimeMarkerSeconds\n\t\t\t\t\t)}`}\n\t\t\t\t</em>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nexport default TagWithRelationshipToObject;\n", "import { useNavigate } from \"@remix-run/react\";\nimport { useQuery, gql } from \"@apollo/client\";\n\nimport { EntityFragments } from \"~/fragments\";\nimport type { Instrument } from \"~/types\";\n\nimport Layout from \"~/components/Layout\";\nimport LoadingBlock from \"~/components/LoadingBlock\";\nimport ViewEntityAndAudioItems from \"~/components/ViewEntityAndAudioItems\";\n\nexport const INSTRUMENT_QUERY = gql`\n\tquery Instrument($slug: String!) {\n\t\tinstrument(slug: $slug) {\n\t\t\t...Instrument\n\t\t}\n\t}\n\t${EntityFragments.instrument}\n`;\n\nconst ViewInstrumentBySlug = () => {\n\tconst navigate = useNavigate();\n\tconst { slug } = navigate.query;\n\n\tconst { data: instrumentData, error: instrumentError } = useQuery<{\n\t\tinstrument: Instrument;\n\t}>(INSTRUMENT_QUERY, {\n\t\tvariables: { slug },\n\t\tskip: !slug,\n\t});\n\tconst { instrument } = instrumentData ?? {};\n\n\tlet statusMessage;\n\tif (!instrumentData && !instrumentError) {\n\t\tstatusMessage = <LoadingBlock />;\n\t} else if (!instrumentData && instrumentError) {\n\t\tstatusMessage = `Error fetching Instrument with slug ${slug}`;\n\t}\n\n\tif (statusMessage) {\n\t\treturn <Layout>{statusMessage}</Layout>;\n\t}\n\n\treturn (\n\t\t<Layout pageTitle={`Trad Archive - ${instrument.name}`}>\n\t\t\t<ViewEntityAndAudioItems entity={instrument} />\n\t\t</Layout>\n\t);\n};\n\nexport default ViewInstrumentBySlug;\n", "import { useQuery } from \"@apollo/client\";\nimport { Link } from \"@remix-run/react\";\nimport { useNavigate } from \"@remix-run/react\";\n\nimport type { Instrument } from \"~/types\";\n\nimport Layout from \"~/components/Layout\";\nimport { INSTRUMENT_QUERY } from \"~/routes/entities/instruments/[slug]\";\nimport Breadcrumb from \"~/components/Breadcrumb\";\nimport LoadingBlock from \"~/components/LoadingBlock\";\n\nconst InstrumentAbout = () => {\n\tconst navigate = useNavigate();\n\tconst { slug } = navigate.query;\n\n\tconst { data, error } = useQuery<{\n\t\tinstrument: Instrument;\n\t}>(INSTRUMENT_QUERY, {\n\t\tvariables: { slug },\n\t\tskip: !slug,\n\t});\n\tconst isLoading = !data && !error;\n\tconst { name, description, aliases } = data?.instrument ?? {};\n\n\treturn (\n\t\t<Layout pageTitle={`Trad Archive - ${name} - About`}>\n\t\t\t{isLoading && <LoadingBlock />}\n\t\t\t{error && <div className=\"text-red-500\">{error.message}</div>}\n\t\t\t{data && (\n\t\t\t\t<>\n\t\t\t\t\t<Breadcrumb\n\t\t\t\t\t\titems={[\n\t\t\t\t\t\t\t{ label: \"Instruments\", href: \"/entities/instruments\" },\n\t\t\t\t\t\t\t{ label: name, href: `/entities/instruments/${slug}` },\n\t\t\t\t\t\t\t{ label: \"About\" },\n\t\t\t\t\t\t]}\n\t\t\t\t\t\tclassName=\"mb-6\"\n\t\t\t\t\t/>\n\t\t\t\t\t{description && (\n\t\t\t\t\t\t<div className=\"mb-4\">\n\t\t\t\t\t\t\tDescription:\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t<span className=\"text-gray-500 whitespace-pre-wrap\">\n\t\t\t\t\t\t\t\t{description}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t\t{aliases && (\n\t\t\t\t\t\t<div className=\"mb-4\">\n\t\t\t\t\t\t\tAliases:\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t<span className=\"text-gray-500\">{aliases}</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t\t<Link to={`/entities/instruments/${slug}/edit`}>Edit</Link>\n\t\t\t\t</>\n\t\t\t)}\n\t\t</Layout>\n\t);\n};\n\nexport default InstrumentAbout;\n", "import { useNavigate } from \"@remix-run/react\";\nimport { useQuery, gql } from \"@apollo/client\";\n\nimport { EntityFragments } from \"~/fragments\";\nimport type { Instrument } from \"~/types\";\n\nimport Layout from \"~/components/Layout\";\nimport LoadingBlock from \"~/components/LoadingBlock\";\nimport ViewEntityAndAudioItems from \"~/components/ViewEntityAndAudioItems\";\n\nexport const INSTRUMENT_QUERY = gql`\n\tquery Instrument($slug: String!) {\n\t\tinstrument(slug: $slug) {\n\t\t\t...Instrument\n\t\t}\n\t}\n\t${EntityFragments.instrument}\n`;\n\nconst ViewInstrumentBySlug = () => {\n\tconst navigate = useNavigate();\n\tconst { slug } = navigate.query;\n\n\tconst { data: instrumentData, error: instrumentError } = useQuery<{\n\t\tinstrument: Instrument;\n\t}>(INSTRUMENT_QUERY, {\n\t\tvariables: { slug },\n\t\tskip: !slug,\n\t});\n\tconst { instrument } = instrumentData ?? {};\n\n\tlet statusMessage;\n\tif (!instrumentData && !instrumentError) {\n\t\tstatusMessage = <LoadingBlock />;\n\t} else if (!instrumentData && instrumentError) {\n\t\tstatusMessage = `Error fetching Instrument with slug ${slug}`;\n\t}\n\n\tif (statusMessage) {\n\t\treturn <Layout>{statusMessage}</Layout>;\n\t}\n\n\treturn (\n\t\t<Layout pageTitle={`Trad Archive - ${instrument.name}`}>\n\t\t\t<ViewEntityAndAudioItems entity={instrument} />\n\t\t</Layout>\n\t);\n};\n\nexport default ViewInstrumentBySlug;\n", "import { useNavigate } from \"@remix-run/react\";\nimport { useQuery, gql } from \"@apollo/client\";\n\nimport type { Instrument } from \"types\";\nimport { EntityFragments } from \"~/fragments\";\n\nimport Layout from \"~/components/Layout\";\nimport LoadingBlock from \"~/components/LoadingBlock\";\nimport RequireUser from \"~/components/RequireUser\";\nimport EditInstrumentForm from \"~/components/EditInstrumentForm\";\n\nconst INSTRUMENT_QUERY = gql`\n\tquery Instrument($slug: String!) {\n\t\tinstrument(slug: $slug) {\n\t\t\t...Instrument\n\t\t}\n\t}\n\t${EntityFragments.instrument}\n`;\n\nconst EditInstrument = () => {\n\tconst navigate = useNavigate();\n\tconst { slug } = navigate.query;\n\n\tconst { data, error } = useQuery(INSTRUMENT_QUERY, {\n\t\tvariables: { slug },\n\t\tskip: !slug,\n\t});\n\n\tconst onEditSuccess = (instrument: Instrument) => {\n\t\tnavigate(`/entities/instruments/${instrument.slug}`);\n\t};\n\n\tlet statusMessage;\n\tif (!data && !error) {\n\t\tstatusMessage = <LoadingBlock />;\n\t} else if (!data && error) {\n\t\tstatusMessage = `Error fetching Instrument with slug ${slug}`;\n\t}\n\n\tif (statusMessage) {\n\t\treturn <Layout>{statusMessage}</Layout>;\n\t}\n\n\tconst { instrument } = data;\n\n\treturn (\n\t\t<Layout>\n\t\t\t<RequireUser>\n\t\t\t\t<div className=\"max-w-md\">\n\t\t\t\t\t<h1 className=\"mb-4\">Edit Instrument: {instrument.name}</h1>\n\t\t\t\t\t<EditInstrumentForm\n\t\t\t\t\t\tinstrument={instrument}\n\t\t\t\t\t\tonSuccess={onEditSuccess}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</RequireUser>\n\t\t</Layout>\n\t);\n};\n\nexport default EditInstrument;\n", "import { useEffect, useState } from \"react\";\nimport { useMutation, gql } from \"@apollo/client\";\nimport { useNavigate } from \"@remix-run/react\";\nimport type { Instrument } from \"~/types\";\nimport { EntityFragments } from \"~/fragments\";\n\nconst UPDATE_INSTRUMENT_MUTATION = gql`\n\tmutation UpdateInstrument($slug: String!, $input: UpdateInstrumentInput!) {\n\t\tupdateInstrument(slug: $slug, input: $input) {\n\t\t\t...Instrument\n\t\t}\n\t}\n\t${EntityFragments.instrument}\n`;\ninterface UpdateInstrumentVariables {\n\tslug: string;\n\tinput: {\n\t\tname?: string;\n\t\taliases?: string;\n\t\tdescription?: string;\n\t};\n}\ninterface Props {\n\tinstrument: Instrument;\n\tonSuccess?: (instrument: Instrument) => void;\n}\nconst EditInstrumentForm = ({ instrument, onSuccess }: Props) => {\n\tconst navigate = useNavigate();\n\n\tconst [updateInstrument, { loading, error, data }] = useMutation<\n\t\t{ updateInstrument: Instrument },\n\t\tUpdateInstrumentVariables\n\t>(UPDATE_INSTRUMENT_MUTATION, {\n\t\terrorPolicy: \"all\",\n\t});\n\n\tconst [name, setName] = useState(instrument.name);\n\tconst [aliases, setAliases] = useState(instrument.aliases);\n\tconst [description, setDescription] = useState(instrument.description);\n\n\tconst onUpdateInstrument = (event) => {\n\t\tevent.preventDefault();\n\t\tconst input = {\n\t\t\tname,\n\t\t\taliases,\n\t\t\tdescription,\n\t\t};\n\t\tupdateInstrument({ variables: { slug: instrument.slug, input } });\n\t};\n\n\tuseEffect(() => {\n\t\tif (data?.updateInstrument) {\n\t\t\tif (onSuccess) {\n\t\t\t\treturn onSuccess(data.updateInstrument);\n\t\t\t}\n\t\t\twindow.alert(\"Instrument updated successfully!\");\n\t\t}\n\t}, [data, navigate]);\n\n\treturn (\n\t\t<>\n\t\t\t<div className=\"flex flex-col align-start\">\n\t\t\t\t<form onSubmit={onUpdateInstrument}>\n\t\t\t\t\t<input\n\t\t\t\t\t\tplaceholder=\"Name\"\n\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\tclassName=\"mb-2\"\n\t\t\t\t\t\tvalue={name}\n\t\t\t\t\t\tonChange={(event) => setName(event.target.value)}\n\t\t\t\t\t/>\n\t\t\t\t\t<input\n\t\t\t\t\t\tplaceholder=\"Aliases\"\n\t\t\t\t\t\tclassName=\"mb-2\"\n\t\t\t\t\t\tvalue={aliases}\n\t\t\t\t\t\tonChange={(event) => setAliases(event.target.value)}\n\t\t\t\t\t/>\n\t\t\t\t\t<div className=\"text-sm text-gray-400 mb-2 ml-2\">\n\t\t\t\t\t\tA list of comma-separated aliases for this Instrument. For example:{\" \"}\n\t\t\t\t\t\t<em>Stomach Steinway, Squeezebox, Belly Organ</em>\n\t\t\t\t\t</div>\n\t\t\t\t\t<textarea\n\t\t\t\t\t\tplaceholder=\"Description\"\n\t\t\t\t\t\tclassName=\"mb-2\"\n\t\t\t\t\t\tvalue={description}\n\t\t\t\t\t\trows={10}\n\t\t\t\t\t\tonChange={(event) => setDescription(event.target.value)}\n\t\t\t\t\t/>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\tclassName=\"btn mb-4 w-auto\"\n\t\t\t\t\t\tdisabled={loading}\n\t\t\t\t\t\tvalue=\"Save\"\n\t\t\t\t\t/>\n\t\t\t\t</form>\n\t\t\t</div>\n\n\t\t\t{error && <div className=\"text-red-600\">{error.message}</div>}\n\t\t</>\n\t);\n};\n\nexport default EditInstrumentForm;\n", "import { useQuery } from \"@apollo/client\";\nimport { useNavigate } from \"@remix-run/react\";\n\nimport type { Instrument } from \"~/types\";\nimport TagService from \"~/services/Tag\";\nimport { INSTRUMENT_QUERY } from \"~/routes/entities/instruments/[slug]\";\n\nimport Layout from \"~/components/Layout\";\nimport Breadcrumb from \"~/components/Breadcrumb\";\nimport LoadingBlock from \"~/components/LoadingBlock\";\nimport TagWithRelationshipToObject from \"~/components/TagWithRelationshipToObject\";\nimport AddTagButton from \"~/components/AddTagButton\";\nimport EditTagsButton from \"~/components/EditTagsButton\";\n\nconst InstrumentTags = () => {\n\tconst navigate = useNavigate();\n\tconst { slug } = navigate.query;\n\n\tconst { data, error, refetch } = useQuery<{\n\t\tinstrument: Instrument;\n\t}>(INSTRUMENT_QUERY, {\n\t\tvariables: { slug },\n\t\tskip: !slug,\n\t});\n\tconst isLoading = !data && !error;\n\tconst { instrument } = data ?? {};\n\tconst { name, tags } = instrument ?? {};\n\tconst sortedTags = TagService.sort(tags);\n\n\treturn (\n\t\t<Layout pageTitle={`Trad Archive - ${name} - Tags`}>\n\t\t\t{isLoading && <LoadingBlock />}\n\t\t\t{error && <div className=\"text-red-500\">{error.message}</div>}\n\t\t\t{data && (\n\t\t\t\t<>\n\t\t\t\t\t<Breadcrumb\n\t\t\t\t\t\titems={[\n\t\t\t\t\t\t\t{ label: \"Instruments\", href: \"/entities/instruments\" },\n\t\t\t\t\t\t\t{ label: name, href: `/entities/instruments/${slug}` },\n\t\t\t\t\t\t\t{ label: \"Tags\" },\n\t\t\t\t\t\t]}\n\t\t\t\t\t\tclassName=\"mb-6\"\n\t\t\t\t\t/>\n\n\t\t\t\t\t{sortedTags.map((tag, index) => (\n\t\t\t\t\t\t<TagWithRelationshipToObject\n\t\t\t\t\t\t\ttag={tag}\n\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\tclassName=\"mb-4\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t))}\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<AddTagButton entity={instrument} onSuccess={refetch} />\n\t\t\t\t\t\t{sortedTags.length > 0 && (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<span className=\"text-gray-500 px-2\">/</span>\n\t\t\t\t\t\t\t\t<EditTagsButton entity={instrument} onSuccess={refetch} />\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</>\n\t\t\t)}\n\t\t</Layout>\n\t);\n};\n\nexport default InstrumentTags;\n", "import { useEffect } from \"react\";\nimport { useNavigate } from \"@remix-run/react\";\n\nconst ViewAudioItems = () => {\n\tconst navigate = useNavigate();\n\n\tuseEffect(() => {\n\t\tnavigate(\"/\");\n\t}, [navigate]);\n\n\treturn null;\n};\n\nexport default ViewAudioItems;\n", "import { Link } from \"@remix-run/react\";\n\nimport useCollections from \"~/hooks/useCollections\";\nimport EntityService from \"~/services/Entity\";\n\nimport Layout from \"~/components/Layout\";\nimport LoadingBlock from \"~/components/LoadingBlock\";\n\nconst Collections = () => {\n\tconst [collections, { loading, error }, fetchNextPage] = useCollections({\n\t\tresultsPerPage: 50,\n\t});\n\n\treturn (\n\t\t<Layout pageTitle={`Trad Archive - Collections`}>\n\t\t\t<h1 className=\"mb-6\">Collections</h1>\n\t\t\t{!loading && error && (\n\t\t\t\t<div className=\"text-red-600\">Error fetching Collections</div>\n\t\t\t)}\n\t\t\t{!loading && collections?.length === 0 && (\n\t\t\t\t<div className=\"text-gray-500\">No Collections found</div>\n\t\t\t)}\n\t\t\t{collections?.length > 0 && (\n\t\t\t\t<ul>\n\t\t\t\t\t{collections.map((collection, index) => (\n\t\t\t\t\t\t<li className=\"mb-2\" key={index}>\n\t\t\t\t\t\t\t<Link to={EntityService.makeHrefForView(collection)}>\n\t\t\t\t\t\t\t\t{collection.name}\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t))}\n\t\t\t\t</ul>\n\t\t\t)}\n\t\t\t<div className=\"mt-6\">\n\t\t\t\t{loading && <LoadingBlock />}\n\t\t\t\t{!loading && collections?.length > 0 && (\n\t\t\t\t\t<button className=\"btn-text\" onClick={fetchNextPage}>\n\t\t\t\t\t\tLoad More\n\t\t\t\t\t</button>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</Layout>\n\t);\n};\n\nexport default Collections;\n", "import { useEffect, useCallback, useState } from \"react\";\nimport type { LazyQueryResult, LazyQueryHookOptions } from \"@apollo/client\";\nimport { useLazyQuery, gql } from \"@apollo/client\";\nimport type { Collection } from \"~/types\";\nimport { SortBy } from \"~/types\";\nimport { EntityFragments } from \"~/fragments\";\n\nexport const COLLECTIONS_QUERY = gql`\n\tquery Collections($input: CollectionsInput!) {\n\t\tcollections(input: $input) {\n\t\t\t...Collection\n\t\t}\n\t}\n\t${EntityFragments.collection}\n`;\n\ninterface QueryData {\n\tcollections: Collection[];\n}\ninterface QueryVariables {\n\tinput: {\n\t\ttake?: number;\n\t\tskip?: number;\n\t\tsortBy?: SortBy;\n\t};\n}\ninterface HookArgs {\n\tsortBy?: SortBy;\n\tresultsPerPage?: number;\n\tqueryOptions?: LazyQueryHookOptions<QueryData, QueryVariables>;\n}\ntype HookReturnValue = [\n\tCollection[] | undefined,\n\tLazyQueryResult<QueryData, {}>,\n\t() => void\n];\n\nconst useCollections = ({\n\tsortBy = SortBy.AToZ,\n\tresultsPerPage = 20,\n\tqueryOptions = {},\n}: HookArgs = {}): HookReturnValue => {\n\tconst [skip, setSkip] = useState(0);\n\tconst [collections, setCollections] = useState<Collection[] | undefined>();\n\n\tconst [getCollections, collectionsQuery] = useLazyQuery<\n\t\tQueryData,\n\t\tQueryVariables\n\t>(COLLECTIONS_QUERY, {\n\t\tnotifyOnNetworkStatusChange: true,\n\t\t...queryOptions,\n\t});\n\tconst { data, fetchMore } = collectionsQuery;\n\tuseEffect(() => {\n\t\t// Avoid bug with Apollo Client where it makes an extra network request\n\t\t// with original variables after `fetchMore` is called, thus leading to\n\t\t// `data` briefly being `undefined`.\n\t\t// https://github.com/apollographql/apollo-client/issues/6916\n\t\tif (data?.collections) {\n\t\t\tsetCollections(data.collections);\n\t\t}\n\t}, [data]);\n\n\tuseEffect(() => {\n\t\tgetCollections({\n\t\t\tvariables: {\n\t\t\t\tinput: {\n\t\t\t\t\ttake: resultsPerPage + skip,\n\t\t\t\t\tskip: 0,\n\t\t\t\t\tsortBy,\n\t\t\t\t},\n\t\t\t},\n\t\t});\n\t}, [getCollections, resultsPerPage, sortBy]);\n\n\tconst fetchNextPageOfCollections = useCallback(async () => {\n\t\tconst numToSkip = collections?.length ?? 0;\n\t\tawait fetchMore({\n\t\t\tvariables: {\n\t\t\t\tinput: {\n\t\t\t\t\ttake: resultsPerPage,\n\t\t\t\t\tskip: numToSkip,\n\t\t\t\t\tsortBy,\n\t\t\t\t},\n\t\t\t},\n\t\t});\n\t\tsetSkip(numToSkip);\n\t}, [fetchMore, resultsPerPage, collections, sortBy]);\n\n\treturn [collections, collectionsQuery, fetchNextPageOfCollections];\n};\n\nexport default useCollections;\n", "import { Link } from \"@remix-run/react\";\n\nimport useInstruments from \"~/hooks/useInstruments\";\nimport EntityService from \"~/services/Entity\";\n\nimport Layout from \"~/components/Layout\";\nimport LoadingBlock from \"~/components/LoadingBlock\";\n\nconst Instruments = () => {\n\tconst [instruments, { loading, error }, fetchNextPage] = useInstruments({\n\t\tresultsPerPage: 50,\n\t});\n\n\treturn (\n\t\t<Layout pageTitle={`Trad Archive - Instruments`}>\n\t\t\t<h1 className=\"mb-6\">Instruments</h1>\n\t\t\t{!loading && error && (\n\t\t\t\t<div className=\"text-red-600\">Error fetching Instruments</div>\n\t\t\t)}\n\t\t\t{!loading && instruments?.length === 0 && (\n\t\t\t\t<div className=\"text-gray-500\">No Instruments found</div>\n\t\t\t)}\n\t\t\t{instruments?.length > 0 && (\n\t\t\t\t<ul>\n\t\t\t\t\t{instruments.map((instrument, index) => (\n\t\t\t\t\t\t<li className=\"mb-2\" key={index}>\n\t\t\t\t\t\t\t<Link to={EntityService.makeHrefForView(instrument)}>\n\t\t\t\t\t\t\t\t{instrument.name}\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t))}\n\t\t\t\t</ul>\n\t\t\t)}\n\t\t\t<div className=\"mt-6\">\n\t\t\t\t{loading && <LoadingBlock />}\n\t\t\t\t{!loading && instruments?.length > 0 && (\n\t\t\t\t\t<button className=\"btn-text\" onClick={fetchNextPage}>\n\t\t\t\t\t\tLoad More\n\t\t\t\t\t</button>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</Layout>\n\t);\n};\n\nexport default Instruments;\n", "import { useEffect, useCallback, useState } from \"react\";\nimport type { LazyQueryHookOptions, LazyQueryResult } from \"@apollo/client\";\nimport { useLazyQuery, gql } from \"@apollo/client\";\nimport type { Instrument } from \"~/types\";\nimport { SortBy } from \"~/types\";\nimport { EntityFragments } from \"~/fragments\";\n\nexport const INSTRUMENTS_QUERY = gql`\n\tquery Instruments($input: InstrumentsInput!) {\n\t\tinstruments(input: $input) {\n\t\t\t...Instrument\n\t\t}\n\t}\n\t${EntityFragments.instrument}\n`;\n\ninterface QueryData {\n\tinstruments: Instrument[];\n}\ninterface QueryVariables {\n\tinput: {\n\t\ttake?: number;\n\t\tskip?: number;\n\t\tsortBy?: SortBy;\n\t};\n}\ninterface HookArgs {\n\tsortBy?: SortBy;\n\tresultsPerPage?: number;\n\tqueryOptions?: LazyQueryHookOptions<QueryData, QueryVariables>;\n}\ntype HookReturnValue = [\n\tInstrument[] | undefined,\n\tLazyQueryResult<QueryData, {}>,\n\t() => void\n];\n\nconst useInstruments = ({\n\tsortBy = SortBy.AToZ,\n\tresultsPerPage = 20,\n\tqueryOptions = {},\n}: HookArgs = {}): HookReturnValue => {\n\tconst [skip, setSkip] = useState(0);\n\tconst [instruments, setInstruments] = useState<Instrument[] | undefined>();\n\n\t// Reset values when sortBy changes\n\tuseEffect(() => {\n\t\tsetInstruments(undefined);\n\t\tsetSkip(0);\n\t}, [sortBy]);\n\n\tconst [getInstruments, instrumentsQuery] = useLazyQuery<\n\t\tQueryData,\n\t\tQueryVariables\n\t>(INSTRUMENTS_QUERY, {\n\t\tnotifyOnNetworkStatusChange: true,\n\t\t...queryOptions,\n\t});\n\tconst { data, fetchMore } = instrumentsQuery;\n\tuseEffect(() => {\n\t\t// Avoid bug with Apollo Client where it makes an extra network request\n\t\t// with original variables after `fetchMore` is called, thus leading to\n\t\t// `data` briefly being `undefined`.\n\t\t// https://github.com/apollographql/apollo-client/issues/6916\n\t\tif (data?.instruments) {\n\t\t\tsetInstruments(data.instruments);\n\t\t}\n\t}, [data]);\n\n\tuseEffect(() => {\n\t\tgetInstruments({\n\t\t\tvariables: {\n\t\t\t\tinput: {\n\t\t\t\t\tsortBy,\n\t\t\t\t\ttake: resultsPerPage + skip,\n\t\t\t\t\tskip: 0,\n\t\t\t\t},\n\t\t\t},\n\t\t});\n\t}, [getInstruments, resultsPerPage, sortBy, skip]);\n\n\tconst fetchNextPage = useCallback(async () => {\n\t\tconst numToSkip = instruments?.length ?? 0;\n\t\tawait fetchMore({\n\t\t\tvariables: {\n\t\t\t\tinput: {\n\t\t\t\t\tsortBy,\n\t\t\t\t\ttake: resultsPerPage,\n\t\t\t\t\tskip: numToSkip,\n\t\t\t\t},\n\t\t\t},\n\t\t});\n\t\tsetSkip(numToSkip);\n\t}, [fetchMore, resultsPerPage, instruments, sortBy]);\n\n\treturn [instruments, instrumentsQuery, fetchNextPage];\n};\n\nexport default useInstruments;\n", "import { Link } from \"@remix-run/react\";\nimport { useQuery, gql } from \"@apollo/client\";\n\nimport { Submission } from \"~/types\";\nimport { SubmissionFragments } from \"~/fragments\";\nimport DateTimeService from \"~/services/DateTime\";\n\nimport Layout from \"~/components/Layout\";\nimport RequireUser from \"~/components/RequireUser\";\nimport Breadcrumb from \"~/components/Breadcrumb\";\nimport LoadingBlock from \"~/components/LoadingBlock\";\n\nconst SUBMISSIONS_FOR_CURRENT_USER = gql`\n\tquery SubmissionsForCurrentUser {\n\t\tsubmissionsForCurrentUser {\n\t\t\t...Submission\n\t\t}\n\t}\n\t${SubmissionFragments.submission}\n`;\n\ninterface SubmissionsData {\n\tsubmissionsForCurrentUser: Submission[];\n}\n\nconst Submissions = () => {\n\tconst { data, loading } = useQuery<SubmissionsData>(\n\t\tSUBMISSIONS_FOR_CURRENT_USER,\n\t\t{ fetchPolicy: \"cache-and-network\" }\n\t);\n\n\treturn (\n\t\t<Layout>\n\t\t\t<RequireUser>\n\t\t\t\t<Breadcrumb\n\t\t\t\t\titems={[\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: \"Account\",\n\t\t\t\t\t\t\thref: \"/account\",\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{ label: \"Submissions\" },\n\t\t\t\t\t]}\n\t\t\t\t\tclassName=\"mb-6\"\n\t\t\t\t/>\n\t\t\t\t<Link to=\"/account/submissions/new\">\n\t\t\t\t\t<a className=\"btn\">Create New</a>\n\t\t\t\t</Link>\n\n\t\t\t\t{!data && loading && <LoadingBlock className=\"mt-12\" />}\n\n\t\t\t\t{data && (\n\t\t\t\t\t<ul className=\"mt-12\">\n\t\t\t\t\t\t{data.submissionsForCurrentUser.map((s, index) => (\n\t\t\t\t\t\t\t<li className=\"mb-4\" key={index}>\n\t\t\t\t\t\t\t\t{DateTimeService.formatDateYearTime(s.createdAt, true)} (\n\t\t\t\t\t\t\t\t{s.materialTypes.join(\", \")}) - Status: {s.status}\n\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t<span className=\"text-gray-500\">\n\t\t\t\t\t\t\t\t\t{`${s.description.substring(0, 200)}${\n\t\t\t\t\t\t\t\t\t\ts.description.length > 200 ? \"...\" : \"\"\n\t\t\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t<Link to={`/account/submissions/${s.id}/upload`}>\n\t\t\t\t\t\t\t\t\tUpload More Files to This Submission\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</ul>\n\t\t\t\t)}\n\t\t\t</RequireUser>\n\t\t</Layout>\n\t);\n};\n\nexport default Submissions;\n", "import { useNavigate } from \"@remix-run/react\";\nimport type { AudioItem } from \"types\";\n\nimport useAudioItems from \"~/hooks/useAudioItems\";\n\nimport Layout from \"~/components/Layout\";\nimport RequireAdmin from \"~/components/RequireAdmin\";\nimport CreateAudioItemForm from \"~/components/CreateAudioItemForm\";\n\nconst NewAudioItem = () => {\n\tconst navigate = useNavigate();\n\tconst [_, { refetch }] = useAudioItems();\n\n\tconst onCreateSuccess = async (audioItem: AudioItem) => {\n\t\tawait refetch();\n\t\tnavigate(`/entities/audio-items/${audioItem.slug}`);\n\t};\n\n\treturn (\n\t\t<Layout>\n\t\t\t<RequireAdmin>\n\t\t\t\t<div className=\"max-w-md\">\n\t\t\t\t\t<h1 className=\"mb-4\">Create Audio Item</h1>\n\t\t\t\t\t<CreateAudioItemForm onSuccess={onCreateSuccess} />\n\t\t\t\t</div>\n\t\t\t</RequireAdmin>\n\t\t</Layout>\n\t);\n};\n\nexport default NewAudioItem;\n", "import { useEffect, useCallback, useState } from \"react\";\nimport type { LazyQueryHookOptions, LazyQueryResult } from \"@apollo/client\";\nimport { useLazyQuery, gql } from \"@apollo/client\";\nimport type { AudioItem } from \"~/types\";\nimport { EntityStatus, SortBy } from \"~/types\";\nimport { EntityFragments } from \"~/fragments\";\n\nexport const AUDIO_ITEMS_QUERY = gql`\n\tquery AudioItems($input: AudioItemsInput!) {\n\t\taudioItems(input: $input) {\n\t\t\t...AudioItem\n\t\t}\n\t}\n\t${EntityFragments.audioItem}\n`;\n\ninterface QueryData {\n\taudioItems: AudioItem[];\n}\ninterface QueryVariables {\n\tinput: {\n\t\ttake?: number;\n\t\tskip?: number;\n\t\tstatus?: EntityStatus;\n\t\tsortBy?: SortBy;\n\t};\n}\ninterface HookArgs {\n\tsortBy?: SortBy;\n\tresultsPerPage?: number;\n\tqueryOptions?: LazyQueryHookOptions<QueryData, QueryVariables>;\n}\n\nconst useAudioItems = ({\n\tsortBy = SortBy.RecentlyTagged,\n\tresultsPerPage = 10,\n\tqueryOptions = {},\n}: HookArgs = {}): [\n\tAudioItem[] | undefined,\n\tLazyQueryResult<QueryData, {}>,\n\t() => void\n] => {\n\tconst [skip, setSkip] = useState(0);\n\tconst [audioItems, setAudioItems] = useState<AudioItem[] | undefined>();\n\n\t// Reset values when sortBy changes\n\tuseEffect(() => {\n\t\tsetAudioItems(undefined);\n\t\tsetSkip(0);\n\t}, [sortBy]);\n\n\tconst [getAudioItems, audioItemsQuery] = useLazyQuery<\n\t\tQueryData,\n\t\tQueryVariables\n\t>(AUDIO_ITEMS_QUERY, {\n\t\tnotifyOnNetworkStatusChange: true,\n\t\t...queryOptions,\n\t});\n\tconst { data, fetchMore } = audioItemsQuery;\n\tuseEffect(() => {\n\t\t// Avoid bug with Apollo Client where it makes an extra network request\n\t\t// with original variables after `fetchMore` is called, thus leading to\n\t\t// `data` briefly being `undefined`.\n\t\t// https://github.com/apollographql/apollo-client/issues/6916\n\t\tif (data?.audioItems) {\n\t\t\tsetAudioItems(data.audioItems);\n\t\t}\n\t}, [data]);\n\n\tuseEffect(() => {\n\t\tgetAudioItems({\n\t\t\tvariables: {\n\t\t\t\tinput: {\n\t\t\t\t\tsortBy,\n\t\t\t\t\ttake: resultsPerPage + skip,\n\t\t\t\t\tskip: 0,\n\t\t\t\t\tstatus: EntityStatus.Published,\n\t\t\t\t},\n\t\t\t},\n\t\t});\n\t}, [getAudioItems, resultsPerPage, sortBy, skip]);\n\n\tconst fetchNextPage = useCallback(async () => {\n\t\tconst numToSkip = audioItems?.length ?? 0;\n\t\tawait fetchMore({\n\t\t\tvariables: {\n\t\t\t\tinput: {\n\t\t\t\t\tsortBy,\n\t\t\t\t\ttake: resultsPerPage,\n\t\t\t\t\tstatus: EntityStatus.Published,\n\t\t\t\t\tskip: numToSkip,\n\t\t\t\t},\n\t\t\t},\n\t\t});\n\t\tsetSkip(numToSkip);\n\t}, [fetchMore, resultsPerPage, audioItems, sortBy]);\n\n\treturn [audioItems, audioItemsQuery, fetchNextPage];\n};\n\nexport default useAudioItems;\n", "import { useEffect, useState } from \"react\";\nimport { useMutation, gql } from \"@apollo/client\";\n\nimport type { AudioItem } from \"~/types\";\nimport { EntityFragments } from \"~/fragments\";\nimport EntityService from \"~/services/Entity\";\n\nconst CREATE_AUDIO_ITEM_MUTATION = gql`\n\tmutation CreateAudioItem($input: CreateAudioItemInput!) {\n\t\tcreateAudioItem(input: $input) {\n\t\t\t...AudioItem\n\t\t}\n\t}\n\t${EntityFragments.audioItem}\n`;\n\ninterface Props {\n\tonSuccess?: (audioItem: AudioItem) => void;\n}\ninterface CreateAudioItemInput {\n\tname: string;\n\turlSource: string;\n\tslug: string;\n\taliases?: string;\n\tdescription?: string;\n}\n\nconst CreateAudioItemForm = ({ onSuccess }: Props) => {\n\tconst [createAudioItem, { loading, error, data }] = useMutation<\n\t\t{ createAudioItem: AudioItem },\n\t\t{ input: CreateAudioItemInput }\n\t>(CREATE_AUDIO_ITEM_MUTATION, { errorPolicy: \"all\" });\n\n\tconst [name, setName] = useState(\"\");\n\tconst [urlSource, setUrlSource] = useState(\"\");\n\tconst [slug, setSlug] = useState(\"\");\n\tconst [aliases, setAliases] = useState(\"\");\n\tconst [description, setDescription] = useState(\"\");\n\n\tuseEffect(() => {\n\t\tconst proposedSlug = EntityService.cleanSlug(name ?? \"\");\n\t\tsetSlug(proposedSlug);\n\t}, [name]);\n\n\tconst onCreateAudioItem = (event) => {\n\t\tevent.preventDefault();\n\t\tcreateAudioItem({\n\t\t\tvariables: { input: { name, urlSource, slug, aliases, description } },\n\t\t});\n\t};\n\n\tuseEffect(() => {\n\t\tif (data?.createAudioItem) {\n\t\t\tif (onSuccess) {\n\t\t\t\treturn onSuccess(data.createAudioItem);\n\t\t\t}\n\t\t\twindow.alert(\"Audio Item created successfully!\");\n\t\t\tsetName(\"\");\n\t\t\tsetUrlSource(\"\");\n\t\t\tsetSlug(\"\");\n\t\t\tsetAliases(\"\");\n\t\t\tsetDescription(\"\");\n\t\t}\n\t}, [data]);\n\n\treturn (\n\t\t<>\n\t\t\t<div className=\"flex flex-col align-start\">\n\t\t\t\t<form onSubmit={onCreateAudioItem}>\n\t\t\t\t\t<input\n\t\t\t\t\t\tplaceholder=\"Name\"\n\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\tclassName=\"mb-2\"\n\t\t\t\t\t\tvalue={name}\n\t\t\t\t\t\tonChange={(event) => setName(event.target.value)}\n\t\t\t\t\t/>\n\t\t\t\t\t<input\n\t\t\t\t\t\tplaceholder=\"URL of Source File (ie. https://www.example.com/file.mp3)\"\n\t\t\t\t\t\tclassName=\"mb-2\"\n\t\t\t\t\t\tvalue={urlSource}\n\t\t\t\t\t\tonChange={(event) => setUrlSource(event.target.value)}\n\t\t\t\t\t/>\n\t\t\t\t\t<input\n\t\t\t\t\t\tplaceholder=\"URL slug (ie. finbarr-dwyer-live-at-dolans)\"\n\t\t\t\t\t\tclassName=\"mb-2\"\n\t\t\t\t\t\tvalue={slug}\n\t\t\t\t\t\tonChange={(event) => setSlug(event.target.value)}\n\t\t\t\t\t/>\n\t\t\t\t\t<div className=\"text-sm text-gray-400 mb-2 ml-2\">\n\t\t\t\t\t\tThis will be used for the URL of this AudioItem, for example{\" \"}\n\t\t\t\t\t\t{`https://trad-archive.com/entities/audio-items/${\n\t\t\t\t\t\t\tslug || \"finbarr-dwyer-live-at-dolans\"\n\t\t\t\t\t\t}`}\n\t\t\t\t\t</div>\n\t\t\t\t\t<input\n\t\t\t\t\t\tplaceholder=\"Aliases\"\n\t\t\t\t\t\tclassName=\"mb-2\"\n\t\t\t\t\t\tvalue={aliases}\n\t\t\t\t\t\tonChange={(event) => setAliases(event.target.value)}\n\t\t\t\t\t/>\n\t\t\t\t\t<div className=\"text-sm text-gray-400 mb-2 ml-2\">\n\t\t\t\t\t\tA list of comma-separated aliases for this AudioItem. For example:{\" \"}\n\t\t\t\t\t\t<em>Finbarr and Brian, Finbarr '08 at Dolan's</em>\n\t\t\t\t\t</div>\n\t\t\t\t\t<textarea\n\t\t\t\t\t\tplaceholder=\"Description\"\n\t\t\t\t\t\tclassName=\"mb-2\"\n\t\t\t\t\t\tvalue={description}\n\t\t\t\t\t\trows={5}\n\t\t\t\t\t\tonChange={(event) => setDescription(event.target.value)}\n\t\t\t\t\t/>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\tclassName=\"btn mb-4 w-auto\"\n\t\t\t\t\t\tdisabled={loading}\n\t\t\t\t\t\tvalue=\"Create\"\n\t\t\t\t\t/>\n\t\t\t\t</form>\n\t\t\t</div>\n\n\t\t\t{error && <div className=\"text-red-600 mb-4\">{error.message}</div>}\n\t\t</>\n\t);\n};\n\nexport default CreateAudioItemForm;\n", "import { useNavigate } from \"@remix-run/react\";\n\nimport type { Collection } from \"~/types\";\n\nimport Layout from \"~/components/Layout\";\nimport RequireUser from \"~/components/RequireUser\";\nimport CreateCollectionForm from \"~/components/CreateCollectionForm\";\n\nconst NewCollection = () => {\n\tconst navigate = useNavigate();\n\n\tconst onCreateSuccess = (collection: Collection) => {\n\t\tnavigate(`/entities/collections/${collection.slug}`);\n\t};\n\n\treturn (\n\t\t<Layout>\n\t\t\t<RequireUser>\n\t\t\t\t<div className=\"max-w-md\">\n\t\t\t\t\t<h1 className=\"mb-4\">Create Collection</h1>\n\t\t\t\t\t<CreateCollectionForm onSuccess={onCreateSuccess} />\n\t\t\t\t</div>\n\t\t\t</RequireUser>\n\t\t</Layout>\n\t);\n};\n\nexport default NewCollection;\n", "import { useNavigate } from \"@remix-run/react\";\n\nimport type { Instrument } from \"types\";\n\nimport Layout from \"~/components/Layout\";\nimport RequireUser from \"~/components/RequireUser\";\nimport CreateInstrumentForm from \"~/components/CreateInstrumentForm\";\n\nconst NewInstrument = () => {\n\tconst navigate = useNavigate();\n\n\tconst onCreateSuccess = (instrument: Instrument) => {\n\t\tnavigate(`/entities/instruments/${instrument.slug}`);\n\t};\n\n\treturn (\n\t\t<Layout>\n\t\t\t<RequireUser>\n\t\t\t\t<div className=\"max-w-md\">\n\t\t\t\t\t<h1 className=\"mb-4\">Create Instrument</h1>\n\t\t\t\t\t<CreateInstrumentForm onSuccess={onCreateSuccess} />\n\t\t\t\t</div>\n\t\t\t</RequireUser>\n\t\t</Layout>\n\t);\n};\n\nexport default NewInstrument;\n", "import { useNavigate } from \"@remix-run/react\";\n\nimport { Submission } from \"~/types\";\nimport Layout from \"~/components/Layout\";\nimport RequireUser from \"~/components/RequireUser\";\nimport Breadcrumb from \"~/components/Breadcrumb\";\nimport CreateSubmissionForm from \"~/components/CreateSubmissionForm\";\n\nconst SubmissionsNew = () => {\n\tconst navigate = useNavigate();\n\n\tconst onCreateSuccess = (submission: Submission) => {\n\t\tnavigate(`/account/submissions/${submission.id}/upload`);\n\t};\n\n\treturn (\n\t\t<Layout>\n\t\t\t<RequireUser>\n\t\t\t\t<Breadcrumb\n\t\t\t\t\titems={[\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: \"Account\",\n\t\t\t\t\t\t\thref: \"/account\",\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: \"Submissions\",\n\t\t\t\t\t\t\thref: \"/account/submissions\",\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{ label: \"Create a New Submission\" },\n\t\t\t\t\t]}\n\t\t\t\t\tclassName=\"mb-4\"\n\t\t\t\t/>\n\t\t\t\t<div className=\"max-w-full md:max-w-xl\">\n\t\t\t\t\t<div className=\"mb-6 text-gray-500\">\n\t\t\t\t\t\tWelcome! Please use this page if you would like to submit material\n\t\t\t\t\t\tto be considered for acceptance into ITMA's permanent collection.\n\t\t\t\t\t\tSubmission is easy: just fill in the form below to provide\n\t\t\t\t\t\tinformation about the sound recordings, videos, photographs or\n\t\t\t\t\t\tdocuments you are sharing, then upload your files. Thank you for\n\t\t\t\t\t\tyour contribution.\n\t\t\t\t\t</div>\n\t\t\t\t\t<CreateSubmissionForm onSuccess={onCreateSuccess} />\n\t\t\t\t</div>\n\t\t\t</RequireUser>\n\t\t</Layout>\n\t);\n};\n\nexport default SubmissionsNew;\n", "import { useState, useCallback, useEffect } from \"react\";\nimport { useMutation, gql } from \"@apollo/client\";\n\nimport type { Submission } from \"~/types\";\nimport { SubmissionMaterialType } from \"~/types\";\nimport { SubmissionFragments } from \"~/fragments\";\nimport useCurrentUser from \"~/hooks/useCurrentUser\";\n\nimport Checkbox from \"~/components/Checkbox\";\n\nconst CREATE_SUBMISSION = gql`\n\tmutation CreateSubmission($input: CreateSubmissionInput!) {\n\t\tcreateSubmission(input: $input) {\n\t\t\t...Submission\n\t\t}\n\t}\n\t${SubmissionFragments.submission}\n`;\n\ninterface MutationData {\n\tcreateSubmission: Submission;\n}\ninterface MutationVariables {\n\tinput: {\n\t\tmaterialTypes: SubmissionMaterialType[];\n\t\tuserControlsCopyright: boolean;\n\t\tcopyrightDetails?: string;\n\t\tdescription?: string;\n\t};\n}\ninterface Props {\n\tonSuccess?: (submission: Submission) => void;\n}\n\nconst CreateSubmissionForm = ({ onSuccess }: Props) => {\n\tconst [currentUser] = useCurrentUser();\n\n\tconst [materialTypes, setMaterialTypes] = useState([]);\n\tconst [userControlsCopyright, setUserControlsCopyright] = useState(true);\n\tconst [copyrightDetails, setCopyrightDetails] = useState(\"\");\n\tconst [description, setDescription] = useState(\"\");\n\tconst [userGrantsPermissionToITMA, setUserGrantsPermissionToITMA] =\n\t\tuseState(false);\n\tconst [validationError, setValidationError] = useState(\"\");\n\n\tconst [createSubmission, { loading, data, error }] = useMutation<\n\t\tMutationData,\n\t\tMutationVariables\n\t>(CREATE_SUBMISSION, { errorPolicy: \"all\" });\n\n\tconst onMaterialTypeChecked = (\n\t\tmaterialType: SubmissionMaterialType,\n\t\tisChecked: boolean\n\t) => {\n\t\tif (isChecked) {\n\t\t\tsetMaterialTypes(materialTypes.concat(materialType));\n\t\t} else {\n\t\t\tsetMaterialTypes(materialTypes.filter((mt) => mt !== materialType));\n\t\t}\n\t};\n\n\tconst materialTypeIsChecked = (materialType: SubmissionMaterialType) => {\n\t\treturn materialTypes.includes(materialType);\n\t};\n\n\tconst onSubmitForm = (event) => {\n\t\tevent.preventDefault();\n\t\tsetValidationError(\"\");\n\t\tif (!userControlsCopyright && !copyrightDetails) {\n\t\t\tsetValidationError(\n\t\t\t\t\"Please provide details on who controls the copyright for these items\"\n\t\t\t);\n\t\t\treturn;\n\t\t}\n\t\tif (!description) {\n\t\t\tsetValidationError(\"Please describe the items you are submitting\");\n\t\t\treturn;\n\t\t}\n\t\tconst input = {\n\t\t\tmaterialTypes,\n\t\t\tuserControlsCopyright,\n\t\t\tcopyrightDetails,\n\t\t\tdescription,\n\t\t};\n\t\ttry {\n\t\t\tcreateSubmission({\n\t\t\t\tvariables: {\n\t\t\t\t\tinput,\n\t\t\t\t},\n\t\t\t});\n\t\t} catch {\n\t\t\t//\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\tif (data?.createSubmission?.id && onSuccess) {\n\t\t\tonSuccess(data.createSubmission);\n\t\t}\n\t}, [data, onSuccess]);\n\n\treturn (\n\t\t<form className=\"flex flex-col items-start\" onSubmit={onSubmitForm}>\n\t\t\t<div className=\"flex flex-col mb-5\">\n\t\t\t\t<div className=\"mb-2\">\n\t\t\t\t\tWhat types of material would you like to upload?\n\t\t\t\t</div>\n\t\t\t\t<Checkbox\n\t\t\t\t\tid=\"audio\"\n\t\t\t\t\tlabel=\"Audio\"\n\t\t\t\t\tchecked={materialTypeIsChecked(SubmissionMaterialType.Audio)}\n\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\tonMaterialTypeChecked(\n\t\t\t\t\t\t\tSubmissionMaterialType.Audio,\n\t\t\t\t\t\t\te.target.checked\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t\tclassName=\"mb-1\"\n\t\t\t\t/>\n\t\t\t\t<Checkbox\n\t\t\t\t\tid=\"video\"\n\t\t\t\t\tlabel=\"Video\"\n\t\t\t\t\tchecked={materialTypeIsChecked(SubmissionMaterialType.Video)}\n\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\tonMaterialTypeChecked(\n\t\t\t\t\t\t\tSubmissionMaterialType.Video,\n\t\t\t\t\t\t\te.target.checked\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t\tclassName=\"mb-1\"\n\t\t\t\t/>\n\t\t\t\t<Checkbox\n\t\t\t\t\tid=\"image\"\n\t\t\t\t\tlabel=\"Image\"\n\t\t\t\t\tchecked={materialTypeIsChecked(SubmissionMaterialType.Image)}\n\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\tonMaterialTypeChecked(\n\t\t\t\t\t\t\tSubmissionMaterialType.Image,\n\t\t\t\t\t\t\te.target.checked\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t\tclassName=\"mb-1\"\n\t\t\t\t/>\n\t\t\t\t<Checkbox\n\t\t\t\t\tid=\"document\"\n\t\t\t\t\tlabel=\"Document\"\n\t\t\t\t\tchecked={materialTypeIsChecked(SubmissionMaterialType.Document)}\n\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\tonMaterialTypeChecked(\n\t\t\t\t\t\t\tSubmissionMaterialType.Document,\n\t\t\t\t\t\t\te.target.checked\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t\tclassName=\"mb-1\"\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div className=\"mb-2\">Do you control the copyright for these items?</div>\n\t\t\t<select\n\t\t\t\tclassName=\"mb-6\"\n\t\t\t\tvalue={userControlsCopyright ? \"Yes\" : \"No\"}\n\t\t\t\tonChange={(event) =>\n\t\t\t\t\tsetUserControlsCopyright(event.target.value === \"Yes\" ? true : false)\n\t\t\t\t}\n\t\t\t>\n\t\t\t\t<option value={\"Yes\"}>Yes</option>\n\t\t\t\t<option value={\"No\"}>No</option>\n\t\t\t</select>\n\t\t\t{!userControlsCopyright && (\n\t\t\t\t<div className=\"mb-6\">\n\t\t\t\t\t<div className=\"mb-2\">\n\t\t\t\t\t\tWho controls the copyright? Are you donating on someone's behalf?\n\t\t\t\t\t</div>\n\t\t\t\t\t<textarea\n\t\t\t\t\t\trows={3}\n\t\t\t\t\t\tvalue={copyrightDetails}\n\t\t\t\t\t\tonChange={(e) => setCopyrightDetails(e.target.value)}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t\t<div className=\"mb-2\">\n\t\t\t\tPlease describe this material:\n\t\t\t\t<br />\n\t\t\t\t- Who collected it?\n\t\t\t\t<br />- Who originally recorded it?\n\t\t\t\t<br />- Who is featured in these items?\n\t\t\t\t<br />- What are the recording dates?\n\t\t\t\t<br />- What are the recording locations?\n\t\t\t\t<br />- Any other comments you'd like to add?\n\t\t\t</div>\n\t\t\t<textarea\n\t\t\t\tclassName=\"mb-6\"\n\t\t\t\trows={12}\n\t\t\t\tvalue={description}\n\t\t\t\tonChange={(e) => setDescription(e.target.value)}\n\t\t\t/>\n\n\t\t\t<Checkbox\n\t\t\t\tclassName=\"mb-6\"\n\t\t\t\tchecked={userGrantsPermissionToITMA}\n\t\t\t\tlabel=\"By clicking this box, I consent to upload and give the digitised\n\t\t\tmaterial to the Irish Traditional Music Archive (Dublin, Ireland). ITMA\n\t\t\treserves the right to retain or delete at any time this material based on\n\t\t\tits collection policy.\"\n\t\t\t\tonChange={(e) => setUserGrantsPermissionToITMA(e.target.checked)}\n\t\t\t/>\n\n\t\t\t<input\n\t\t\t\ttype=\"submit\"\n\t\t\t\tvalue=\"Save and Continue to Upload\"\n\t\t\t\tdisabled={loading || !userGrantsPermissionToITMA}\n\t\t\t/>\n\n\t\t\t{validationError && (\n\t\t\t\t<div className=\"mt-4 text-red-600\">{validationError}</div>\n\t\t\t)}\n\t\t\t{error && (\n\t\t\t\t<div className=\"mt-4 text-red-600\">\n\t\t\t\t\tError saving Submission. Please reload the page and try again.\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t<div className=\"text-gray-500 italic mt-6\">\n\t\t\t\tAs per ITMA's Data Protection policy the information provided on this\n\t\t\t\tform will not be used for any other purpose; it will be stored securely\n\t\t\t\tand will not be shared with any third parties.\n\t\t\t</div>\n\t\t</form>\n\t);\n};\n\nexport default CreateSubmissionForm;\n", "import { ChangeEventHandler } from \"react\";\n\ninterface Props {\n\tchecked: boolean;\n\tlabel: string;\n\tid?: string;\n\tonChange: ChangeEventHandler<HTMLInputElement>;\n\tclassName?: string;\n}\n\nconst Checkbox = ({ checked, label, id, onChange, className }: Props) => {\n\tconst inputId = id ?? `input_${Math.round(Math.random() * 100000)}`;\n\n\treturn (\n\t\t<div className={`flex flex-row items-top justify-start ${className ?? \"\"}`}>\n\t\t\t<input\n\t\t\t\ttype=\"checkbox\"\n\t\t\t\tchecked={checked}\n\t\t\t\tonChange={onChange}\n\t\t\t\tid={inputId}\n\t\t\t\tclassName=\"mt-1 mr-2\"\n\t\t\t/>\n\t\t\t<label htmlFor={inputId}>{label}</label>\n\t\t</div>\n\t);\n};\n\nexport default Checkbox;\n", "import { Link } from \"@remix-run/react\";\nimport { useQuery, gql } from \"@apollo/client\";\n\nimport type { Submission } from \"~/types\";\nimport { SubmissionFragments } from \"~/fragments\";\nimport DateTimeService from \"~/services/DateTime\";\n\nimport Layout from \"~/components/Layout\";\nimport RequireAdmin from \"~/components/RequireAdmin\";\nimport Breadcrumb from \"~/components/Breadcrumb\";\nimport LoadingBlock from \"~/components/LoadingBlock\";\n\nconst SUBMISSIONS = gql`\n\tquery Submissions($input: SubmissionsInput!) {\n\t\tsubmissions(input: $input) {\n\t\t\t...Submission\n\t\t}\n\t}\n\t${SubmissionFragments.submission}\n`;\n\ninterface SubmissionsData {\n\tsubmissions: Submission[];\n}\ninterface SubmissionsVars {\n\tinput: {\n\t\ttake?: number;\n\t\tskip?: number;\n\t};\n}\n\nconst AdminSubmissions = () => {\n\tconst { data, loading } = useQuery<SubmissionsData, SubmissionsVars>(\n\t\tSUBMISSIONS,\n\t\t{\n\t\t\tvariables: { input: { take: 100, skip: 0 } },\n\t\t\tfetchPolicy: \"cache-and-network\",\n\t\t}\n\t);\n\n\treturn (\n\t\t<Layout>\n\t\t\t<RequireAdmin>\n\t\t\t\t<Breadcrumb\n\t\t\t\t\titems={[\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: \"Admin\",\n\t\t\t\t\t\t\thref: \"/admin\",\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{ label: \"Submissions\" },\n\t\t\t\t\t]}\n\t\t\t\t\tclassName=\"mb-6\"\n\t\t\t\t/>\n\n\t\t\t\t{!data && loading && <LoadingBlock />}\n\n\t\t\t\t{data && (\n\t\t\t\t\t<ul>\n\t\t\t\t\t\t{data.submissions.map((s, index) => (\n\t\t\t\t\t\t\t<li className=\"mb-4\" key={index}>\n\t\t\t\t\t\t\t\t{DateTimeService.formatDateYearTime(s.createdAt, true)} (\n\t\t\t\t\t\t\t\t{s.materialTypes.join(\", \")}) - Status: {s.status}\n\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\tFrom {s.createdByUser.username} / {s.createdByUser.email}\n\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\tOwns copyright? {s.userControlsCopyright ? \"Yes\" : \"No\"}\n\t\t\t\t\t\t\t\t{s.copyrightDetails ? ` - ${s.copyrightDetails}` : \"\"}\n\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t<span className=\"text-gray-500\">{s.description}</span>\n\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t<Link to={`/admin/submissions/${s.id}`}>View Files</Link>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</ul>\n\t\t\t\t)}\n\t\t\t</RequireAdmin>\n\t\t</Layout>\n\t);\n};\n\nexport default AdminSubmissions;\n", "import { useEffect, useMemo } from \"react\";\nimport { useQuery, useMutation, gql } from \"@apollo/client\";\nimport compareDesc from \"date-fns/compareDesc\";\n\nimport { TakedownRequestFragments } from \"~/fragments\";\nimport {\n\tisApprovedTakedownRequest,\n\tisDeniedTakedownRequest,\n\tisPendingTakedownRequest,\n\tTakedownRequest,\n\tTakedownRequestStatus,\n} from \"~/types\";\nimport EntityService from \"~/services/Entity\";\nimport DateTimeService from \"~/services/DateTime\";\n\nimport Layout from \"~/components/Layout\";\nimport LoadingBlock from \"~/components/LoadingBlock\";\nimport Breadcrumb from \"~/components/Breadcrumb\";\nimport RequireAdmin from \"~/components/RequireAdmin\";\n\nconst TAKEDOWN_REQUESTS = gql`\n\tquery TakedownRequests($input: TakedownRequestsInput!) {\n\t\ttakedownRequests(input: $input) {\n\t\t\t...TakedownRequest\n\t\t}\n\t}\n\t${TakedownRequestFragments.takedownRequest}\n`;\n\nconst UPDATE_TAKEDOWN_REQUEST_STATUS = gql`\n\tmutation UpdateTakedownRequestStatus(\n\t\t$input: UpdateTakedownRequestStatusInput!\n\t) {\n\t\tupdateTakedownRequestStatus(input: $input) {\n\t\t\t...TakedownRequest\n\t\t}\n\t}\n\t${TakedownRequestFragments.takedownRequest}\n`;\n\ninterface QueryData {\n\ttakedownRequests: TakedownRequest[];\n}\ninterface QueryVariables {\n\tinput: {\n\t\ttake?: number;\n\t\tskip?: number;\n\t};\n}\ninterface MutationData {\n\tupdateTakedownRequestStatus: TakedownRequest;\n}\ninterface MutationVariables {\n\tinput: {\n\t\tid: string;\n\t\tstatus: TakedownRequestStatus;\n\t};\n}\n\nconst TakedownRequests = () => {\n\tconst {\n\t\tloading: takedownRequestsLoading,\n\t\tdata: takedownRequestsData,\n\t\terror: takedownRequestsError,\n\t} = useQuery<QueryData, QueryVariables>(TAKEDOWN_REQUESTS, {\n\t\t// Take a high number until we implement pagination\n\t\tvariables: { input: { take: 200, skip: 0 } },\n\t\tfetchPolicy: \"network-only\",\n\t});\n\n\tconst takedownRequests = useMemo(() => {\n\t\tif (!takedownRequestsData?.takedownRequests) {\n\t\t\treturn [];\n\t\t}\n\t\tconst sortedTakedownRequests = [...takedownRequestsData.takedownRequests];\n\t\tsortedTakedownRequests.sort((a, b) =>\n\t\t\tcompareDesc(new Date(a.createdAt), new Date(b.createdAt))\n\t\t);\n\t\treturn sortedTakedownRequests;\n\t}, [takedownRequestsData]);\n\n\tconst [\n\t\tupdateTakedownRequestStatus,\n\t\t{\n\t\t\tloading: updateTakedownRequestStatusLoading,\n\t\t\terror: updateTakedownRequestStatusError,\n\t\t},\n\t] = useMutation<MutationData, MutationVariables>(\n\t\tUPDATE_TAKEDOWN_REQUEST_STATUS,\n\t\t{ errorPolicy: \"all\" }\n\t);\n\n\tconst onApproveClicked = (id: string) => {\n\t\tupdateTakedownRequestStatus({\n\t\t\tvariables: { input: { id, status: TakedownRequestStatus.Approved } },\n\t\t});\n\t};\n\n\tconst onDenyClicked = (id: string) => {\n\t\tupdateTakedownRequestStatus({\n\t\t\tvariables: { input: { id, status: TakedownRequestStatus.Denied } },\n\t\t});\n\t};\n\n\tuseEffect(() => {\n\t\tif (updateTakedownRequestStatusError) {\n\t\t\twindow.alert(\n\t\t\t\t\"Error updating Takedown Request status. Please reload the page and try again.\"\n\t\t\t);\n\t\t}\n\t}, [updateTakedownRequestStatusError]);\n\n\treturn (\n\t\t<Layout>\n\t\t\t<RequireAdmin>\n\t\t\t\t<>\n\t\t\t\t\t<Breadcrumb\n\t\t\t\t\t\titems={[\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tlabel: \"Admin\",\n\t\t\t\t\t\t\t\thref: \"/admin\",\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{ label: \"Takedown Requests\" },\n\t\t\t\t\t\t]}\n\t\t\t\t\t\tclassName=\"mb-6\"\n\t\t\t\t\t/>\n\n\t\t\t\t\t{takedownRequestsLoading && <LoadingBlock />}\n\t\t\t\t\t{takedownRequestsError && (\n\t\t\t\t\t\t<div className=\"text-red-600\">\n\t\t\t\t\t\t\t{takedownRequestsError.graphQLErrors.join(\", \")}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{!takedownRequestsLoading &&\n\t\t\t\t\t\ttakedownRequests?.map((takedownRequest, index) => {\n\t\t\t\t\t\t\tconst {\n\t\t\t\t\t\t\t\tid,\n\t\t\t\t\t\t\t\tcreatedAt,\n\t\t\t\t\t\t\t\tcreatedByUser,\n\t\t\t\t\t\t\t\tentity,\n\t\t\t\t\t\t\t\tstatus,\n\t\t\t\t\t\t\t\ttype,\n\t\t\t\t\t\t\t\tmessage,\n\t\t\t\t\t\t\t} = takedownRequest;\n\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<div className=\"mb-4\" key={index}>\n\t\t\t\t\t\t\t\t\tCreated {DateTimeService.formatDateYearTime(createdAt)} by{\" \"}\n\t\t\t\t\t\t\t\t\t{createdByUser.username}\n\t\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t\tEmail: {createdByUser.email}\n\t\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t\tEntity:{\" \"}\n\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\thref={EntityService.makeHrefForView(entity)}\n\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{entity.name}\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t\tTakedown Type: {type}\n\t\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t\tMessage: {message}\n\t\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t\tStatus: {status}\n\t\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t\t{isApprovedTakedownRequest(takedownRequest) && (\n\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn-text\"\n\t\t\t\t\t\t\t\t\t\t\tdisabled={updateTakedownRequestStatusLoading}\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => onDenyClicked(id)}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\tDeny\n\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t{isDeniedTakedownRequest(takedownRequest) && (\n\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn-text\"\n\t\t\t\t\t\t\t\t\t\t\tdisabled={updateTakedownRequestStatusLoading}\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => onApproveClicked(id)}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\tApprove\n\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t{isPendingTakedownRequest(takedownRequest) && (\n\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn-text mr-4\"\n\t\t\t\t\t\t\t\t\t\t\t\tdisabled={updateTakedownRequestStatusLoading}\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => onApproveClicked(id)}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\tApprove\n\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn-text\"\n\t\t\t\t\t\t\t\t\t\t\t\tdisabled={updateTakedownRequestStatusLoading}\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => onDenyClicked(id)}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\tDeny\n\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\t\t\t\t</>\n\t\t\t</RequireAdmin>\n\t\t</Layout>\n\t);\n};\n\nexport default TakedownRequests;\n", "import { Link } from \"@remix-run/react\";\nimport { useNavigate } from \"@remix-run/react\";\nimport { useQuery, gql } from \"@apollo/client\";\n\nimport type { Submission } from \"~/types\";\nimport { SubmissionFragments } from \"~/fragments\";\nimport DateTimeService from \"~/services/DateTime\";\n\nimport Layout from \"~/components/Layout\";\nimport RequireAdmin from \"~/components/RequireAdmin\";\nimport Breadcrumb from \"~/components/Breadcrumb\";\nimport LoadingBlock from \"~/components/LoadingBlock\";\n\nconst SUBMISSION_WITH_FILES = gql`\n\tquery SubmissionWithFiles($id: String!) {\n\t\tsubmissionWithFiles(id: $id) {\n\t\t\tsubmission {\n\t\t\t\t...Submission\n\t\t\t}\n\t\t\tfiles {\n\t\t\t\tfilename\n\t\t\t\tpresignedDownloadUrl\n\t\t\t}\n\t\t}\n\t}\n\t${SubmissionFragments.submission}\n`;\n\ninterface SubmissionWithFilesData {\n\tsubmissionWithFiles: {\n\t\tsubmission: Submission;\n\t\tfiles: Array<{\n\t\t\tfilename: string;\n\t\t\tpresignedDownloadUrl: string;\n\t\t}>;\n\t};\n}\ninterface SubmissionWithFilesVars {\n\tid: string;\n}\n\nconst AdminViewSubmissionById = () => {\n\tconst navigate = useNavigate();\n\tconst { id } = navigate.query;\n\tconst submissionId = typeof id === \"string\" ? id : undefined;\n\n\tconst { data, loading } = useQuery<\n\t\tSubmissionWithFilesData,\n\t\tSubmissionWithFilesVars\n\t>(SUBMISSION_WITH_FILES, {\n\t\tvariables: { id: submissionId },\n\t\tskip: !submissionId,\n\t\tfetchPolicy: \"cache-and-network\",\n\t});\n\tconst { submission, files } = data?.submissionWithFiles ?? {};\n\n\treturn (\n\t\t<Layout>\n\t\t\t<RequireAdmin>\n\t\t\t\t<Breadcrumb\n\t\t\t\t\titems={[\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: \"Admin\",\n\t\t\t\t\t\t\thref: \"/admin\",\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{ label: \"Submissions\", href: \"/admin/submissions\" },\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: submission\n\t\t\t\t\t\t\t\t? `${DateTimeService.formatDateYearTime(\n\t\t\t\t\t\t\t\t\t\tsubmission.createdAt,\n\t\t\t\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t\t\t  )} from ${submission.createdByUser.username}`\n\t\t\t\t\t\t\t\t: \"View Submission\",\n\t\t\t\t\t\t},\n\t\t\t\t\t]}\n\t\t\t\t\tclassName=\"mb-6\"\n\t\t\t\t/>\n\n\t\t\t\t{files && (\n\t\t\t\t\t<ul>\n\t\t\t\t\t\t{files.map((f, index) => (\n\t\t\t\t\t\t\t<li className=\"flex flex-row\" key={index}>\n\t\t\t\t\t\t\t\t<div className=\"pr-2\">{f.filename}</div>\n\t\t\t\t\t\t\t\t<Link to={f.presignedDownloadUrl}>\n\t\t\t\t\t\t\t\t\t<a target=\"_blank\">\n\t\t\t\t\t\t\t\t\t\tView<i className=\"material-icons text-sm\">launch</i>\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</ul>\n\t\t\t\t)}\n\n\t\t\t\t{!files && loading && <LoadingBlock className=\"mt-8\" />}\n\t\t\t</RequireAdmin>\n\t\t</Layout>\n\t);\n};\n\nexport default AdminViewSubmissionById;\n", "import { useNavigate } from \"@remix-run/react\";\nimport { useQuery, gql } from \"@apollo/client\";\n\nimport { EntityFragments } from \"~/fragments\";\nimport type { Place } from \"~/types\";\n\nimport Layout from \"~/components/Layout\";\nimport LoadingBlock from \"~/components/LoadingBlock\";\nimport ViewEntityAndAudioItems from \"~/components/ViewEntityAndAudioItems\";\n\nexport const PLACE_QUERY = gql`\n\tquery Place($slug: String!) {\n\t\tplace(slug: $slug) {\n\t\t\t...Place\n\t\t}\n\t}\n\t${EntityFragments.place}\n`;\n\nconst ViewPlaceBySlug = () => {\n\tconst navigate = useNavigate();\n\tconst { slug } = navigate.query;\n\n\tconst { data: placeData, error: placeError } = useQuery<{\n\t\tplace: Place;\n\t}>(PLACE_QUERY, {\n\t\tvariables: { slug },\n\t\tskip: !slug,\n\t});\n\tconst { place } = placeData ?? {};\n\n\tlet statusMessage;\n\tif (!placeData && !placeError) {\n\t\tstatusMessage = <LoadingBlock />;\n\t} else if (!placeData && placeError) {\n\t\tstatusMessage = `Error fetching Place with slug ${slug}`;\n\t}\n\n\tif (statusMessage) {\n\t\treturn <Layout>{statusMessage}</Layout>;\n\t}\n\n\treturn (\n\t\t<Layout pageTitle={`Trad Archive - ${place.name}`}>\n\t\t\t<ViewEntityAndAudioItems entity={place} />\n\t\t</Layout>\n\t);\n};\n\nexport default ViewPlaceBySlug;\n", "import { useQuery } from \"@apollo/client\";\nimport { Link } from \"@remix-run/react\";\nimport { useNavigate } from \"@remix-run/react\";\n\nimport type { Place } from \"~/types\";\n\nimport Layout from \"~/components/Layout\";\nimport { PLACE_QUERY } from \"~/routes/entities/places/[slug]\";\nimport Breadcrumb from \"~/components/Breadcrumb\";\nimport LoadingBlock from \"~/components/LoadingBlock\";\n\nconst PlaceAbout = () => {\n\tconst navigate = useNavigate();\n\tconst { slug } = navigate.query;\n\n\tconst { data, error } = useQuery<{\n\t\tplace: Place;\n\t}>(PLACE_QUERY, {\n\t\tvariables: { slug },\n\t\tskip: !slug,\n\t});\n\tconst isLoading = !data && !error;\n\tconst { name, description, aliases, latitude, longitude } = data?.place ?? {};\n\n\treturn (\n\t\t<Layout pageTitle={`Trad Archive - ${name} - About`}>\n\t\t\t{isLoading && <LoadingBlock />}\n\t\t\t{error && <div className=\"text-red-500\">{error.message}</div>}\n\t\t\t{data && (\n\t\t\t\t<>\n\t\t\t\t\t<Breadcrumb\n\t\t\t\t\t\titems={[\n\t\t\t\t\t\t\t{ label: \"Places\", href: \"/entities/places\" },\n\t\t\t\t\t\t\t{ label: name, href: `/entities/places/${slug}` },\n\t\t\t\t\t\t\t{ label: \"About\" },\n\t\t\t\t\t\t]}\n\t\t\t\t\t\tclassName=\"mb-6\"\n\t\t\t\t\t/>\n\t\t\t\t\t{description && (\n\t\t\t\t\t\t<div className=\"mb-4\">\n\t\t\t\t\t\t\tDescription:\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t<span className=\"text-gray-500 whitespace-pre-wrap\">\n\t\t\t\t\t\t\t\t{description}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t\t{aliases && (\n\t\t\t\t\t\t<div className=\"mb-4\">\n\t\t\t\t\t\t\tAliases:\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t<span className=\"text-gray-500\">{aliases}</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t\t{latitude && longitude && (\n\t\t\t\t\t\t<div className=\"mb-4\">\n\t\t\t\t\t\t\tLatitude and Longitude:\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t<span className=\"text-gray-500\">\n\t\t\t\t\t\t\t\t{latitude},{longitude}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\thref={`https://www.google.com/maps/@?api=1&map_action=map&zoom=12&center=${latitude},${longitude}`}\n\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\trel=\"noreferrer\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tView on Map <i className=\"material-icons text-base\">launch</i>\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t\t<Link to={`/entities/places/${slug}/edit`}>Edit</Link>\n\t\t\t\t</>\n\t\t\t)}\n\t\t</Layout>\n\t);\n};\n\nexport default PlaceAbout;\n", "import { useNavigate } from \"@remix-run/react\";\nimport { useQuery, gql } from \"@apollo/client\";\n\nimport { EntityFragments } from \"~/fragments\";\nimport type { Place } from \"~/types\";\n\nimport Layout from \"~/components/Layout\";\nimport LoadingBlock from \"~/components/LoadingBlock\";\nimport ViewEntityAndAudioItems from \"~/components/ViewEntityAndAudioItems\";\n\nexport const PLACE_QUERY = gql`\n\tquery Place($slug: String!) {\n\t\tplace(slug: $slug) {\n\t\t\t...Place\n\t\t}\n\t}\n\t${EntityFragments.place}\n`;\n\nconst ViewPlaceBySlug = () => {\n\tconst navigate = useNavigate();\n\tconst { slug } = navigate.query;\n\n\tconst { data: placeData, error: placeError } = useQuery<{\n\t\tplace: Place;\n\t}>(PLACE_QUERY, {\n\t\tvariables: { slug },\n\t\tskip: !slug,\n\t});\n\tconst { place } = placeData ?? {};\n\n\tlet statusMessage;\n\tif (!placeData && !placeError) {\n\t\tstatusMessage = <LoadingBlock />;\n\t} else if (!placeData && placeError) {\n\t\tstatusMessage = `Error fetching Place with slug ${slug}`;\n\t}\n\n\tif (statusMessage) {\n\t\treturn <Layout>{statusMessage}</Layout>;\n\t}\n\n\treturn (\n\t\t<Layout pageTitle={`Trad Archive - ${place.name}`}>\n\t\t\t<ViewEntityAndAudioItems entity={place} />\n\t\t</Layout>\n\t);\n};\n\nexport default ViewPlaceBySlug;\n", "import { useNavigate } from \"@remix-run/react\";\nimport { useQuery, gql } from \"@apollo/client\";\n\nimport type { Place } from \"types\";\nimport { EntityFragments } from \"~/fragments\";\n\nimport Layout from \"~/components/Layout\";\nimport LoadingBlock from \"~/components/LoadingBlock\";\nimport RequireUser from \"~/components/RequireUser\";\nimport EditPlaceForm from \"~/components/EditPlaceForm\";\n\nconst PLACE_QUERY = gql`\n\tquery Place($slug: String!) {\n\t\tplace(slug: $slug) {\n\t\t\t...Place\n\t\t}\n\t}\n\t${EntityFragments.place}\n`;\n\nconst EditPlace = () => {\n\tconst navigate = useNavigate();\n\tconst { slug } = navigate.query;\n\n\tconst { data, error } = useQuery(PLACE_QUERY, {\n\t\tvariables: { slug },\n\t\tskip: !slug,\n\t});\n\n\tconst onEditSuccess = (place: Place) => {\n\t\tnavigate(`/entities/places/${place.slug}`);\n\t};\n\n\tlet statusMessage;\n\tif (!data && !error) {\n\t\tstatusMessage = <LoadingBlock />;\n\t} else if (!data && error) {\n\t\tstatusMessage = `Error fetching Place with slug ${slug}`;\n\t}\n\n\tif (statusMessage) {\n\t\treturn <Layout>{statusMessage}</Layout>;\n\t}\n\n\tconst { place } = data;\n\n\treturn (\n\t\t<Layout>\n\t\t\t<RequireUser>\n\t\t\t\t<div className=\"max-w-md\">\n\t\t\t\t\t<h1 className=\"mb-4\">Edit Place: {place.name}</h1>\n\t\t\t\t\t<EditPlaceForm place={place} onSuccess={onEditSuccess} />\n\t\t\t\t</div>\n\t\t\t</RequireUser>\n\t\t</Layout>\n\t);\n};\n\nexport default EditPlace;\n", "import { useEffect, useState } from \"react\";\nimport { useMutation, gql } from \"@apollo/client\";\nimport { useNavigate } from \"@remix-run/react\";\nimport type { Place } from \"~/types\";\nimport { EntityFragments } from \"~/fragments\";\n\nconst UPDATE_PLACE_MUTATION = gql`\n\tmutation UpdatePlace($slug: String!, $input: UpdatePlaceInput!) {\n\t\tupdatePlace(slug: $slug, input: $input) {\n\t\t\t...Place\n\t\t}\n\t}\n\t${EntityFragments.place}\n`;\ninterface UpdatePlaceVariables {\n\tslug: string;\n\tinput: {\n\t\taliases?: string;\n\t\tdescription?: string;\n\t\tlatitude?: number;\n\t\tlongitude?: number;\n\t};\n}\ninterface Props {\n\tplace: Place;\n\tonSuccess?: (place: Place) => void;\n}\nconst EditPlaceForm = ({ place, onSuccess }: Props) => {\n\tconst navigate = useNavigate();\n\n\tconst [updatePlace, { loading, error, data }] = useMutation<\n\t\t{ updatePlace: Place },\n\t\tUpdatePlaceVariables\n\t>(UPDATE_PLACE_MUTATION, {\n\t\terrorPolicy: \"all\",\n\t});\n\n\tconst [name, setName] = useState(place.name);\n\tconst [aliases, setAliases] = useState(place.aliases);\n\tconst [latitude, setLatitude] = useState(place.latitude.toString());\n\tconst [longitude, setLongitude] = useState(place.longitude.toString());\n\tconst [description, setDescription] = useState(place.description);\n\n\tconst onUpdatePlace = (event) => {\n\t\tevent.preventDefault();\n\t\tconst input = {\n\t\t\tname,\n\t\t\taliases,\n\t\t\tlatitude: parseFloat(latitude),\n\t\t\tlongitude: parseFloat(longitude),\n\t\t\tdescription,\n\t\t};\n\t\tupdatePlace({ variables: { slug: place.slug, input } });\n\t};\n\n\tuseEffect(() => {\n\t\tif (data?.updatePlace) {\n\t\t\tif (onSuccess) {\n\t\t\t\treturn onSuccess(data.updatePlace);\n\t\t\t}\n\t\t\twindow.alert(\"Place updated successfully!\");\n\t\t}\n\t}, [data, navigate]);\n\n\treturn (\n\t\t<>\n\t\t\t<div className=\"flex flex-col align-start\">\n\t\t\t\t<form onSubmit={onUpdatePlace}>\n\t\t\t\t\t<input\n\t\t\t\t\t\tplaceholder=\"Name\"\n\t\t\t\t\t\tclassName=\"mb-2\"\n\t\t\t\t\t\tvalue={name}\n\t\t\t\t\t\tonChange={(event) => setName(event.target.value)}\n\t\t\t\t\t/>\n\t\t\t\t\t<input\n\t\t\t\t\t\tplaceholder=\"Aliases\"\n\t\t\t\t\t\tclassName=\"mb-2\"\n\t\t\t\t\t\tvalue={aliases}\n\t\t\t\t\t\tonChange={(event) => setAliases(event.target.value)}\n\t\t\t\t\t/>\n\t\t\t\t\t<div className=\"text-sm text-gray-400 mb-2 ml-2\">\n\t\t\t\t\t\tA list of comma-separated aliases for this Place. For example:{\" \"}\n\t\t\t\t\t\t<em>Gaillimh, The City of Tribes</em>\n\t\t\t\t\t</div>\n\t\t\t\t\t<input\n\t\t\t\t\t\tplaceholder=\"Latitude\"\n\t\t\t\t\t\tclassName=\"mb-2\"\n\t\t\t\t\t\tvalue={latitude}\n\t\t\t\t\t\tonChange={(event) => setLatitude(event.target.value)}\n\t\t\t\t\t/>\n\t\t\t\t\t<input\n\t\t\t\t\t\tplaceholder=\"Longitude\"\n\t\t\t\t\t\tclassName=\"mb-2\"\n\t\t\t\t\t\tvalue={longitude}\n\t\t\t\t\t\tonChange={(event) => setLongitude(event.target.value)}\n\t\t\t\t\t/>\n\t\t\t\t\t<div className=\"text-sm text-gray-400 mb-2 ml-2\">\n\t\t\t\t\t\tTo view the current latitude and longitude coordinates, visit{\" \"}\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\thref={`https://www.google.com/maps/@?api=1&map_action=map&zoom=12&center=${latitude},${longitude}`}\n\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\trel=\"noreferrer\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{latitude},{longitude} on Google Maps (will open in new tab)\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\t. To pick new coordinates, right-click on the exact location you'd\n\t\t\t\t\t\tlike, and you'll see numbers like \"53.2838294,-9.1888286\". Click to\n\t\t\t\t\t\tcopy them to your clipboard. The first one is latitude, and the\n\t\t\t\t\t\tsecond is longitude.\n\t\t\t\t\t</div>\n\t\t\t\t\t<textarea\n\t\t\t\t\t\tplaceholder=\"Description\"\n\t\t\t\t\t\tclassName=\"mb-2\"\n\t\t\t\t\t\tvalue={description}\n\t\t\t\t\t\trows={10}\n\t\t\t\t\t\tonChange={(event) => setDescription(event.target.value)}\n\t\t\t\t\t/>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\tclassName=\"btn mb-4 w-auto\"\n\t\t\t\t\t\tdisabled={loading}\n\t\t\t\t\t\tvalue=\"Save\"\n\t\t\t\t\t/>\n\t\t\t\t</form>\n\t\t\t</div>\n\n\t\t\t{error && <div className=\"text-red-600\">{error.message}</div>}\n\t\t</>\n\t);\n};\n\nexport default EditPlaceForm;\n", "import { useQuery } from \"@apollo/client\";\nimport { useNavigate } from \"@remix-run/react\";\n\nimport type { Place } from \"~/types\";\nimport TagService from \"~/services/Tag\";\nimport { PLACE_QUERY } from \"~/routes/entities/places/[slug]\";\n\nimport Layout from \"~/components/Layout\";\nimport Breadcrumb from \"~/components/Breadcrumb\";\nimport LoadingBlock from \"~/components/LoadingBlock\";\nimport TagWithRelationshipToObject from \"~/components/TagWithRelationshipToObject\";\nimport AddTagButton from \"~/components/AddTagButton\";\nimport EditTagsButton from \"~/components/EditTagsButton\";\n\nconst PlaceTags = () => {\n\tconst navigate = useNavigate();\n\tconst { slug } = navigate.query;\n\n\tconst { data, error, refetch } = useQuery<{\n\t\tplace: Place;\n\t}>(PLACE_QUERY, {\n\t\tvariables: { slug },\n\t\tskip: !slug,\n\t});\n\tconst isLoading = !data && !error;\n\tconst { place } = data ?? {};\n\tconst { name, tags } = place ?? {};\n\tconst sortedTags = TagService.sort(tags);\n\n\treturn (\n\t\t<Layout pageTitle={`Trad Archive - ${name} - Tags`}>\n\t\t\t{isLoading && <LoadingBlock />}\n\t\t\t{error && <div className=\"text-red-500\">{error.message}</div>}\n\t\t\t{data && (\n\t\t\t\t<>\n\t\t\t\t\t<Breadcrumb\n\t\t\t\t\t\titems={[\n\t\t\t\t\t\t\t{ label: \"Places\", href: \"/entities/places\" },\n\t\t\t\t\t\t\t{ label: name, href: `/entities/places/${slug}` },\n\t\t\t\t\t\t\t{ label: \"Tags\" },\n\t\t\t\t\t\t]}\n\t\t\t\t\t\tclassName=\"mb-6\"\n\t\t\t\t\t/>\n\n\t\t\t\t\t{sortedTags.map((tag, index) => (\n\t\t\t\t\t\t<TagWithRelationshipToObject\n\t\t\t\t\t\t\ttag={tag}\n\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\tclassName=\"mb-4\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t))}\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<AddTagButton entity={place} onSuccess={refetch} />\n\t\t\t\t\t\t{sortedTags.length > 0 && (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<span className=\"text-gray-500 px-2\">/</span>\n\t\t\t\t\t\t\t\t<EditTagsButton entity={place} onSuccess={refetch} />\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</>\n\t\t\t)}\n\t\t</Layout>\n\t);\n};\n\nexport default PlaceTags;\n", "import { useLoaderData } from \"@remix-run/react\";\nimport type { DataFunctionArgs } from \"@remix-run/node\";\nimport type { Prisma, Person } from \"@prisma/client\";\n\nimport { type AudioItemWithRelations, SortBy } from \"~/types\";\nimport { db } from \"~/utils/db.server\";\nimport Layout from \"~/components/Layout\";\nimport ViewEntityAndAudioItems from \"~/components/ViewEntityAndAudioItems\";\n\ninterface LoaderData {\n\tperson: Person;\n\taudioItems: AudioItemWithRelations[];\n\ttotalAudioItems: number;\n}\n\nexport async function loader({\n\tparams,\n\trequest,\n}: DataFunctionArgs): Promise<LoaderData> {\n\tconst { slug } = params;\n\tconst person = await db.person.findUnique({\n\t\twhere: {\n\t\t\tslug,\n\t\t},\n\t});\n\tif (!person) {\n\t\tthrow new Response(\"Not Found\", {\n\t\t\tstatus: 404,\n\t\t\tstatusText: \"Could not find this Person\",\n\t\t});\n\t}\n\tconst { searchParams } = new URL(request.url);\n\tconst page = Number(searchParams.get(\"page\") ?? 1);\n\tconst perPage = Number(searchParams.get(\"perPage\") ?? 20);\n\tconst sortBy = searchParams.get(\"sortBy\") ?? SortBy.RecentlyTagged;\n\tconst audioItemsOrderBy: Prisma.Enumerable<Prisma.AudioItemOrderByWithRelationInput> =\n\t\tsortBy === SortBy.RecentlyTagged\n\t\t\t? { updatedAt: \"desc\" }\n\t\t\t: { createdAt: \"desc\" };\n\n\tconst [audioItems, totalAudioItems] = await Promise.all([\n\t\tdb.audioItem.findMany({\n\t\t\ttake: perPage,\n\t\t\tskip: perPage * (page - 1),\n\t\t\tinclude: {\n\t\t\t\ttagsAsSubject: {\n\t\t\t\t\tinclude: {\n\t\t\t\t\t\tobjectAudioItem: true,\n\t\t\t\t\t\tobjectCollection: true,\n\t\t\t\t\t\tobjectInstrument: true,\n\t\t\t\t\t\tobjectPerson: true,\n\t\t\t\t\t\tobjectPlace: true,\n\t\t\t\t\t\tobjectTune: true,\n\t\t\t\t\t\trelationship: true,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tcreatedByUser: true,\n\t\t\t\tupdatedByUser: true,\n\t\t\t\tcomments: {\n\t\t\t\t\tinclude: {\n\t\t\t\t\t\tcreatedByUser: true,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t\twhere: {\n\t\t\t\ttagsAsObject: {\n\t\t\t\t\tsome: {\n\t\t\t\t\t\tsubjectPersonId: person.id,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t\torderBy: audioItemsOrderBy,\n\t\t}),\n\t\tdb.audioItem.count({\n\t\t\twhere: {\n\t\t\t\ttagsAsObject: {\n\t\t\t\t\tsome: {\n\t\t\t\t\t\tsubjectPersonId: person.id,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t}),\n\t]);\n\treturn {\n\t\tperson,\n\t\taudioItems,\n\t\ttotalAudioItems,\n\t};\n}\n\nconst ViewPersonBySlug = () => {\n\tconst { person, audioItems, totalAudioItems } = useLoaderData<LoaderData>();\n\n\tif (!person) {\n\t\treturn <Layout>Can't find this Person.</Layout>;\n\t}\n\n\treturn (\n\t\t<Layout>\n\t\t\t<ViewEntityAndAudioItems\n\t\t\t\tentity={person}\n\t\t\t\taudioItems={audioItems}\n\t\t\t\ttotalAudioItems={totalAudioItems}\n\t\t\t/>\n\t\t</Layout>\n\t);\n};\n\nexport default ViewPersonBySlug;\n", "import { PrismaClient } from \"@prisma/client\";\n\nlet db: PrismaClient;\n\ndeclare global {\n\tvar __db: PrismaClient | undefined;\n}\n\n// this is needed because in development we don't want to restart\n// the server with every change, but we want to make sure we don't\n// create a new connection to the DB with every change either.\nif (process.env.NODE_ENV === \"production\") {\n\tdb = new PrismaClient();\n} else {\n\tif (!global.__db) {\n\t\tglobal.__db = new PrismaClient();\n\t}\n\tdb = global.__db;\n}\n\nexport { db };\n", "import { useQuery } from \"@apollo/client\";\nimport { Link } from \"@remix-run/react\";\nimport { useNavigate } from \"@remix-run/react\";\n\nimport type { Person } from \"~/types\";\n\nimport Layout from \"~/components/Layout\";\nimport Breadcrumb from \"~/components/Breadcrumb\";\nimport LoadingBlock from \"~/components/LoadingBlock\";\n\nconst PersonAbout = () => {\n\tconst navigate = useNavigate();\n\tconst { slug } = navigate.query;\n\n\tconst { name, description, aliases } = data?.person ?? {};\n\n\treturn (\n\t\t<Layout pageTitle={`Trad Archive - ${name} - About`}>\n\t\t\t{isLoading && <LoadingBlock />}\n\t\t\t{error && <div className=\"text-red-500\">{error.message}</div>}\n\t\t\t{data && (\n\t\t\t\t<>\n\t\t\t\t\t<Breadcrumb\n\t\t\t\t\t\titems={[\n\t\t\t\t\t\t\t{ label: \"People\", href: \"/entities/people\" },\n\t\t\t\t\t\t\t{ label: name, href: `/entities/people/${slug}` },\n\t\t\t\t\t\t\t{ label: \"About\" },\n\t\t\t\t\t\t]}\n\t\t\t\t\t\tclassName=\"mb-6\"\n\t\t\t\t\t/>\n\t\t\t\t\t{description && (\n\t\t\t\t\t\t<div className=\"mb-4\">\n\t\t\t\t\t\t\tDescription:\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t<span className=\"text-gray-500 whitespace-pre-wrap\">\n\t\t\t\t\t\t\t\t{description}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t\t{aliases && (\n\t\t\t\t\t\t<div className=\"mb-4\">\n\t\t\t\t\t\t\tAliases:\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t<span className=\"text-gray-500\">{aliases}</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t\t<Link to={`/entities/people/${slug}/edit`}>Edit</Link>\n\t\t\t\t</>\n\t\t\t)}\n\t\t</Layout>\n\t);\n};\n\nexport default PersonAbout;\n", "import { useNavigate } from \"@remix-run/react\";\nimport { useQuery, gql } from \"@apollo/client\";\n\nimport type { Person } from \"types\";\nimport { EntityFragments } from \"~/fragments\";\n\nimport Layout from \"~/components/Layout\";\nimport LoadingBlock from \"~/components/LoadingBlock\";\nimport RequireUser from \"~/components/RequireUser\";\nimport EditPersonForm from \"~/components/EditPersonForm\";\n\nconst PERSON_QUERY = gql`\n\tquery Person($slug: String!) {\n\t\tperson(slug: $slug) {\n\t\t\t...Person\n\t\t}\n\t}\n\t${EntityFragments.person}\n`;\n\nconst EditPerson = () => {\n\tconst navigate = useNavigate();\n\tconst { slug } = navigate.query;\n\n\tconst { data, error } = useQuery(PERSON_QUERY, {\n\t\tvariables: { slug },\n\t\tskip: !slug,\n\t});\n\n\tconst onEditSuccess = (person: Person) => {\n\t\tnavigate(`/entities/people/${person.slug}`);\n\t};\n\n\tlet statusMessage;\n\tif (!data && !error) {\n\t\tstatusMessage = <LoadingBlock />;\n\t} else if (!data && error) {\n\t\tstatusMessage = `Error fetching Person with slug ${slug}`;\n\t}\n\n\tif (statusMessage) {\n\t\treturn <Layout>{statusMessage}</Layout>;\n\t}\n\n\tconst { person } = data;\n\n\treturn (\n\t\t<Layout>\n\t\t\t<RequireUser>\n\t\t\t\t<div className=\"max-w-md\">\n\t\t\t\t\t<h1 className=\"mb-4\">Edit Person: {person.name}</h1>\n\t\t\t\t\t<EditPersonForm person={person} onSuccess={onEditSuccess} />\n\t\t\t\t</div>\n\t\t\t</RequireUser>\n\t\t</Layout>\n\t);\n};\n\nexport default EditPerson;\n", "import { useEffect, useState } from \"react\";\nimport { useMutation, gql } from \"@apollo/client\";\nimport { useNavigate } from \"@remix-run/react\";\nimport type { Person } from \"~/types\";\nimport { EntityFragments } from \"~/fragments\";\n\nconst UPDATE_PERSON_MUTATION = gql`\n\tmutation UpdatePerson($slug: String!, $input: UpdatePersonInput!) {\n\t\tupdatePerson(slug: $slug, input: $input) {\n\t\t\t...Person\n\t\t}\n\t}\n\t${EntityFragments.person}\n`;\ninterface UpdatePersonVariables {\n\tslug: string;\n\tinput: {\n\t\taliases?: string;\n\t\tdescription?: string;\n\t\tfirstName: string;\n\t\tmiddleName?: string;\n\t\tlastName: string;\n\t};\n}\ninterface Props {\n\tperson: Person;\n\tonSuccess?: (person: Person) => void;\n}\nconst EditPersonForm = ({ person, onSuccess }: Props) => {\n\tconst navigate = useNavigate();\n\n\tconst [updatePerson, { loading, error, data }] = useMutation<\n\t\t{ updatePerson: Person },\n\t\tUpdatePersonVariables\n\t>(UPDATE_PERSON_MUTATION, {\n\t\terrorPolicy: \"all\",\n\t});\n\n\tconst [firstName, setFirstName] = useState(person.firstName);\n\tconst [middleName, setMiddleName] = useState(person.middleName);\n\tconst [lastName, setLastName] = useState(person.lastName);\n\tconst [aliases, setAliases] = useState(person.aliases);\n\tconst [description, setDescription] = useState(person.description);\n\n\tconst onUpdatePerson = (event) => {\n\t\tevent.preventDefault();\n\t\tconst input = {\n\t\t\tfirstName,\n\t\t\tmiddleName,\n\t\t\tlastName,\n\t\t\taliases,\n\t\t\tdescription,\n\t\t};\n\t\tupdatePerson({ variables: { slug: person.slug, input } });\n\t};\n\n\tuseEffect(() => {\n\t\tif (data?.updatePerson) {\n\t\t\tif (onSuccess) {\n\t\t\t\treturn onSuccess(data.updatePerson);\n\t\t\t}\n\t\t\twindow.alert(\"Person updated successfully!\");\n\t\t}\n\t}, [data, navigate]);\n\n\treturn (\n\t\t<>\n\t\t\t<div className=\"flex flex-col align-start\">\n\t\t\t\t<form onSubmit={onUpdatePerson}>\n\t\t\t\t\t<input\n\t\t\t\t\t\tplaceholder=\"First name\"\n\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\tclassName=\"mb-2\"\n\t\t\t\t\t\tvalue={firstName}\n\t\t\t\t\t\tonChange={(event) => setFirstName(event.target.value)}\n\t\t\t\t\t/>\n\t\t\t\t\t<input\n\t\t\t\t\t\tplaceholder=\"Middle name (optional)\"\n\t\t\t\t\t\tclassName=\"mb-2\"\n\t\t\t\t\t\tvalue={middleName}\n\t\t\t\t\t\tonChange={(event) => setMiddleName(event.target.value)}\n\t\t\t\t\t/>\n\t\t\t\t\t<input\n\t\t\t\t\t\tplaceholder=\"Last name\"\n\t\t\t\t\t\tclassName=\"mb-2\"\n\t\t\t\t\t\tvalue={lastName}\n\t\t\t\t\t\tonChange={(event) => setLastName(event.target.value)}\n\t\t\t\t\t/>\n\t\t\t\t\t<input\n\t\t\t\t\t\tplaceholder=\"Aliases\"\n\t\t\t\t\t\tclassName=\"mb-2\"\n\t\t\t\t\t\tvalue={aliases}\n\t\t\t\t\t\tonChange={(event) => setAliases(event.target.value)}\n\t\t\t\t\t/>\n\t\t\t\t\t<div className=\"text-sm text-gray-400 mb-2 ml-2\">\n\t\t\t\t\t\tA list of comma-separated aliases for this Person. For example:{\" \"}\n\t\t\t\t\t\t<em>Tony D, The Tradfather, Tony from the County Calamari</em>\n\t\t\t\t\t</div>\n\t\t\t\t\t<textarea\n\t\t\t\t\t\tplaceholder=\"Description\"\n\t\t\t\t\t\tclassName=\"mb-2\"\n\t\t\t\t\t\tvalue={description}\n\t\t\t\t\t\trows={10}\n\t\t\t\t\t\tonChange={(event) => setDescription(event.target.value)}\n\t\t\t\t\t/>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\tclassName=\"btn mb-4 w-auto\"\n\t\t\t\t\t\tdisabled={loading}\n\t\t\t\t\t\tvalue=\"Save\"\n\t\t\t\t\t/>\n\t\t\t\t</form>\n\t\t\t</div>\n\n\t\t\t{error && <div className=\"text-red-600\">{error.message}</div>}\n\t\t</>\n\t);\n};\n\nexport default EditPersonForm;\n", "import { useQuery } from \"@apollo/client\";\nimport { useNavigate } from \"@remix-run/react\";\n\nimport type { Person } from \"~/types\";\nimport TagService from \"~/services/Tag\";\n\nimport Layout from \"~/components/Layout\";\nimport Breadcrumb from \"~/components/Breadcrumb\";\nimport LoadingBlock from \"~/components/LoadingBlock\";\nimport TagWithRelationshipToObject from \"~/components/TagWithRelationshipToObject\";\nimport AddTagButton from \"~/components/AddTagButton\";\nimport EditTagsButton from \"~/components/EditTagsButton\";\n\nconst PersonTags = () => {\n\tconst navigate = useNavigate();\n\tconst { slug } = navigate.query;\n\n\tconst { name, tags } = person ?? {};\n\tconst sortedTags = TagService.sort(tags);\n\n\treturn (\n\t\t<Layout pageTitle={`Trad Archive - ${name} - Tags`}>\n\t\t\t{isLoading && <LoadingBlock />}\n\t\t\t{error && <div className=\"text-red-500\">{error.message}</div>}\n\t\t\t{data && (\n\t\t\t\t<>\n\t\t\t\t\t<Breadcrumb\n\t\t\t\t\t\titems={[\n\t\t\t\t\t\t\t{ label: \"People\", href: \"/entities/people\" },\n\t\t\t\t\t\t\t{ label: name, href: `/entities/people/${slug}` },\n\t\t\t\t\t\t\t{ label: \"Tags\" },\n\t\t\t\t\t\t]}\n\t\t\t\t\t\tclassName=\"mb-6\"\n\t\t\t\t\t/>\n\n\t\t\t\t\t{sortedTags.map((tag, index) => (\n\t\t\t\t\t\t<TagWithRelationshipToObject\n\t\t\t\t\t\t\ttag={tag}\n\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\tclassName=\"mb-4\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t))}\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<AddTagButton entity={person} onSuccess={refetch} />\n\t\t\t\t\t\t{sortedTags.length > 0 && (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<span className=\"text-gray-500 px-2\">/</span>\n\t\t\t\t\t\t\t\t<EditTagsButton entity={person} onSuccess={refetch} />\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</>\n\t\t\t)}\n\t\t</Layout>\n\t);\n};\n\nexport default PersonTags;\n", "import { Link } from \"@remix-run/react\";\n\nimport usePeople from \"~/hooks/usePeople\";\nimport EntityService from \"~/services/Entity\";\n\nimport Layout from \"~/components/Layout\";\nimport LoadingBlock from \"~/components/LoadingBlock\";\n\nconst People = () => {\n\tconst [people, { loading, error }, fetchNextPage] = usePeople({\n\t\tresultsPerPage: 50,\n\t});\n\n\treturn (\n\t\t<Layout pageTitle={`Trad Archive - People`}>\n\t\t\t<h1 className=\"mb-6\">People</h1>\n\t\t\t{!loading && error && (\n\t\t\t\t<div className=\"text-red-600\">Error fetching People</div>\n\t\t\t)}\n\t\t\t{!loading && people?.length === 0 && (\n\t\t\t\t<div className=\"text-gray-500\">No People found</div>\n\t\t\t)}\n\t\t\t{people?.length > 0 && (\n\t\t\t\t<ul>\n\t\t\t\t\t{people.map((person, index) => (\n\t\t\t\t\t\t<li className=\"mb-2\" key={index}>\n\t\t\t\t\t\t\t<Link to={EntityService.makeHrefForView(person)}>\n\t\t\t\t\t\t\t\t{person.name}\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t))}\n\t\t\t\t</ul>\n\t\t\t)}\n\t\t\t<div className=\"mt-6\">\n\t\t\t\t{loading && <LoadingBlock />}\n\t\t\t\t{!loading && people?.length > 0 && (\n\t\t\t\t\t<button className=\"btn-text\" onClick={fetchNextPage}>\n\t\t\t\t\t\tLoad More\n\t\t\t\t\t</button>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</Layout>\n\t);\n};\n\nexport default People;\n", "import { useEffect, useCallback, useState } from \"react\";\nimport type { LazyQueryHookOptions, LazyQueryResult } from \"@apollo/client\";\nimport { useLazyQuery, gql } from \"@apollo/client\";\nimport type { Person } from \"~/types\";\nimport { SortBy } from \"~/types\";\nimport { EntityFragments } from \"~/fragments\";\n\nexport const PEOPLE_QUERY = gql`\n\tquery People($input: PeopleInput!) {\n\t\tpeople(input: $input) {\n\t\t\t...Person\n\t\t}\n\t}\n\t${EntityFragments.person}\n`;\n\ninterface QueryData {\n\tpeople: Person[];\n}\ninterface QueryVariables {\n\tinput: {\n\t\ttake?: number;\n\t\tskip?: number;\n\t\tsortBy?: SortBy;\n\t};\n}\ninterface HookArgs {\n\tsortBy?: SortBy;\n\tresultsPerPage?: number;\n\tqueryOptions?: LazyQueryHookOptions<QueryData, QueryVariables>;\n}\ntype HookReturnValue = [\n\tPerson[] | undefined,\n\tLazyQueryResult<QueryData, {}>,\n\t() => void\n];\n\nconst usePeople = ({\n\tsortBy = SortBy.AToZ,\n\tresultsPerPage = 20,\n\tqueryOptions = {},\n}: HookArgs = {}): HookReturnValue => {\n\tconst [skip, setSkip] = useState(0);\n\tconst [people, setPeople] = useState<Person[] | undefined>();\n\n\t// Reset values when sortBy changes\n\tuseEffect(() => {\n\t\tsetPeople(undefined);\n\t\tsetSkip(0);\n\t}, [sortBy]);\n\n\tconst [getPeople, peopleQuery] = useLazyQuery<QueryData, QueryVariables>(\n\t\tPEOPLE_QUERY,\n\t\t{\n\t\t\tnotifyOnNetworkStatusChange: true,\n\t\t\t...queryOptions,\n\t\t}\n\t);\n\tconst { data, fetchMore } = peopleQuery;\n\tuseEffect(() => {\n\t\t// Avoid bug with Apollo Client where it makes an extra network request\n\t\t// with original variables after `fetchMore` is called, thus leading to\n\t\t// `data` briefly being `undefined`.\n\t\t// https://github.com/apollographql/apollo-client/issues/6916\n\t\tif (data?.people) {\n\t\t\tsetPeople(data.people);\n\t\t}\n\t}, [data]);\n\n\tuseEffect(() => {\n\t\tgetPeople({\n\t\t\tvariables: {\n\t\t\t\tinput: {\n\t\t\t\t\tsortBy,\n\t\t\t\t\ttake: resultsPerPage + skip,\n\t\t\t\t\tskip: 0,\n\t\t\t\t},\n\t\t\t},\n\t\t});\n\t}, [getPeople, resultsPerPage, sortBy, skip]);\n\n\tconst fetchNextPage = useCallback(async () => {\n\t\tconst numToSkip = people?.length ?? 0;\n\t\tawait fetchMore({\n\t\t\tvariables: {\n\t\t\t\tinput: {\n\t\t\t\t\tsortBy,\n\t\t\t\t\ttake: resultsPerPage,\n\t\t\t\t\tskip: numToSkip,\n\t\t\t\t},\n\t\t\t},\n\t\t});\n\t\tsetSkip(numToSkip);\n\t}, [fetchMore, resultsPerPage, people, sortBy]);\n\n\treturn [people, peopleQuery, fetchNextPage];\n};\n\nexport default usePeople;\n", "import { Link } from \"@remix-run/react\";\n\nimport usePlaces from \"~/hooks/usePlaces\";\nimport EntityService from \"~/services/Entity\";\n\nimport Layout from \"~/components/Layout\";\nimport LoadingBlock from \"~/components/LoadingBlock\";\n\nconst Places = () => {\n\tconst [places, { loading, error }, fetchNextPage] = usePlaces({\n\t\tresultsPerPage: 50,\n\t});\n\n\treturn (\n\t\t<Layout pageTitle={`Trad Archive - Places`}>\n\t\t\t<h1 className=\"mb-6\">Places</h1>\n\t\t\t{!loading && error && (\n\t\t\t\t<div className=\"text-red-600\">Error fetching Places</div>\n\t\t\t)}\n\t\t\t{!loading && places?.length === 0 && (\n\t\t\t\t<div className=\"text-gray-500\">No Places found</div>\n\t\t\t)}\n\t\t\t{places?.length > 0 && (\n\t\t\t\t<ul>\n\t\t\t\t\t{places.map((place, index) => (\n\t\t\t\t\t\t<li className=\"mb-2\" key={index}>\n\t\t\t\t\t\t\t<Link to={EntityService.makeHrefForView(place)}>\n\t\t\t\t\t\t\t\t{place.name}\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t))}\n\t\t\t\t</ul>\n\t\t\t)}\n\t\t\t<div className=\"mt-6\">\n\t\t\t\t{loading && <LoadingBlock />}\n\t\t\t\t{!loading && places?.length > 0 && (\n\t\t\t\t\t<button className=\"btn-text\" onClick={fetchNextPage}>\n\t\t\t\t\t\tLoad More\n\t\t\t\t\t</button>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</Layout>\n\t);\n};\n\nexport default Places;\n", "import { useEffect, useCallback, useState } from \"react\";\nimport type { LazyQueryHookOptions, LazyQueryResult } from \"@apollo/client\";\nimport { useLazyQuery, gql } from \"@apollo/client\";\nimport type { Place } from \"~/types\";\nimport { SortBy } from \"~/types\";\nimport { EntityFragments } from \"~/fragments\";\n\nexport const PLACES_QUERY = gql`\n\tquery Places($input: PlacesInput!) {\n\t\tplaces(input: $input) {\n\t\t\t...Place\n\t\t}\n\t}\n\t${EntityFragments.place}\n`;\n\ninterface QueryData {\n\tplaces: Place[];\n}\ninterface QueryVariables {\n\tinput: {\n\t\ttake?: number;\n\t\tskip?: number;\n\t\tsortBy?: SortBy;\n\t};\n}\ninterface HookArgs {\n\tsortBy?: SortBy;\n\tresultsPerPage?: number;\n\tqueryOptions?: LazyQueryHookOptions<QueryData, QueryVariables>;\n}\ntype HookReturnValue = [\n\tPlace[] | undefined,\n\tLazyQueryResult<QueryData, {}>,\n\t() => void\n];\n\nconst usePlaces = ({\n\tsortBy = SortBy.AToZ,\n\tresultsPerPage = 20,\n\tqueryOptions = {},\n}: HookArgs = {}): HookReturnValue => {\n\tconst [skip, setSkip] = useState(0);\n\tconst [places, setPlaces] = useState<Place[] | undefined>();\n\n\t// Reset values when sortBy changes\n\tuseEffect(() => {\n\t\tsetPlaces(undefined);\n\t\tsetSkip(0);\n\t}, [sortBy]);\n\n\tconst [getPlaces, placesQuery] = useLazyQuery<QueryData, QueryVariables>(\n\t\tPLACES_QUERY,\n\t\t{\n\t\t\tnotifyOnNetworkStatusChange: true,\n\t\t\t...queryOptions,\n\t\t}\n\t);\n\tconst { data, fetchMore } = placesQuery;\n\tuseEffect(() => {\n\t\t// Avoid bug with Apollo Client where it makes an extra network request\n\t\t// with original variables after `fetchMore` is called, thus leading to\n\t\t// `data` briefly being `undefined`.\n\t\t// https://github.com/apollographql/apollo-client/issues/6916\n\t\tif (data?.places) {\n\t\t\tsetPlaces(data.places);\n\t\t}\n\t}, [data]);\n\n\tuseEffect(() => {\n\t\tgetPlaces({\n\t\t\tvariables: {\n\t\t\t\tinput: {\n\t\t\t\t\tsortBy,\n\t\t\t\t\ttake: resultsPerPage + skip,\n\t\t\t\t\tskip: 0,\n\t\t\t\t},\n\t\t\t},\n\t\t});\n\t}, [getPlaces, resultsPerPage, sortBy, skip]);\n\n\tconst fetchNextPage = useCallback(async () => {\n\t\tconst numToSkip = places?.length ?? 0;\n\t\tawait fetchMore({\n\t\t\tvariables: {\n\t\t\t\tinput: {\n\t\t\t\t\tsortBy,\n\t\t\t\t\ttake: resultsPerPage,\n\t\t\t\t\tskip: numToSkip,\n\t\t\t\t},\n\t\t\t},\n\t\t});\n\t\tsetSkip(numToSkip);\n\t}, [fetchMore, resultsPerPage, places, sortBy]);\n\n\treturn [places, placesQuery, fetchNextPage];\n};\n\nexport default usePlaces;\n", "import { useNavigate } from \"@remix-run/react\";\nimport { useQuery, gql } from \"@apollo/client\";\n\nimport { EntityFragments } from \"~/fragments\";\nimport type { Tune } from \"~/types\";\n\nimport Layout from \"~/components/Layout\";\nimport LoadingBlock from \"~/components/LoadingBlock\";\nimport ViewEntityAndAudioItems from \"~/components/ViewEntityAndAudioItems\";\n\nexport const TUNE_QUERY = gql`\n\tquery Tune($slug: String!) {\n\t\ttune(slug: $slug) {\n\t\t\t...Tune\n\t\t}\n\t}\n\t${EntityFragments.tune}\n`;\n\nconst ViewTuneBySlug = () => {\n\tconst navigate = useNavigate();\n\tconst { slug } = navigate.query;\n\n\tconst { data: tuneData, error: tuneError } = useQuery<{\n\t\ttune: Tune;\n\t}>(TUNE_QUERY, {\n\t\tvariables: { slug },\n\t\tskip: !slug,\n\t});\n\tconst { tune } = tuneData ?? {};\n\n\tlet statusMessage;\n\tif (!tuneData && !tuneError) {\n\t\tstatusMessage = <LoadingBlock />;\n\t} else if (!tuneData && tuneError) {\n\t\tstatusMessage = `Error fetching Tune with slug ${slug}`;\n\t}\n\n\tif (statusMessage) {\n\t\treturn <Layout>{statusMessage}</Layout>;\n\t}\n\n\treturn (\n\t\t<Layout pageTitle={`Trad Archive - ${tune.name}`}>\n\t\t\t<ViewEntityAndAudioItems entity={tune} />\n\t\t</Layout>\n\t);\n};\n\nexport default ViewTuneBySlug;\n", "import { useQuery } from \"@apollo/client\";\nimport { Link } from \"@remix-run/react\";\nimport { useNavigate } from \"@remix-run/react\";\n\nimport type { Tune } from \"~/types\";\n\nimport Layout from \"~/components/Layout\";\nimport { TUNE_QUERY } from \"~/routes/entities/tunes/[slug]\";\nimport Breadcrumb from \"~/components/Breadcrumb\";\nimport LoadingBlock from \"~/components/LoadingBlock\";\n\nconst TuneAbout = () => {\n\tconst navigate = useNavigate();\n\tconst { slug } = navigate.query;\n\n\tconst { data, error } = useQuery<{\n\t\ttune: Tune;\n\t}>(TUNE_QUERY, {\n\t\tvariables: { slug },\n\t\tskip: !slug,\n\t});\n\tconst isLoading = !data && !error;\n\tconst { name, aliases, theSessionTuneId, type, meter, mode, abc } =\n\t\tdata?.tune ?? {};\n\n\treturn (\n\t\t<Layout pageTitle={`Trad Archive - ${name} - About`}>\n\t\t\t{isLoading && <LoadingBlock />}\n\t\t\t{error && <div className=\"text-red-500\">{error.message}</div>}\n\t\t\t{data && (\n\t\t\t\t<>\n\t\t\t\t\t<Breadcrumb\n\t\t\t\t\t\titems={[\n\t\t\t\t\t\t\t{ label: \"Tunes\", href: \"/entities/tunes\" },\n\t\t\t\t\t\t\t{ label: name, href: `/entities/tunes/${slug}` },\n\t\t\t\t\t\t\t{ label: \"About\" },\n\t\t\t\t\t\t]}\n\t\t\t\t\t\tclassName=\"mb-6\"\n\t\t\t\t\t/>\n\t\t\t\t\t{theSessionTuneId && (\n\t\t\t\t\t\t<div className=\"mb-4\">\n\t\t\t\t\t\t\t<div className=\"italic text-gray-500\">\n\t\t\t\t\t\t\t\tWe source all of our Tune data from a wonderful community\n\t\t\t\t\t\t\t\tproject called The Session.\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\thref={`https://thesession.org/tunes/${theSessionTuneId}`}\n\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\trel=\"noreferrer\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tView or Edit This Tune on The Session{\" \"}\n\t\t\t\t\t\t\t\t<i className=\"material-icons text-sm\">launch</i>\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t\t{aliases && (\n\t\t\t\t\t\t<div className=\"mb-4\">\n\t\t\t\t\t\t\tAliases:\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t<span className=\"text-gray-500\">{aliases}</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t\t{type && (\n\t\t\t\t\t\t<div className=\"mb-4\">\n\t\t\t\t\t\t\tType:\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t<span className=\"text-gray-500\">{type}</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t\t{meter && (\n\t\t\t\t\t\t<div className=\"mb-4\">\n\t\t\t\t\t\t\tMeter:\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t<span className=\"text-gray-500\">{meter}</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t\t{mode && (\n\t\t\t\t\t\t<div className=\"mb-4\">\n\t\t\t\t\t\t\tMode:\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t<span className=\"text-gray-500\">{mode}</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t\t{abc && (\n\t\t\t\t\t\t<div className=\"mb-4\">\n\t\t\t\t\t\t\tABC:\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t<span className=\"text-gray-500\">{abc}</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t\t<Link to={`/entities/tunes/${slug}/edit`}>Edit</Link>\n\t\t\t\t</>\n\t\t\t)}\n\t\t</Layout>\n\t);\n};\n\nexport default TuneAbout;\n", "import { useNavigate } from \"@remix-run/react\";\nimport { useQuery, gql } from \"@apollo/client\";\n\nimport { EntityFragments } from \"~/fragments\";\nimport type { Tune } from \"~/types\";\n\nimport Layout from \"~/components/Layout\";\nimport LoadingBlock from \"~/components/LoadingBlock\";\nimport ViewEntityAndAudioItems from \"~/components/ViewEntityAndAudioItems\";\n\nexport const TUNE_QUERY = gql`\n\tquery Tune($slug: String!) {\n\t\ttune(slug: $slug) {\n\t\t\t...Tune\n\t\t}\n\t}\n\t${EntityFragments.tune}\n`;\n\nconst ViewTuneBySlug = () => {\n\tconst navigate = useNavigate();\n\tconst { slug } = navigate.query;\n\n\tconst { data: tuneData, error: tuneError } = useQuery<{\n\t\ttune: Tune;\n\t}>(TUNE_QUERY, {\n\t\tvariables: { slug },\n\t\tskip: !slug,\n\t});\n\tconst { tune } = tuneData ?? {};\n\n\tlet statusMessage;\n\tif (!tuneData && !tuneError) {\n\t\tstatusMessage = <LoadingBlock />;\n\t} else if (!tuneData && tuneError) {\n\t\tstatusMessage = `Error fetching Tune with slug ${slug}`;\n\t}\n\n\tif (statusMessage) {\n\t\treturn <Layout>{statusMessage}</Layout>;\n\t}\n\n\treturn (\n\t\t<Layout pageTitle={`Trad Archive - ${tune.name}`}>\n\t\t\t<ViewEntityAndAudioItems entity={tune} />\n\t\t</Layout>\n\t);\n};\n\nexport default ViewTuneBySlug;\n", "import { useQuery } from \"@apollo/client\";\nimport { useNavigate } from \"@remix-run/react\";\n\nimport type { Tune } from \"~/types\";\nimport TagService from \"~/services/Tag\";\nimport { TUNE_QUERY } from \"~/routes/entities/tunes/[slug]\";\n\nimport Layout from \"~/components/Layout\";\nimport Breadcrumb from \"~/components/Breadcrumb\";\nimport LoadingBlock from \"~/components/LoadingBlock\";\nimport TagWithRelationshipToObject from \"~/components/TagWithRelationshipToObject\";\nimport AddTagButton from \"~/components/AddTagButton\";\nimport EditTagsButton from \"~/components/EditTagsButton\";\n\nconst TuneTags = () => {\n\tconst navigate = useNavigate();\n\tconst { slug } = navigate.query;\n\n\tconst { data, error, refetch } = useQuery<{\n\t\ttune: Tune;\n\t}>(TUNE_QUERY, {\n\t\tvariables: { slug },\n\t\tskip: !slug,\n\t});\n\tconst isLoading = !data && !error;\n\tconst { tune } = data ?? {};\n\tconst { name, tags } = tune ?? {};\n\tconst sortedTags = TagService.sort(tags);\n\n\treturn (\n\t\t<Layout pageTitle={`Trad Archive - ${name} - Tags`}>\n\t\t\t{isLoading && <LoadingBlock />}\n\t\t\t{error && <div className=\"text-red-500\">{error.message}</div>}\n\t\t\t{data && (\n\t\t\t\t<>\n\t\t\t\t\t<Breadcrumb\n\t\t\t\t\t\titems={[\n\t\t\t\t\t\t\t{ label: \"Tunes\", href: \"/entities/tunes\" },\n\t\t\t\t\t\t\t{ label: name, href: `/entities/tunes/${slug}` },\n\t\t\t\t\t\t\t{ label: \"Tags\" },\n\t\t\t\t\t\t]}\n\t\t\t\t\t\tclassName=\"mb-6\"\n\t\t\t\t\t/>\n\n\t\t\t\t\t{sortedTags.map((tag, index) => (\n\t\t\t\t\t\t<TagWithRelationshipToObject\n\t\t\t\t\t\t\ttag={tag}\n\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\tclassName=\"mb-4\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t))}\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<AddTagButton entity={tune} onSuccess={refetch} />\n\t\t\t\t\t\t{sortedTags.length > 0 && (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<span className=\"text-gray-500 px-2\">/</span>\n\t\t\t\t\t\t\t\t<EditTagsButton entity={tune} onSuccess={refetch} />\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</>\n\t\t\t)}\n\t\t</Layout>\n\t);\n};\n\nexport default TuneTags;\n", "import { Link } from \"@remix-run/react\";\n\nimport useTunes from \"~/hooks/useTunes\";\nimport EntityService from \"~/services/Entity\";\n\nimport Layout from \"~/components/Layout\";\nimport LoadingBlock from \"~/components/LoadingBlock\";\n\nconst Tunes = () => {\n\tconst [tunes, { loading, error }, fetchNextPage] = useTunes({\n\t\tresultsPerPage: 50,\n\t});\n\n\treturn (\n\t\t<Layout pageTitle={`Trad Archive - Tunes`}>\n\t\t\t<h1 className=\"mb-6\">Tunes</h1>\n\t\t\t{!loading && error && (\n\t\t\t\t<div className=\"text-red-600\">Error fetching Tunes</div>\n\t\t\t)}\n\t\t\t{!loading && tunes?.length === 0 && (\n\t\t\t\t<div className=\"text-gray-500\">No Tunes found</div>\n\t\t\t)}\n\t\t\t{tunes?.length > 0 && (\n\t\t\t\t<ul>\n\t\t\t\t\t{tunes.map((tune, index) => (\n\t\t\t\t\t\t<li className=\"mb-2\" key={index}>\n\t\t\t\t\t\t\t<Link to={EntityService.makeHrefForView(tune)}>{tune.name}</Link>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t))}\n\t\t\t\t</ul>\n\t\t\t)}\n\t\t\t<div className=\"mt-6\">\n\t\t\t\t{loading && <LoadingBlock />}\n\t\t\t\t{!loading && tunes?.length > 0 && (\n\t\t\t\t\t<button className=\"btn-text\" onClick={fetchNextPage}>\n\t\t\t\t\t\tLoad More\n\t\t\t\t\t</button>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</Layout>\n\t);\n};\n\nexport default Tunes;\n", "import { useEffect, useCallback, useState } from \"react\";\nimport type { LazyQueryHookOptions, LazyQueryResult } from \"@apollo/client\";\nimport { useLazyQuery, gql } from \"@apollo/client\";\nimport type { Tune } from \"~/types\";\nimport { SortBy } from \"~/types\";\nimport { EntityFragments } from \"~/fragments\";\n\nexport const TUNES_QUERY = gql`\n\tquery Tunes($input: TunesInput!) {\n\t\ttunes(input: $input) {\n\t\t\t...Tune\n\t\t}\n\t}\n\t${EntityFragments.tune}\n`;\n\ninterface QueryData {\n\ttunes: Tune[];\n}\ninterface QueryVariables {\n\tinput: {\n\t\ttake?: number;\n\t\tskip?: number;\n\t\tsortBy?: SortBy;\n\t};\n}\ninterface HookArgs {\n\tsortBy?: SortBy;\n\tresultsPerPage?: number;\n\tqueryOptions?: LazyQueryHookOptions<QueryData, QueryVariables>;\n}\ntype HookReturnValue = [\n\tTune[] | undefined,\n\tLazyQueryResult<QueryData, {}>,\n\t() => void\n];\n\nconst useTunes = ({\n\tsortBy = SortBy.AToZ,\n\tresultsPerPage = 20,\n\tqueryOptions = {},\n}: HookArgs = {}): HookReturnValue => {\n\tconst [skip, setSkip] = useState(0);\n\tconst [tunes, setTunes] = useState<Tune[] | undefined>();\n\n\t// Reset values when sortBy changes\n\tuseEffect(() => {\n\t\tsetTunes(undefined);\n\t\tsetSkip(0);\n\t}, [sortBy]);\n\n\tconst [getTunes, tunesQuery] = useLazyQuery<QueryData, QueryVariables>(\n\t\tTUNES_QUERY,\n\t\t{\n\t\t\tnotifyOnNetworkStatusChange: true,\n\t\t\t...queryOptions,\n\t\t}\n\t);\n\tconst { data, fetchMore } = tunesQuery;\n\tuseEffect(() => {\n\t\t// Avoid bug with Apollo Client where it makes an extra network request\n\t\t// with original variables after `fetchMore` is called, thus leading to\n\t\t// `data` briefly being `undefined`.\n\t\t// https://github.com/apollographql/apollo-client/issues/6916\n\t\tif (data?.tunes) {\n\t\t\tsetTunes(data.tunes);\n\t\t}\n\t}, [data]);\n\n\tuseEffect(() => {\n\t\tgetTunes({\n\t\t\tvariables: {\n\t\t\t\tinput: {\n\t\t\t\t\tsortBy,\n\t\t\t\t\ttake: resultsPerPage + skip,\n\t\t\t\t\tskip: 0,\n\t\t\t\t},\n\t\t\t},\n\t\t});\n\t}, [getTunes, resultsPerPage, sortBy, skip]);\n\n\tconst fetchNextPage = useCallback(async () => {\n\t\tconst numToSkip = tunes?.length ?? 0;\n\t\tawait fetchMore({\n\t\t\tvariables: {\n\t\t\t\tinput: {\n\t\t\t\t\tsortBy,\n\t\t\t\t\ttake: resultsPerPage,\n\t\t\t\t\tskip: numToSkip,\n\t\t\t\t},\n\t\t\t},\n\t\t});\n\t\tsetSkip(numToSkip);\n\t}, [fetchMore, resultsPerPage, tunes, sortBy]);\n\n\treturn [tunes, tunesQuery, fetchNextPage];\n};\n\nexport default useTunes;\n", "import { useNavigate } from \"@remix-run/react\";\n\nimport type { Person } from \"types\";\n\nimport Layout from \"~/components/Layout\";\nimport RequireUser from \"~/components/RequireUser\";\nimport CreatePersonForm from \"~/components/CreatePersonForm\";\n\nconst NewPerson = () => {\n\tconst navigate = useNavigate();\n\n\tconst onCreateSuccess = (person: Person) => {\n\t\tnavigate(`/entities/people/${person.slug}`);\n\t};\n\n\treturn (\n\t\t<Layout>\n\t\t\t<RequireUser>\n\t\t\t\t<div className=\"max-w-md\">\n\t\t\t\t\t<h1 className=\"mb-4\">Create Person</h1>\n\t\t\t\t\t<CreatePersonForm onSuccess={onCreateSuccess} />\n\t\t\t\t</div>\n\t\t\t</RequireUser>\n\t\t</Layout>\n\t);\n};\n\nexport default NewPerson;\n", "import { useNavigate } from \"@remix-run/react\";\n\nimport type { Place } from \"types\";\n\nimport Layout from \"~/components/Layout\";\nimport RequireUser from \"~/components/RequireUser\";\nimport CreatePlaceForm from \"~/components/CreatePlaceForm\";\n\nconst NewPlace = () => {\n\tconst navigate = useNavigate();\n\n\tconst onCreateSuccess = (place: Place) => {\n\t\tnavigate(`/entities/places/${place.slug}`);\n\t};\n\n\treturn (\n\t\t<Layout>\n\t\t\t<RequireUser>\n\t\t\t\t<div className=\"max-w-md\">\n\t\t\t\t\t<h1 className=\"mb-4\">Create Place</h1>\n\t\t\t\t\t<CreatePlaceForm onSuccess={onCreateSuccess} />\n\t\t\t\t</div>\n\t\t\t</RequireUser>\n\t\t</Layout>\n\t);\n};\n\nexport default NewPlace;\n", "import { useState, useEffect } from \"react\";\nimport { gql, useMutation } from \"@apollo/client\";\nimport { useNavigate } from \"@remix-run/react\";\n\nimport type { Entity, Person, VerificationRequest } from \"~/types\";\nimport { EntityType, isPerson, CopyrightPermissionStatus } from \"~/types\";\nimport { VerificationRequestFragments } from \"~/fragments\";\nimport useVerificationRequestsForCurrentUser from \"~/hooks/useVerificationRequestsForCurrentUser\";\n\nimport Layout from \"~/components/Layout\";\nimport RequireUser from \"~/components/RequireUser\";\nimport SearchEntities from \"~/components/SearchEntities\";\nimport LoadingCircle from \"~/components/LoadingCircle\";\nimport Breadcrumb from \"~/components/Breadcrumb\";\n\nconst CREATE_PRESIGNED_UPLOAD_URL_MUTATION = gql`\n\tmutation CreatePresignedUploadUrl($filename: String!) {\n\t\tcreatePresignedUploadUrlForVerificationImage(filename: $filename) {\n\t\t\timageS3Key\n\t\t\tpresignedUploadUrl\n\t\t}\n\t}\n`;\nconst CREATE_VERIFICATION_REQUEST_MUTATION = gql`\n\tmutation CreateVerificationRequest($input: CreateVerificationRequestInput!) {\n\t\tcreateVerificationRequest(input: $input) {\n\t\t\t...VerificationRequest\n\t\t}\n\t}\n\t${VerificationRequestFragments.verificationRequest}\n`;\n\ninterface CreatePresignedUploadUrlMutationData {\n\tcreatePresignedUploadUrlForVerificationImage: {\n\t\timageS3Key: string;\n\t\tpresignedUploadUrl: string;\n\t};\n}\ninterface CreatePresignedUploadUrlMutationVars {\n\tfilename: string;\n}\ninterface CreateVerificationRequestMutationData {\n\tcreateVerificationRequest: VerificationRequest;\n}\ninterface CreateVerificationRequestMutationVars {\n\tinput: {\n\t\tpersonId: string;\n\t\timageS3Key: string;\n\t\tcopyrightPermissionStatus: CopyrightPermissionStatus;\n\t};\n}\n\nconst AccountVerify = () => {\n\tconst navigate = useNavigate();\n\tconst [\n\t\t_,\n\t\t{\n\t\t\trefetch: refetchVerificationRequestsForCurrentUser,\n\t\t\tloading: refetchVerificationRequestsIsLoading,\n\t\t},\n\t] = useVerificationRequestsForCurrentUser();\n\n\tconst [personEntity, setPersonEntity] = useState<Person | undefined>();\n\tconst [imageFile, setImageFile] = useState<File>();\n\tconst [imageFileObjectUrl, setImageFileObjectUrl] = useState<\n\t\tstring | undefined\n\t>();\n\tconst [copyrightPermissionIsGranted, setCopyrightPermissionIsGranted] =\n\t\tuseState(false);\n\tconst [formIsSubmitting, setFormIsSubmitting] = useState(false);\n\n\tconst [createPresignedUploadUrl] = useMutation<\n\t\tCreatePresignedUploadUrlMutationData,\n\t\tCreatePresignedUploadUrlMutationVars\n\t>(CREATE_PRESIGNED_UPLOAD_URL_MUTATION, { errorPolicy: \"all\" });\n\n\tconst [createVerificationRequest] = useMutation<\n\t\tCreateVerificationRequestMutationData,\n\t\tCreateVerificationRequestMutationVars\n\t>(CREATE_VERIFICATION_REQUEST_MUTATION, { errorPolicy: \"all\" });\n\n\tconst onSelectEntity = (entity: Entity) => {\n\t\tif (isPerson(entity)) {\n\t\t\tsetPersonEntity(entity);\n\t\t}\n\t};\n\n\tconst onImageFileChanged = (event: React.ChangeEvent<HTMLInputElement>) => {\n\t\tif (!event.target.files?.length) {\n\t\t\treturn;\n\t\t}\n\t\tconst selectedFile = event.target.files[0];\n\t\tsetImageFile(selectedFile);\n\t\tconst objectUrl = URL.createObjectURL(selectedFile);\n\t\tsetImageFileObjectUrl(objectUrl);\n\t};\n\t// Clear the existing object URL whenever it changes\n\tuseEffect(() => {\n\t\treturn () => {\n\t\t\tif (imageFileObjectUrl) {\n\t\t\t\tURL.revokeObjectURL(imageFileObjectUrl);\n\t\t\t}\n\t\t};\n\t}, [imageFileObjectUrl]);\n\n\tconst requiredFieldsAreSet =\n\t\tpersonEntity && imageFile && copyrightPermissionIsGranted;\n\n\tconst onSubmitClicked = async () => {\n\t\tif (!requiredFieldsAreSet) {\n\t\t\treturn window.alert(\"Please fill out all the fields\");\n\t\t}\n\t\tsetFormIsSubmitting(true);\n\t\ttry {\n\t\t\t// Create a presigned upload URL for the image\n\t\t\tconst response = await createPresignedUploadUrl({\n\t\t\t\tvariables: { filename: imageFile.name },\n\t\t\t});\n\t\t\tconst { imageS3Key, presignedUploadUrl } =\n\t\t\t\tresponse.data.createPresignedUploadUrlForVerificationImage;\n\t\t\t// Upload the image\n\t\t\tawait fetch(presignedUploadUrl, { method: \"PUT\", body: imageFile });\n\t\t\t// Then create the VerificationRequest\n\t\t\tconst { data } = await createVerificationRequest({\n\t\t\t\tvariables: {\n\t\t\t\t\tinput: {\n\t\t\t\t\t\tpersonId: personEntity.id,\n\t\t\t\t\t\timageS3Key,\n\t\t\t\t\t\tcopyrightPermissionStatus:\n\t\t\t\t\t\t\tCopyrightPermissionStatus.FullNonCommercialGranted,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t});\n\t\t\tif (!data.createVerificationRequest) {\n\t\t\t\tthrow new Error();\n\t\t\t}\n\t\t\t// Refetch the Verification Requests for current user and navigate to\n\t\t\t// their Account page\n\t\t\tawait refetchVerificationRequestsForCurrentUser();\n\t\t\tsetFormIsSubmitting(false);\n\t\t\tnavigate(\"/account\");\n\t\t} catch {\n\t\t\tsetFormIsSubmitting(false);\n\t\t\twindow.alert(\n\t\t\t\t\"Error submitting verification request. Please reload and try again.\"\n\t\t\t);\n\t\t}\n\t};\n\n\tconst shouldPromptToChoosePerson =\n\t\t!personEntity && imageFile && copyrightPermissionIsGranted;\n\n\treturn (\n\t\t<Layout>\n\t\t\t<RequireUser>\n\t\t\t\t<Breadcrumb\n\t\t\t\t\titems={[\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: \"Account\",\n\t\t\t\t\t\t\thref: \"/account\",\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{ label: \"Verify Your Account\" },\n\t\t\t\t\t]}\n\t\t\t\t\tclassName=\"mb-4\"\n\t\t\t\t/>\n\t\t\t\t<div className=\"mb-8 text-gray-500\">\n\t\t\t\t\tThis enables you to link your user account with a Person tag. For\n\t\t\t\t\texample, let's say you are Michael Coleman; you can link your user\n\t\t\t\t\taccount to the \"Michael Coleman\" tag on the site. You'll get a\n\t\t\t\t\tverified badge next to your username, and you'll be able to\n\t\t\t\t\timmediately take down any content that you're tagged in, if you want\n\t\t\t\t\tto. Verification is free and will be done by ITMA staff.\n\t\t\t\t</div>\n\n\t\t\t\t{!personEntity ? (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<div className=\"mb-2\">\n\t\t\t\t\t\t\tSearch for your name and click on the Person if found. If it\n\t\t\t\t\t\t\tdoesn't exist yet, go ahead and create a new one.\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"flex flex-col max-w-xs\">\n\t\t\t\t\t\t\t<SearchEntities\n\t\t\t\t\t\t\t\tclassName=\"mb-8\"\n\t\t\t\t\t\t\t\tentityTypes={[EntityType.Person]}\n\t\t\t\t\t\t\t\ttake={15}\n\t\t\t\t\t\t\t\tonSelect={onSelectEntity}\n\t\t\t\t\t\t\t\tonNewEntityCreated={onSelectEntity}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</>\n\t\t\t\t) : (\n\t\t\t\t\t<div className=\"mb-8\">\n\t\t\t\t\t\t<div className=\"mb-2 font-bold\">You have selected:</div>\n\t\t\t\t\t\t{personEntity.firstName} {personEntity.lastName}\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclassName=\"btn-text ml-2\"\n\t\t\t\t\t\t\tonClick={() => setPersonEntity(undefined)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tClear\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\n\t\t\t\t<div className=\"mb-8\">\n\t\t\t\t\t<div className=\"mb-2\">\n\t\t\t\t\t\tPlease attach a photo proving your identity (utility bill, ID, etc;\n\t\t\t\t\t\twill be deleted after verification):\n\t\t\t\t\t</div>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"file\"\n\t\t\t\t\t\taccept=\".png,.jpeg,.jpg\"\n\t\t\t\t\t\tonChange={onImageFileChanged}\n\t\t\t\t\t\tclassName=\"block\"\n\t\t\t\t\t/>\n\t\t\t\t\t{imageFileObjectUrl && (\n\t\t\t\t\t\t<img src={imageFileObjectUrl} className=\"h-48 mt-4\" />\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"mb-2\">\n\t\t\t\t\tDo you give the Irish Traditional Music Archive (ITMA) permission to\n\t\t\t\t\tmake recordings of you publicly available for non-commercial use,\n\t\t\t\t\tgiven that you can take them down at any time?\n\t\t\t\t</div>\n\t\t\t\t<div className=\"mb-8 flex flex-row items-center justify-start\">\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\tid=\"copyright-permission\"\n\t\t\t\t\t\tchecked={copyrightPermissionIsGranted}\n\t\t\t\t\t\tonChange={(event) =>\n\t\t\t\t\t\t\tsetCopyrightPermissionIsGranted(event.target.checked)\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t\t<label htmlFor=\"copyright-permission\" className=\"ml-2\">\n\t\t\t\t\t\tYes, I give permission\n\t\t\t\t\t</label>\n\t\t\t\t</div>\n\n\t\t\t\t{refetchVerificationRequestsIsLoading || formIsSubmitting ? (\n\t\t\t\t\t<LoadingCircle />\n\t\t\t\t) : (\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName=\"btn\"\n\t\t\t\t\t\tonClick={onSubmitClicked}\n\t\t\t\t\t\tdisabled={!requiredFieldsAreSet}\n\t\t\t\t\t>\n\t\t\t\t\t\tSubmit\n\t\t\t\t\t</button>\n\t\t\t\t)}\n\n\t\t\t\t{shouldPromptToChoosePerson && (\n\t\t\t\t\t<div className=\"text-red-600 mt-6\">Please select a Person above</div>\n\t\t\t\t)}\n\t\t\t</RequireUser>\n\t\t</Layout>\n\t);\n};\n\nexport default AccountVerify;\n", "import { useEffect } from \"react\";\nimport type { LazyQueryResult } from \"@apollo/client\";\nimport { gql, useLazyQuery } from \"@apollo/client\";\n\nimport { VerificationRequestFragments } from \"~/fragments\";\nimport type { VerificationRequest } from \"~/types\";\n\nconst VERIFICATION_REQUESTS_FOR_CURRENT_USER_QUERY = gql`\n\tquery VerificationRequestsForCurrentUser {\n\t\tverificationRequestsForCurrentUser {\n\t\t\t...VerificationRequest\n\t\t}\n\t}\n\t${VerificationRequestFragments.verificationRequest}\n`;\n\ninterface QueryData {\n\tverificationRequestsForCurrentUser: VerificationRequest[];\n}\n\nconst useVerificationRequestsForCurrentUser = (): [\n\tVerificationRequest[] | undefined,\n\tLazyQueryResult<QueryData, {}>\n] => {\n\tconst [makeQuery, query] = useLazyQuery<QueryData>(\n\t\tVERIFICATION_REQUESTS_FOR_CURRENT_USER_QUERY\n\t);\n\n\tuseEffect(() => {\n\t\tmakeQuery();\n\t}, [makeQuery]);\n\n\tconst verificationRequests = query?.data?.verificationRequestsForCurrentUser;\n\n\treturn [verificationRequests, query];\n};\n\nexport default useVerificationRequestsForCurrentUser;\n", "import { useMemo } from \"react\";\nimport { Link } from \"@remix-run/react\";\n\nimport {\n\tisApprovedVerificationRequest,\n\tisPendingVerificationRequest,\n} from \"~/types\";\nimport EntityService from \"~/services/Entity\";\nimport useVerificationRequestsForCurrentUser from \"~/hooks/useVerificationRequestsForCurrentUser\";\n\nimport Layout from \"~/components/Layout\";\nimport RequireUser from \"~/components/RequireUser\";\n\nconst AccountHome = () => {\n\tconst [verificationRequests = [], { loading, data, error }] =\n\t\tuseVerificationRequestsForCurrentUser();\n\n\tconst verifyYourselfMarkup = useMemo(() => {\n\t\tif (!loading && error) {\n\t\t\treturn (\n\t\t\t\t<span className=\"text-red-600\">\n\t\t\t\t\tError fetching verification status. Please reload.\n\t\t\t\t</span>\n\t\t\t);\n\t\t} else if (loading) {\n\t\t\treturn (\n\t\t\t\t<span className=\"text-gray-500\">Loading verification status...</span>\n\t\t\t);\n\t\t}\n\t\tconst approvedRequest = verificationRequests.find((request) =>\n\t\t\tisApprovedVerificationRequest(request)\n\t\t);\n\t\tif (approvedRequest) {\n\t\t\treturn (\n\t\t\t\t<span className=\"flex flex-row items-center\">\n\t\t\t\t\t<i className=\"material-icons text-base\">verified</i>\n\t\t\t\t\t<span className=\"ml-2 mr-1\">You are verified as</span>\n\t\t\t\t\t<Link to={EntityService.makeHrefForView(approvedRequest.person)}>\n\t\t\t\t\t\t{approvedRequest.person.name}\n\t\t\t\t\t</Link>\n\t\t\t\t</span>\n\t\t\t);\n\t\t}\n\t\tconst pendingRequest = verificationRequests.find((request) =>\n\t\t\tisPendingVerificationRequest(request)\n\t\t);\n\t\tif (pendingRequest) {\n\t\t\treturn (\n\t\t\t\t<span>\n\t\t\t\t\tYour request to verify as {pendingRequest.person.name} is pending\n\t\t\t\t</span>\n\t\t\t);\n\t\t}\n\t\treturn <Link to=\"/account/verify\">Verify Your Account</Link>;\n\t}, [data, loading, error, verificationRequests]);\n\n\treturn (\n\t\t<Layout>\n\t\t\t<RequireUser>\n\t\t\t\t<h1 className=\"mb-4\">Account</h1>\n\t\t\t\t{verifyYourselfMarkup}\n\t\t\t\t<Link to=\"/account/submissions\">\n\t\t\t\t\t<a className=\"block mt-2\">\n\t\t\t\t\t\tSubmit Audio, Video, Images, or Documents to ITMA\n\t\t\t\t\t</a>\n\t\t\t\t</Link>\n\t\t\t\t<Link to=\"/logout\">\n\t\t\t\t\t<a className=\"block mt-2\">Log Out</a>\n\t\t\t\t</Link>\n\t\t\t</RequireUser>\n\t\t</Layout>\n\t);\n};\n\nexport default AccountHome;\n", "import { Link } from \"@remix-run/react\";\nimport Layout from \"~/components/Layout\";\nimport RequireAdmin from \"~/components/RequireAdmin\";\n\nconst AdminHome = () => {\n\treturn (\n\t\t<Layout>\n\t\t\t<RequireAdmin>\n\t\t\t\t<>\n\t\t\t\t\t<h1 className=\"mb-4\">Admin</h1>\n\t\t\t\t\t<Link to=\"/admin/verification-requests\">\n\t\t\t\t\t\t<a className=\"block mb-2\">Manage Verification Requests</a>\n\t\t\t\t\t</Link>\n\t\t\t\t\t<Link to=\"/admin/takedown-requests\">\n\t\t\t\t\t\t<a className=\"block mb-2\">Manage Takedown Requests</a>\n\t\t\t\t\t</Link>\n\t\t\t\t\t<Link to=\"/admin/submissions\">\n\t\t\t\t\t\t<a className=\"block mb-6\">Manage Submissions</a>\n\t\t\t\t\t</Link>\n\n\t\t\t\t\t<Link to=\"/entities/audio-items/new\">\n\t\t\t\t\t\t<a className=\"block mb-2\">Create Audio Item</a>\n\t\t\t\t\t</Link>\n\t\t\t\t\t<Link to=\"/entities/people/new\">\n\t\t\t\t\t\t<a className=\"block mb-2\">Create Person</a>\n\t\t\t\t\t</Link>\n\t\t\t\t\t<Link to=\"/entities/instruments/new\">\n\t\t\t\t\t\t<a className=\"block mb-2\">Create Instrument</a>\n\t\t\t\t\t</Link>\n\t\t\t\t\t<Link to=\"/entities/places/new\">\n\t\t\t\t\t\t<a className=\"block mb-2\">Create Place</a>\n\t\t\t\t\t</Link>\n\t\t\t\t\t<Link to=\"/entities/collections/new\">\n\t\t\t\t\t\t<a className=\"block mb-2\">Create Collection</a>\n\t\t\t\t\t</Link>\n\t\t\t\t</>\n\t\t\t</RequireAdmin>\n\t\t</Layout>\n\t);\n};\n\nexport default AdminHome;\n", "import { Link } from \"@remix-run/react\";\n\nimport useSavedItemsForUser from \"~/hooks/useSavedItemsForUser\";\nimport useFilters from \"~/hooks/useFilters\";\nimport { ViewAs } from \"~/types\";\n\nimport Layout from \"~/components/Layout\";\nimport RequireUser from \"~/components/RequireUser\";\nimport LoadingBlock from \"~/components/LoadingBlock\";\nimport AudioItem from \"~/components/AudioItem\";\n\nconst SavedItems = () => {\n\tconst [savedItems, { loading, error }] = useSavedItemsForUser();\n\n\tconst { Filters, filtersProps, viewAs } = useFilters({\n\t\tdefaultViewAs: ViewAs.List,\n\t});\n\n\treturn (\n\t\t<Layout>\n\t\t\t<RequireUser>\n\t\t\t\t<div className=\"flex flex-col\">\n\t\t\t\t\t<h1 className=\"mb-6\">Saved Items</h1>\n\n\t\t\t\t\t{savedItems?.length > 0 && (\n\t\t\t\t\t\t<Filters {...filtersProps} className=\"mb-6\" />\n\t\t\t\t\t)}\n\n\t\t\t\t\t{error && (\n\t\t\t\t\t\t<div className=\"text-red-600 mb-4\">Could not fetch saved items</div>\n\t\t\t\t\t)}\n\t\t\t\t\t{loading && !savedItems && (\n\t\t\t\t\t\t<div className=\"mb-4\">\n\t\t\t\t\t\t\t<LoadingBlock />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t\t{!loading && savedItems?.length === 0 && (\n\t\t\t\t\t\t<div className=\"text-gray-500\">\n\t\t\t\t\t\t\tNothing saved yet - try browsing some{\" \"}\n\t\t\t\t\t\t\t<Link to=\"/\">Audio Items</Link>!\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t\t{savedItems?.map(({ audioItem }, index) => (\n\t\t\t\t\t\t<AudioItem\n\t\t\t\t\t\t\tviewAs={viewAs}\n\t\t\t\t\t\t\taudioItem={audioItem}\n\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\tclassName={viewAs === ViewAs.List ? \"mb-4\" : \"mb-6\"}\n\t\t\t\t\t\t/>\n\t\t\t\t\t))}\n\t\t\t\t</div>\n\t\t\t</RequireUser>\n\t\t</Layout>\n\t);\n};\n\nexport default SavedItems;\n", "import { useEffect } from \"react\";\nimport { useNavigate } from \"@remix-run/react\";\nimport { Link } from \"@remix-run/react\";\nimport { useMutation, gql } from \"@apollo/client\";\n\nimport { UserFragments } from \"~/fragments\";\nimport type { User } from \"~/types\";\nimport useCurrentUser from \"~/hooks/useCurrentUser\";\n\nimport Layout from \"~/components/Layout\";\nimport LoadingCircle from \"~/components/LoadingCircle\";\n\nconst AUTHENTICATE_WITH_AUTO_LOGIN_TOKEN = gql`\n\tmutation AuthenticateWithAutoLoginToken(\n\t\t$input: AuthenticateWithAutoLoginTokenInput!\n\t) {\n\t\tauthenticateWithAutoLoginToken(input: $input) {\n\t\t\t...CurrentUser\n\t\t}\n\t}\n\t${UserFragments.currentUser}\n`;\n\ninterface MutationData {\n\tauthenticateWithAutoLoginToken: User;\n}\ninterface MutationVars {\n\tinput: {\n\t\ttokenUnhashed: string;\n\t\tuserEmail: string;\n\t};\n}\n\nconst AutoLogin = () => {\n\tconst navigate = useNavigate();\n\tconst { tokenUnhashed, userEmail, redirectTo } = navigate.query;\n\n\tconst [\n\t\tcurrentUser,\n\t\t{ loading: currentUserLoading, refetch: refetchCurrentUser },\n\t] = useCurrentUser();\n\n\tconst [\n\t\tauthenticateWithAutoLoginToken,\n\t\t{ loading: authenticateLoading, data, error },\n\t] = useMutation<MutationData, MutationVars>(\n\t\tAUTHENTICATE_WITH_AUTO_LOGIN_TOKEN\n\t);\n\n\t// When a token and email are present in query params, attempt to authenticate\n\tuseEffect(() => {\n\t\tif (typeof tokenUnhashed !== \"string\" || typeof userEmail !== \"string\") {\n\t\t\treturn;\n\t\t}\n\t\tconst authenticate = async () => {\n\t\t\ttry {\n\t\t\t\tawait authenticateWithAutoLoginToken({\n\t\t\t\t\tvariables: { input: { tokenUnhashed, userEmail } },\n\t\t\t\t});\n\t\t\t} catch {\n\t\t\t\t//\n\t\t\t}\n\t\t};\n\t\tauthenticate();\n\t}, [tokenUnhashed, authenticateWithAutoLoginToken]);\n\n\t// Once auto-login token is authenticated, a cookie will now be set with JWT.\n\t// Refetch current user with that cookie.\n\tuseEffect(() => {\n\t\tif (data?.authenticateWithAutoLoginToken) {\n\t\t\trefetchCurrentUser();\n\t\t}\n\t}, [data, refetchCurrentUser]);\n\n\t// If the current user is logged in or there is no token/email set, redirect.\n\tuseEffect(() => {\n\t\tif (currentUser) {\n\t\t\tnavigate(typeof redirectTo === \"string\" ? redirectTo : \"/\");\n\t\t}\n\t}, [currentUser]);\n\n\t// Return a loading indicator while the redirect is happening\n\tif (currentUser) {\n\t\treturn (\n\t\t\t<Layout>\n\t\t\t\t<div className=\"flex flex-row items-center justify-center\">\n\t\t\t\t\t<LoadingCircle className=\"mr-4\" />\n\t\t\t\t\t<span className=\"text-gray-500\">Loading...</span>\n\t\t\t\t</div>\n\t\t\t</Layout>\n\t\t);\n\t}\n\n\tif (error) {\n\t\treturn (\n\t\t\t<Layout>\n\t\t\t\t<div className=\"text-red-600 mb-4\">\n\t\t\t\t\tError: {error?.graphQLErrors?.map(({ message }) => message)}\n\t\t\t\t</div>\n\t\t\t\t<Link\n\t\t\t\t\thref={{\n\t\t\t\t\t\tpathname: \"/login\",\n\t\t\t\t\t\tquery: redirectTo ? { redirectTo } : undefined,\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\tSend a new login link\n\t\t\t\t</Link>\n\t\t\t</Layout>\n\t\t);\n\t}\n\n\tif (authenticateLoading || currentUserLoading) {\n\t\treturn (\n\t\t\t<Layout>\n\t\t\t\t<div className=\"flex flex-row items-center justify-center\">\n\t\t\t\t\t<LoadingCircle className=\"mr-4\" />\n\t\t\t\t\t<span className=\"text-gray-500\">Loading...</span>\n\t\t\t\t</div>\n\t\t\t</Layout>\n\t\t);\n\t}\n\n\treturn (\n\t\t<Layout>\n\t\t\t<h1 className=\"mb-3\">Check your email</h1>\n\t\t\t<div className=\"flex flex-row mb-6\">\n\t\t\t\t<i className=\"material-icons mr-2\">mail_outline</i>\n\t\t\t\tWe've emailed a magic link to you. Click it to log in.\n\t\t\t</div>\n\t\t\t<div className=\"text-gray-500\">\n\t\t\t\tDidn't get it? Check your spam folder or{\" \"}\n\t\t\t\t<Link\n\t\t\t\t\thref={{\n\t\t\t\t\t\tpathname: \"/login\",\n\t\t\t\t\t\tquery: redirectTo ? { redirectTo } : undefined,\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\tsend a new one\n\t\t\t\t</Link>\n\t\t\t</div>\n\t\t</Layout>\n\t);\n};\n\nexport default AutoLogin;\n", "import { useMemo } from \"react\";\nimport { useNavigate } from \"@remix-run/react\";\nimport { Link } from \"@remix-run/react\";\nimport { useQuery, gql } from \"@apollo/client\";\n\nimport { UserFragments } from \"~/fragments\";\nimport type { User } from \"~/types\";\nimport { ViewAs } from \"~/types\";\nimport DateTimeService from \"~/services/DateTime\";\nimport EntityService from \"~/services/Entity\";\nimport useAudioItemsCreatedByUser from \"~/hooks/useAudioItemsCreatedByUser\";\nimport useFilters from \"~/hooks/useFilters\";\n\nimport Layout from \"~/components/Layout\";\nimport Breadcrumb from \"~/components/Breadcrumb\";\nimport LoadingBlock from \"~/components/LoadingBlock\";\nimport AudioItem from \"~/components/AudioItem\";\n\nconst USER_QUERY = gql`\n\tquery User($id: String!) {\n\t\tuser(id: $id) {\n\t\t\t...User\n\t\t}\n\t}\n\t${UserFragments.user}\n`;\n\nconst ViewUserById = () => {\n\tconst navigate = useNavigate();\n\tconst { id } = navigate.query;\n\n\tconst { data: userData, error: userError } = useQuery<{ user: User }>(\n\t\tUSER_QUERY,\n\t\t{\n\t\t\tvariables: { id },\n\t\t\tskip: !id,\n\t\t}\n\t);\n\tconst { username, createdAt, verifiedPerson } = userData?.user ?? {};\n\n\tconst [\n\t\taudioItems = [],\n\t\t{ loading: audioItemsLoading, error: audioItemsError },\n\t] = useAudioItemsCreatedByUser(userData?.user);\n\n\tconst { Filters, filtersProps, viewAs } = useFilters({\n\t\tdefaultViewAs: ViewAs.Cards,\n\t});\n\n\tconst aboutMarkup = useMemo(\n\t\t() => (\n\t\t\t<>\n\t\t\t\t{verifiedPerson && (\n\t\t\t\t\t<div className=\"mb-4\">\n\t\t\t\t\t\t<div className=\"flex flex-row items-center\">\n\t\t\t\t\t\t\t<i className=\"material-icons text-base mr-2\">verified</i>\n\t\t\t\t\t\t\tVerified As Person:\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<Link to={EntityService.makeHrefForView(verifiedPerson)}>\n\t\t\t\t\t\t\t{verifiedPerson.name}\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\n\t\t\t\t<div className=\"mb-4\">\n\t\t\t\t\tAccount Created:\n\t\t\t\t\t<br />\n\t\t\t\t\t<span className=\"text-gray-500\">\n\t\t\t\t\t\t{DateTimeService.formatDateYear(createdAt)}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t</>\n\t\t),\n\t\t[verifiedPerson, createdAt]\n\t);\n\n\tlet statusMessage;\n\tif (!userData && !userError) {\n\t\tstatusMessage = <LoadingBlock />;\n\t} else if (!userData && userError) {\n\t\tstatusMessage = `Error fetching User with id ${id}`;\n\t}\n\n\tif (statusMessage) {\n\t\treturn <Layout>{statusMessage}</Layout>;\n\t}\n\n\tconst noAudioItemsFound =\n\t\t!audioItemsLoading && !audioItemsError && audioItems.length === 0;\n\n\treturn (\n\t\t<Layout pageTitle={`Trad Archive - ${username}`}>\n\t\t\t<div className=\"flex flex-col-reverse md:flex-row\">\n\t\t\t\t<div className=\"flex flex-1 flex-col pb-8\">\n\t\t\t\t\t<Breadcrumb\n\t\t\t\t\t\tclassName=\"mb-6\"\n\t\t\t\t\t\titems={[{ label: \"Users\" }, { label: username }]}\n\t\t\t\t\t/>\n\n\t\t\t\t\t<div className=\"flex-col mb-8 md:hidden\">{aboutMarkup}</div>\n\n\t\t\t\t\t{audioItemsLoading && <LoadingBlock />}\n\t\t\t\t\t{audioItemsError && (\n\t\t\t\t\t\t<div className=\"text-red-600\">Error fetching Audio Items</div>\n\t\t\t\t\t)}\n\t\t\t\t\t{noAudioItemsFound && (\n\t\t\t\t\t\t<div className=\"text-gray-500\">\n\t\t\t\t\t\t\t{username} hasn't added any Audio Items yet\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t\t{audioItems.length > 0 && (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<Filters {...filtersProps} className=\"mb-6\" />\n\t\t\t\t\t\t\t{audioItems.map((audioItem, index) => (\n\t\t\t\t\t\t\t\t<AudioItem\n\t\t\t\t\t\t\t\t\tviewAs={viewAs}\n\t\t\t\t\t\t\t\t\taudioItem={audioItem}\n\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\tclassName=\"mb-8\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"hidden md:flex flex-col items-start pb-8 md:ml-8 md:pl-8 md:w-1/4 md:border-l md:border-gray-300\">\n\t\t\t\t\t<h3 className=\"mb-4\">About</h3>\n\t\t\t\t\t{aboutMarkup}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</Layout>\n\t);\n};\n\nexport default ViewUserById;\n", "import { useEffect } from \"react\";\nimport { useLazyQuery, gql, LazyQueryResult } from \"@apollo/client\";\nimport { User, AudioItem } from \"types\";\nimport { EntityFragments } from \"~/fragments\";\n\nexport const AUDIO_ITEMS_CREATED_BY_USER_QUERY = gql`\n\tquery AudioItemsCreatedByUser($input: AudioItemsCreatedByUserInput!) {\n\t\taudioItemsCreatedByUser(input: $input) {\n\t\t\t...AudioItem\n\t\t}\n\t}\n\t${EntityFragments.audioItem}\n`;\n\ninterface QueryData {\n\taudioItemsCreatedByUser?: AudioItem[];\n}\ninterface QueryVariables {\n\tinput: {\n\t\tuserId: string;\n\t\ttake?: number;\n\t\tskip?: number;\n\t};\n}\n\nconst useAudioItemsCreatedByUser = (\n\tuser?: User\n): [AudioItem[] | undefined, LazyQueryResult<QueryData, QueryVariables>] => {\n\tconst [makeQuery, query] = useLazyQuery<QueryData, QueryVariables>(\n\t\tAUDIO_ITEMS_CREATED_BY_USER_QUERY,\n\t\t{\n\t\t\tvariables: {\n\t\t\t\tinput: {\n\t\t\t\t\tuserId: user?.id,\n\t\t\t\t},\n\t\t\t},\n\t\t}\n\t);\n\n\tuseEffect(() => {\n\t\tif (user) {\n\t\t\tmakeQuery();\n\t\t}\n\t}, [makeQuery, user]);\n\n\tconst audioItems = query.data?.audioItemsCreatedByUser;\n\n\treturn [audioItems, query];\n};\n\nexport default useAudioItemsCreatedByUser;\n", "import { useEffect } from \"react\";\nimport { useNavigate } from \"@remix-run/react\";\nimport { useMutation, gql } from \"@apollo/client\";\nimport Layout from \"~/components/Layout\";\n\nconst LOG_OUT_MUTATION = gql`\n\tmutation LogOut {\n\t\tlogOut\n\t}\n`;\n\nconst LogOut = () => {\n\tconst navigate = useNavigate();\n\n\tconst [logOut, { data: logOutData }] = useMutation(LOG_OUT_MUTATION, {\n\t\terrorPolicy: \"all\",\n\t});\n\n\tuseEffect(() => {\n\t\tlogOut();\n\t}, [logOut]);\n\n\tuseEffect(() => {\n\t\tif (logOutData?.logOut) {\n\t\t\twindow.location.href = window.location.origin;\n\t\t}\n\t}, [logOutData]);\n\n\treturn (\n\t\t<Layout>\n\t\t\t<span className=\"text-gray-500\">Logging out...</span>\n\t\t</Layout>\n\t);\n};\n\nexport default LogOut;\n", "import { useEffect, useState } from \"react\";\nimport { useNavigate } from \"@remix-run/react\";\nimport { Link } from \"@remix-run/react\";\nimport { useMutation, gql } from \"@apollo/client\";\n\nimport useCurrentUser from \"~/hooks/useCurrentUser\";\nimport Layout from \"~/components/Layout\";\nimport type { User } from \"~/types\";\nimport { UserFragments } from \"~/fragments\";\n\nconst SIGN_UP_MUTATION = gql`\n\tmutation SignUp($input: SignUpInput!) {\n\t\tsignUp(input: $input) {\n\t\t\t...CurrentUser\n\t\t}\n\t}\n\t${UserFragments.currentUser}\n`;\ninterface MutationData {\n\tsignUp: User;\n}\n\nconst SignUp = () => {\n\tconst navigate = useNavigate();\n\tconst { redirectTo } = navigate.query;\n\tconst [currentUser] = useCurrentUser();\n\n\tconst [email, setEmail] = useState(\"\");\n\tconst [username, setUsername] = useState(\"\");\n\tconst [validationError, setValidationError] = useState(\"\");\n\n\tconst [signUp, { loading, data, error }] = useMutation<MutationData>(\n\t\tSIGN_UP_MUTATION,\n\t\t{\n\t\t\terrorPolicy: \"all\",\n\t\t}\n\t);\n\tconst onSignUp = (event) => {\n\t\tevent.preventDefault();\n\t\tsetValidationError(\"\");\n\t\tconst cleanedEmail = email.trim().toLowerCase();\n\t\tsignUp({\n\t\t\tvariables: {\n\t\t\t\tinput: { email: cleanedEmail, username, redirectTo },\n\t\t\t},\n\t\t});\n\t};\n\n\tuseEffect(() => {\n\t\tif (data?.signUp) {\n\t\t\tnavigate(\"/auto-login\");\n\t\t}\n\t}, [data, navigate]);\n\n\tif (currentUser) {\n\t\tnavigate(typeof redirectTo === \"string\" ? redirectTo : \"/\");\n\t}\n\n\tconst logInLinkQueryParams = redirectTo ? { redirectTo } : undefined;\n\n\treturn (\n\t\t<Layout>\n\t\t\t<h1 className=\"mb-6\">\n\t\t\t\t{redirectTo ? \"Create an account to continue\" : \"Create your account\"}\n\t\t\t</h1>\n\t\t\t<div className=\"flex flex-col align-start max-w-xs\">\n\t\t\t\t<form onSubmit={onSignUp}>\n\t\t\t\t\t<input\n\t\t\t\t\t\tplaceholder=\"Your email\"\n\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\tclassName=\"mb-2\"\n\t\t\t\t\t\tvalue={email}\n\t\t\t\t\t\tonChange={(event) => setEmail(event.target.value)}\n\t\t\t\t\t/>\n\t\t\t\t\t<input\n\t\t\t\t\t\tplaceholder=\"Your full name\"\n\t\t\t\t\t\tclassName=\"mb-4\"\n\t\t\t\t\t\tvalue={username}\n\t\t\t\t\t\tonChange={(event) => setUsername(event.target.value)}\n\t\t\t\t\t/>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\tclassName=\"btn mb-4 w-auto\"\n\t\t\t\t\t\tdisabled={loading}\n\t\t\t\t\t\tvalue=\"Sign Up\"\n\t\t\t\t\t/>\n\t\t\t\t</form>\n\n\t\t\t\t{validationError && (\n\t\t\t\t\t<div className=\"text-red-600 mb-4\">{validationError}</div>\n\t\t\t\t)}\n\t\t\t\t{error && <div className=\"text-red-600 mb-4\">{error.message}</div>}\n\n\t\t\t\t<div>\n\t\t\t\t\tAlready have an account?{\" \"}\n\t\t\t\t\t<Link to={{ pathname: \"/login\", query: logInLinkQueryParams }}>\n\t\t\t\t\t\tLog in\n\t\t\t\t\t</Link>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</Layout>\n\t);\n};\n\nexport default SignUp;\n", "import { useEffect, useCallback, useState } from \"react\";\nimport { Link, useLoaderData, useLocation } from \"@remix-run/react\";\nimport { type DataFunctionArgs } from \"@remix-run/node\";\nimport { type Prisma } from \"@prisma/client\";\n\nimport type {\n\tCollectionWithRelations,\n\tCommentWithRelations,\n\tAudioItemWithRelations,\n} from \"~/types\";\nimport { SortBy, ViewAs } from \"~/types\";\nimport useFilters from \"~/hooks/useFilters\";\nimport EntityService from \"~/services/Entity\";\nimport LocalStorageService from \"~/services/LocalStorage\";\nimport { db } from \"~/utils/db.server\";\n\nimport Layout from \"~/components/Layout\";\nimport ProjectIntro from \"~/components/ProjectIntro\";\nimport AudioItemComponent from \"~/components/AudioItem\";\n\ninterface LoaderData {\n\taudioItems: AudioItemWithRelations[];\n\tcollections: CollectionWithRelations[];\n\tcomments: CommentWithRelations[];\n\tnumAudioItemsAllTime: number;\n\tnumTagsAllTime: number;\n\tnumCommentsAllTime: number;\n}\n\nexport async function loader({\n\trequest,\n}: DataFunctionArgs): Promise<LoaderData> {\n\tconst { searchParams } = new URL(request.url);\n\tconst sortBy = searchParams.get(\"sortBy\") ?? SortBy.RecentlyTagged;\n\tconst audioItemsOrderBy: Prisma.Enumerable<Prisma.AudioItemOrderByWithRelationInput> =\n\t\tsortBy === SortBy.RecentlyTagged\n\t\t\t? { updatedAt: \"desc\" }\n\t\t\t: { createdAt: \"desc\" };\n\n\tconst [\n\t\taudioItems,\n\t\tcollections,\n\t\tcomments,\n\t\tnumAudioItemsAllTime,\n\t\tnumTagsAllTime,\n\t\tnumCommentsAllTime,\n\t] = await Promise.all([\n\t\tdb.audioItem.findMany({\n\t\t\ttake: 10,\n\t\t\tinclude: {\n\t\t\t\ttagsAsSubject: {\n\t\t\t\t\tinclude: {\n\t\t\t\t\t\tobjectAudioItem: true,\n\t\t\t\t\t\tobjectCollection: true,\n\t\t\t\t\t\tobjectInstrument: true,\n\t\t\t\t\t\tobjectPerson: true,\n\t\t\t\t\t\tobjectPlace: true,\n\t\t\t\t\t\tobjectTune: true,\n\t\t\t\t\t\trelationship: true,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tcreatedByUser: true,\n\t\t\t\tupdatedByUser: true,\n\t\t\t\tcomments: {\n\t\t\t\t\tinclude: {\n\t\t\t\t\t\tcreatedByUser: true,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t\torderBy: audioItemsOrderBy,\n\t\t}),\n\t\tdb.collection.findMany({\n\t\t\ttake: 5,\n\t\t\tinclude: {\n\t\t\t\ttagsAsSubject: true,\n\t\t\t\tcreatedByUser: true,\n\t\t\t\tupdatedByUser: true,\n\t\t\t},\n\t\t\torderBy: {\n\t\t\t\tcreatedAt: \"desc\",\n\t\t\t},\n\t\t}),\n\t\tdb.comment.findMany({\n\t\t\ttake: 6,\n\t\t\tinclude: {\n\t\t\t\tcreatedByUser: true,\n\t\t\t\tparentAudioItem: true,\n\t\t\t},\n\t\t\torderBy: {\n\t\t\t\tcreatedAt: \"desc\",\n\t\t\t},\n\t\t}),\n\t\tdb.audioItem.count(),\n\t\tdb.tag.count(),\n\t\tdb.comment.count(),\n\t]);\n\treturn {\n\t\taudioItems,\n\t\tcollections,\n\t\tcomments,\n\t\tnumAudioItemsAllTime,\n\t\tnumTagsAllTime,\n\t\tnumCommentsAllTime,\n\t};\n}\n\nexport default function Home() {\n\tconst {\n\t\taudioItems,\n\t\tcollections,\n\t\tcomments,\n\t\tnumAudioItemsAllTime,\n\t\tnumTagsAllTime,\n\t\tnumCommentsAllTime,\n\t} = useLoaderData<LoaderData>();\n\tconst { search } = useLocation();\n\tconst viewAs =\n\t\t(new URLSearchParams(search).get(\"viewAs\") as ViewAs) ?? ViewAs.Cards;\n\n\tconst { Filters, filtersProps } = useFilters();\n\n\t// Due to static rendering, we need to check localStorage for intro status\n\t// after client-side hydration.\n\tconst [shouldShowIntro, setShouldShowIntro] = useState(false);\n\tuseEffect(() => {\n\t\tif (LocalStorageService.getItem(\"SHOULD_SHOW_INTRO\") !== \"false\") {\n\t\t\tsetShouldShowIntro(true);\n\t\t}\n\t}, []);\n\tconst onCloseIntro = useCallback(() => {\n\t\tLocalStorageService.setItem(\"SHOULD_SHOW_INTRO\", \"false\");\n\t\tsetShouldShowIntro(false);\n\t}, []);\n\n\treturn (\n\t\t<Layout>\n\t\t\t{shouldShowIntro && (\n\t\t\t\t<ProjectIntro\n\t\t\t\t\tclassName=\"mb-8 md:mt-4 md:mb-12\"\n\t\t\t\t\tonClose={onCloseIntro}\n\t\t\t\t/>\n\t\t\t)}\n\n\t\t\t<div className=\"flex flex-col md:flex-row\">\n\t\t\t\t<div className=\"flex flex-1 flex-col pb-8\">\n\t\t\t\t\t<h1 className=\"mb-6\">Explore</h1>\n\n\t\t\t\t\t<Filters {...filtersProps} className=\"mb-6\" />\n\n\t\t\t\t\t{audioItems.map((audioItem, index) => (\n\t\t\t\t\t\t<AudioItemComponent\n\t\t\t\t\t\t\tviewAs={viewAs}\n\t\t\t\t\t\t\taudioItem={audioItem}\n\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\tclassName={viewAs === ViewAs.List ? \"mb-4\" : \"mb-6\"}\n\t\t\t\t\t\t/>\n\t\t\t\t\t))}\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"flex flex-col items-start md:ml-8 md:pl-8 md:w-1/4 md:border-l md:border-gray-300\">\n\t\t\t\t\t<h3 className=\"mb-4\">Browse</h3>\n\t\t\t\t\t<Link to=\"/entities/people\" className=\"mb-2\">\n\t\t\t\t\t\tPeople\n\t\t\t\t\t</Link>\n\t\t\t\t\t<Link to=\"/entities/instruments\" className=\"mb-2\">\n\t\t\t\t\t\tInstruments\n\t\t\t\t\t</Link>\n\t\t\t\t\t<Link to=\"/entities/places\" className=\"mb-2\">\n\t\t\t\t\t\tPlaces\n\t\t\t\t\t</Link>\n\t\t\t\t\t<Link to=\"/entities/tunes\" className=\"mb-2\">\n\t\t\t\t\t\tTunes\n\t\t\t\t\t</Link>\n\t\t\t\t\t<Link to=\"/entities/collections\" className=\"mb-2\">\n\t\t\t\t\t\tCollections\n\t\t\t\t\t</Link>\n\n\t\t\t\t\t<h3 className=\"mt-6 mb-4\">Stats</h3>\n\t\t\t\t\t<span className=\"mb-2 text-gray-500\">\n\t\t\t\t\t\t{numAudioItemsAllTime} Audio Items\n\t\t\t\t\t</span>\n\t\t\t\t\t<span className=\"mb-2 text-gray-500\">{numTagsAllTime} Tags</span>\n\t\t\t\t\t<span className=\"mb-2 text-gray-500\">\n\t\t\t\t\t\t{numCommentsAllTime} Comments\n\t\t\t\t\t</span>\n\n\t\t\t\t\t<h3 className=\"mt-6 mb-4\">Latest Collections</h3>\n\t\t\t\t\t{collections.map((collection, index) => {\n\t\t\t\t\t\tconst { name } = collection;\n\t\t\t\t\t\tif (!name) {\n\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<div className=\"mb-2 text-gray-500\" key={index}>\n\t\t\t\t\t\t\t\t<Link to={EntityService.makeHrefForView(collection)}>\n\t\t\t\t\t\t\t\t\t{collection.name}\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t);\n\t\t\t\t\t})}\n\n\t\t\t\t\t<h3 className=\"mt-6 mb-4\">Latest Features + Fixes</h3>\n\t\t\t\t\t<a\n\t\t\t\t\t\tclassName=\"mb-2\"\n\t\t\t\t\t\thref=\"https://github.com/dgurns/trad-archive/pulls?q=is%3Apr+is%3Amerged+sort%3Aupdated-desc\"\n\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\trel=\"noreferrer\"\n\t\t\t\t\t>\n\t\t\t\t\t\tView on GitHub{\" \"}\n\t\t\t\t\t\t<i className=\"material-icons\">\n\t\t\t\t\t\t\t<span className=\"text-sm\">launch</span>\n\t\t\t\t\t\t</i>\n\t\t\t\t\t</a>\n\n\t\t\t\t\t<h3 className=\"mt-6 mb-4\">Latest Comments</h3>\n\t\t\t\t\t{comments.map((comment, index) => {\n\t\t\t\t\t\tconst { createdByUser, parentAudioItem, text } = comment;\n\t\t\t\t\t\tif (!createdByUser || !parentAudioItem) {\n\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<div className=\"mb-4 text-gray-500\" key={index}>\n\t\t\t\t\t\t\t\t<div className=\" mb-1\">\n\t\t\t\t\t\t\t\t\t<Link to={`/users/${createdByUser.id}`}>\n\t\t\t\t\t\t\t\t\t\t{createdByUser.username}\n\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t{` commented on `}\n\t\t\t\t\t\t\t\t\t<Link to={EntityService.makeHrefForView(parentAudioItem)}>\n\t\t\t\t\t\t\t\t\t\t{parentAudioItem.name}\n\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t{\":\"}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"whitespace-pre-line text-sm\">{text}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t);\n\t\t\t\t\t})}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</Layout>\n\t);\n}\n", "const localStorageIsAvailable =\n\ttypeof window !== \"undefined\" && window?.localStorage;\n\nconst setItem = (key: string, value: string) => {\n\tif (localStorageIsAvailable) {\n\t\twindow.localStorage.setItem(key, value);\n\t}\n};\nconst getItem = (key: string): string | null | undefined => {\n\tif (localStorageIsAvailable) {\n\t\treturn window.localStorage.getItem(key);\n\t}\n\treturn undefined;\n};\n\nconst LocalStorageService = {\n\tsetItem,\n\tgetItem,\n};\nexport default LocalStorageService;\n", "interface Props {\n\tclassName?: string;\n\tonClose?: () => void;\n}\n\nconst ProjectIntro = ({ className, onClose }: Props) => {\n\treturn (\n\t\t<div\n\t\t\tclassName={`flex flex-col flex-grow bg-gray-200 rounded p-4 pl-16 lg:pl-20 relative ${\n\t\t\t\tclassName ?? \"\"\n\t\t\t}`}\n\t\t>\n\t\t\t<img\n\t\t\t\tsrc=\"/logo-square.png\"\n\t\t\t\tclassName=\"absolute top-5 -left-1 lg:-left-8 w-12 lg:w-20 -rotate-12\"\n\t\t\t/>\n\t\t\t<strong>Welcome!</strong>\n\t\t\t<br />\n\t\t\tTrad Archive is an open source experiment by the Irish Traditional Music\n\t\t\tArchive and Dan Gurney.\n\t\t\t<br />\n\t\t\t<br />\n\t\t\tYou can...\n\t\t\t<br />\n\t\t\t<ul className=\"list-disc list-inside\">\n\t\t\t\t<li>Listen to previously unreleased archival recordings</li>\n\t\t\t\t<li>\n\t\t\t\t\tHelp by tagging each recording with People, Places, Tunes,\n\t\t\t\t\tInstruments, and Collections\n\t\t\t\t</li>\n\t\t\t\t<li>Save favorites to listen later</li>\n\t\t\t</ul>\n\t\t\t<button className=\"absolute top-2 right-2 btn-icon\" onClick={onClose}>\n\t\t\t\t<i className=\"material-icons\">close</i>\n\t\t\t</button>\n\t\t</div>\n\t);\n};\n\nexport default ProjectIntro;\n", "import { useEffect, useState } from \"react\";\nimport { useNavigate } from \"@remix-run/react\";\nimport { Link } from \"@remix-run/react\";\nimport { useMutation, gql } from \"@apollo/client\";\n\nimport useCurrentUser from \"~/hooks/useCurrentUser\";\nimport Layout from \"~/components/Layout\";\nimport type { User } from \"~/types\";\nimport { UserFragments } from \"~/fragments\";\n\nconst LOG_IN_MUTATION = gql`\n\tmutation LogIn($input: LogInInput!) {\n\t\tlogIn(input: $input) {\n\t\t\t...CurrentUser\n\t\t}\n\t}\n\t${UserFragments.currentUser}\n`;\ninterface MutationData {\n\tlogIn: User;\n}\n\nconst Login = () => {\n\tconst navigate = useNavigate();\n\tconst { redirectTo } = navigate.query;\n\tconst [currentUser] = useCurrentUser();\n\n\tconst [email, setEmail] = useState(\"\");\n\n\tconst [logIn, { loading, data, error }] = useMutation<MutationData>(\n\t\tLOG_IN_MUTATION,\n\t\t{\n\t\t\terrorPolicy: \"all\",\n\t\t}\n\t);\n\n\tconst onLogIn = (event) => {\n\t\tevent.preventDefault();\n\t\tconst cleanedEmail = email.trim().toLowerCase();\n\t\tlogIn({\n\t\t\tvariables: { input: { email: cleanedEmail, redirectTo } },\n\t\t});\n\t};\n\n\tuseEffect(() => {\n\t\tif (data?.logIn) {\n\t\t\tnavigate(\"/auto-login\");\n\t\t}\n\t}, [data, navigate]);\n\n\tif (currentUser) {\n\t\tnavigate(typeof redirectTo === \"string\" ? redirectTo : \"/\");\n\t}\n\n\tconst signUpLinkQueryParams = redirectTo ? { redirectTo } : undefined;\n\n\treturn (\n\t\t<Layout>\n\t\t\t<h1 className=\"mb-6\">\n\t\t\t\tLog in to {redirectTo ? \"continue\" : \"Trad Archive\"}\n\t\t\t</h1>\n\t\t\t<div className=\"flex flex-col align-start max-w-xs\">\n\t\t\t\t<form onSubmit={onLogIn}>\n\t\t\t\t\t<input\n\t\t\t\t\t\tplaceholder=\"Your email\"\n\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\tclassName=\"mb-4\"\n\t\t\t\t\t\tvalue={email}\n\t\t\t\t\t\tonChange={(event) => setEmail(event.target.value)}\n\t\t\t\t\t/>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\tclassName=\"btn mb-4 w-auto\"\n\t\t\t\t\t\tdisabled={loading}\n\t\t\t\t\t\tvalue=\"Log In\"\n\t\t\t\t\t/>\n\t\t\t\t</form>\n\t\t\t\t{error && <div className=\"text-red-600 mb-4\">{error.message}</div>}\n\t\t\t\t<div>\n\t\t\t\t\tDon't have an account yet?{\" \"}\n\t\t\t\t\t<Link to={{ pathname: \"/signup\", query: signUpLinkQueryParams }}>\n\t\t\t\t\t\tSign Up\n\t\t\t\t\t</Link>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</Layout>\n\t);\n};\n\nexport default Login;\n", "export default {'version':'1f0a02ba','entry':{'module':'/build/entry.client-24CXC3PV.js','imports':['/build/_shared/chunk-LAZS6NQD.js']},'routes':{'root':{'id':'root','parentId':undefined,'path':'','index':undefined,'caseSensitive':undefined,'module':'/build/root-4VHDC7X4.js','imports':['/build/_shared/chunk-ZQEJ35XF.js','/build/_shared/chunk-JDG6WXNN.js','/build/_shared/chunk-5DALBYVT.js','/build/_shared/chunk-ETNNQXWI.js','/build/_shared/chunk-YNOSSSX4.js','/build/_shared/chunk-4ZS4RKQK.js','/build/_shared/chunk-MUPKMBMF.js','/build/_shared/chunk-VBOJUJRE.js','/build/_shared/chunk-BBABTPQA.js','/build/_shared/chunk-NCJMDQTL.js','/build/_shared/chunk-AIAI25GH.js','/build/_shared/chunk-YLJS2KAL.js','/build/_shared/chunk-R6HNRM76.js','/build/_shared/chunk-J3PUV6G7.js','/build/_shared/chunk-2CUMPA3P.js','/build/_shared/chunk-QGKSSSWD.js'],'hasAction':false,'hasLoader':false,'hasCatchBoundary':true,'hasErrorBoundary':true},'routes/account/index':{'id':'routes/account/index','parentId':'root','path':'account','index':true,'caseSensitive':undefined,'module':'/build/routes/account/index-3NMV4EDL.js','imports':['/build/_shared/chunk-SRDA4TBH.js','/build/_shared/chunk-M3HSCS3E.js','/build/_shared/chunk-ZO5LPNA6.js'],'hasAction':false,'hasLoader':false,'hasCatchBoundary':false,'hasErrorBoundary':false},'routes/account/submissions/[id]/upload':{'id':'routes/account/submissions/[id]/upload','parentId':'root','path':'account/submissions/id/upload','index':undefined,'caseSensitive':undefined,'module':'/build/routes/account/submissions/[id]/upload-DIKPSL6I.js','imports':['/build/_shared/chunk-CPZGTRZW.js','/build/_shared/chunk-NPBM62RR.js','/build/_shared/chunk-M3HSCS3E.js','/build/_shared/chunk-HRHI5VCY.js','/build/_shared/chunk-ZO5LPNA6.js'],'hasAction':false,'hasLoader':false,'hasCatchBoundary':false,'hasErrorBoundary':false},'routes/account/submissions/index':{'id':'routes/account/submissions/index','parentId':'root','path':'account/submissions','index':true,'caseSensitive':undefined,'module':'/build/routes/account/submissions/index-762HRXQJ.js','imports':['/build/_shared/chunk-CPZGTRZW.js','/build/_shared/chunk-NPBM62RR.js','/build/_shared/chunk-M3HSCS3E.js','/build/_shared/chunk-HRHI5VCY.js','/build/_shared/chunk-ZO5LPNA6.js'],'hasAction':false,'hasLoader':false,'hasCatchBoundary':false,'hasErrorBoundary':false},'routes/account/submissions/new':{'id':'routes/account/submissions/new','parentId':'root','path':'account/submissions/new','index':undefined,'caseSensitive':undefined,'module':'/build/routes/account/submissions/new-WLQF6EJC.js','imports':['/build/_shared/chunk-NPBM62RR.js','/build/_shared/chunk-M3HSCS3E.js','/build/_shared/chunk-ZO5LPNA6.js'],'hasAction':false,'hasLoader':false,'hasCatchBoundary':false,'hasErrorBoundary':false},'routes/account/verify':{'id':'routes/account/verify','parentId':'root','path':'account/verify','index':undefined,'caseSensitive':undefined,'module':'/build/routes/account/verify-ICRX2ZTU.js','imports':['/build/_shared/chunk-SRDA4TBH.js','/build/_shared/chunk-NPBM62RR.js','/build/_shared/chunk-M3HSCS3E.js','/build/_shared/chunk-ZO5LPNA6.js'],'hasAction':false,'hasLoader':false,'hasCatchBoundary':false,'hasErrorBoundary':false},'routes/admin/index':{'id':'routes/admin/index','parentId':'root','path':'admin','index':true,'caseSensitive':undefined,'module':'/build/routes/admin/index-BC47TDU4.js','imports':['/build/_shared/chunk-INVGBW77.js','/build/_shared/chunk-ZO5LPNA6.js'],'hasAction':false,'hasLoader':false,'hasCatchBoundary':false,'hasErrorBoundary':false},'routes/admin/submissions/[id]':{'id':'routes/admin/submissions/[id]','parentId':'root','path':'admin/submissions/id','index':undefined,'caseSensitive':undefined,'module':'/build/routes/admin/submissions/[id]-E4STYVZJ.js','imports':['/build/_shared/chunk-INVGBW77.js','/build/_shared/chunk-CPZGTRZW.js','/build/_shared/chunk-NPBM62RR.js','/build/_shared/chunk-HRHI5VCY.js','/build/_shared/chunk-ZO5LPNA6.js'],'hasAction':false,'hasLoader':false,'hasCatchBoundary':false,'hasErrorBoundary':false},'routes/admin/submissions/index':{'id':'routes/admin/submissions/index','parentId':'root','path':'admin/submissions','index':true,'caseSensitive':undefined,'module':'/build/routes/admin/submissions/index-JXAO3GLB.js','imports':['/build/_shared/chunk-INVGBW77.js','/build/_shared/chunk-CPZGTRZW.js','/build/_shared/chunk-NPBM62RR.js','/build/_shared/chunk-HRHI5VCY.js','/build/_shared/chunk-ZO5LPNA6.js'],'hasAction':false,'hasLoader':false,'hasCatchBoundary':false,'hasErrorBoundary':false},'routes/admin/takedown-requests':{'id':'routes/admin/takedown-requests','parentId':'root','path':'admin/takedown-requests','index':undefined,'caseSensitive':undefined,'module':'/build/routes/admin/takedown-requests-FTTZIVBI.js','imports':['/build/_shared/chunk-INVGBW77.js','/build/_shared/chunk-F73BS3PK.js','/build/_shared/chunk-CPZGTRZW.js','/build/_shared/chunk-NPBM62RR.js','/build/_shared/chunk-HRHI5VCY.js','/build/_shared/chunk-ZO5LPNA6.js'],'hasAction':false,'hasLoader':false,'hasCatchBoundary':false,'hasErrorBoundary':false},'routes/admin/verification-requests':{'id':'routes/admin/verification-requests','parentId':'root','path':'admin/verification-requests','index':undefined,'caseSensitive':undefined,'module':'/build/routes/admin/verification-requests-7PQVISF4.js','imports':['/build/_shared/chunk-INVGBW77.js','/build/_shared/chunk-F73BS3PK.js','/build/_shared/chunk-CPZGTRZW.js','/build/_shared/chunk-NPBM62RR.js','/build/_shared/chunk-HRHI5VCY.js','/build/_shared/chunk-ZO5LPNA6.js'],'hasAction':false,'hasLoader':false,'hasCatchBoundary':false,'hasErrorBoundary':false},'routes/auto-login':{'id':'routes/auto-login','parentId':'root','path':'auto-login','index':undefined,'caseSensitive':undefined,'module':'/build/routes/auto-login-P74PJYZU.js','imports':['/build/_shared/chunk-ZO5LPNA6.js'],'hasAction':false,'hasLoader':false,'hasCatchBoundary':false,'hasErrorBoundary':false},'routes/entities/audio-items/[slug]':{'id':'routes/entities/audio-items/[slug]','parentId':'root','path':'entities/audio-items/slug','index':undefined,'caseSensitive':undefined,'module':'/build/routes/entities/audio-items/[slug]-XTYR2475.js','imports':['/build/_shared/chunk-HC4CZDGH.js','/build/_shared/chunk-LNL5MASJ.js','/build/_shared/chunk-TURQZNPG.js','/build/_shared/chunk-F73BS3PK.js','/build/_shared/chunk-CPZGTRZW.js','/build/_shared/chunk-NPBM62RR.js','/build/_shared/chunk-HRHI5VCY.js','/build/_shared/chunk-ZO5LPNA6.js'],'hasAction':false,'hasLoader':false,'hasCatchBoundary':false,'hasErrorBoundary':false},'routes/entities/audio-items/[slug]/about':{'id':'routes/entities/audio-items/[slug]/about','parentId':'routes/entities/audio-items/[slug]','path':'about','index':undefined,'caseSensitive':undefined,'module':'/build/routes/entities/audio-items/[slug]/about-BR4FWYON.js','imports':['/build/_shared/chunk-JDG6WXNN.js','/build/_shared/chunk-5DALBYVT.js','/build/_shared/chunk-ETNNQXWI.js','/build/_shared/chunk-YNOSSSX4.js','/build/_shared/chunk-4ZS4RKQK.js','/build/_shared/chunk-MUPKMBMF.js','/build/_shared/chunk-VBOJUJRE.js','/build/_shared/chunk-BBABTPQA.js','/build/_shared/chunk-NCJMDQTL.js','/build/_shared/chunk-AIAI25GH.js','/build/_shared/chunk-YLJS2KAL.js','/build/_shared/chunk-R6HNRM76.js','/build/_shared/chunk-J3PUV6G7.js','/build/_shared/chunk-2CUMPA3P.js','/build/_shared/chunk-QGKSSSWD.js'],'hasAction':false,'hasLoader':false,'hasCatchBoundary':false,'hasErrorBoundary':false},'routes/entities/audio-items/[slug]/edit':{'id':'routes/entities/audio-items/[slug]/edit','parentId':'routes/entities/audio-items/[slug]','path':'edit','index':undefined,'caseSensitive':undefined,'module':'/build/routes/entities/audio-items/[slug]/edit-CAA7BSAC.js','imports':['/build/_shared/chunk-M3HSCS3E.js','/build/_shared/chunk-YLJS2KAL.js','/build/_shared/chunk-R6HNRM76.js','/build/_shared/chunk-J3PUV6G7.js','/build/_shared/chunk-2CUMPA3P.js','/build/_shared/chunk-QGKSSSWD.js'],'hasAction':false,'hasLoader':false,'hasCatchBoundary':false,'hasErrorBoundary':false},'routes/entities/audio-items/[slug]/tags':{'id':'routes/entities/audio-items/[slug]/tags','parentId':'routes/entities/audio-items/[slug]','path':'tags','index':undefined,'caseSensitive':undefined,'module':'/build/routes/entities/audio-items/[slug]/tags-WM2LXBG6.js','imports':undefined,'hasAction':false,'hasLoader':false,'hasCatchBoundary':false,'hasErrorBoundary':false},'routes/entities/audio-items/index':{'id':'routes/entities/audio-items/index','parentId':'root','path':'entities/audio-items','index':true,'caseSensitive':undefined,'module':'/build/routes/entities/audio-items/index-TEMN42UK.js','imports':undefined,'hasAction':false,'hasLoader':false,'hasCatchBoundary':false,'hasErrorBoundary':false},'routes/entities/audio-items/new':{'id':'routes/entities/audio-items/new','parentId':'root','path':'entities/audio-items/new','index':undefined,'caseSensitive':undefined,'module':'/build/routes/entities/audio-items/new-OW2KQCM6.js','imports':['/build/_shared/chunk-INVGBW77.js','/build/_shared/chunk-ZO5LPNA6.js'],'hasAction':false,'hasLoader':false,'hasCatchBoundary':false,'hasErrorBoundary':false},'routes/entities/audio-items/random':{'id':'routes/entities/audio-items/random','parentId':'root','path':'entities/audio-items/random','index':undefined,'caseSensitive':undefined,'module':'/build/routes/entities/audio-items/random-ZKMJHD7Z.js','imports':['/build/_shared/chunk-HRHI5VCY.js','/build/_shared/chunk-ZO5LPNA6.js'],'hasAction':false,'hasLoader':false,'hasCatchBoundary':false,'hasErrorBoundary':false},'routes/entities/collections/[slug]':{'id':'routes/entities/collections/[slug]','parentId':'root','path':'entities/collections/slug','index':undefined,'caseSensitive':undefined,'module':'/build/routes/entities/collections/[slug]-NNP6CCAW.js','imports':['/build/_shared/chunk-3JFS42ZJ.js','/build/_shared/chunk-7AHRJAPS.js','/build/_shared/chunk-F44BCDAE.js','/build/_shared/chunk-LNL5MASJ.js','/build/_shared/chunk-TURQZNPG.js','/build/_shared/chunk-F73BS3PK.js','/build/_shared/chunk-CPZGTRZW.js','/build/_shared/chunk-NPBM62RR.js','/build/_shared/chunk-HRHI5VCY.js','/build/_shared/chunk-ZO5LPNA6.js'],'hasAction':false,'hasLoader':false,'hasCatchBoundary':false,'hasErrorBoundary':false},'routes/entities/collections/[slug]/about':{'id':'routes/entities/collections/[slug]/about','parentId':'routes/entities/collections/[slug]','path':'about','index':undefined,'caseSensitive':undefined,'module':'/build/routes/entities/collections/[slug]/about-A7NVDOL5.js','imports':['/build/_shared/chunk-JDG6WXNN.js','/build/_shared/chunk-5DALBYVT.js','/build/_shared/chunk-ETNNQXWI.js','/build/_shared/chunk-YNOSSSX4.js','/build/_shared/chunk-4ZS4RKQK.js','/build/_shared/chunk-MUPKMBMF.js','/build/_shared/chunk-VBOJUJRE.js','/build/_shared/chunk-BBABTPQA.js','/build/_shared/chunk-NCJMDQTL.js','/build/_shared/chunk-AIAI25GH.js','/build/_shared/chunk-YLJS2KAL.js','/build/_shared/chunk-R6HNRM76.js','/build/_shared/chunk-J3PUV6G7.js','/build/_shared/chunk-2CUMPA3P.js','/build/_shared/chunk-QGKSSSWD.js'],'hasAction':false,'hasLoader':false,'hasCatchBoundary':false,'hasErrorBoundary':false},'routes/entities/collections/[slug]/edit':{'id':'routes/entities/collections/[slug]/edit','parentId':'routes/entities/collections/[slug]','path':'edit','index':undefined,'caseSensitive':undefined,'module':'/build/routes/entities/collections/[slug]/edit-ZRQPFPEZ.js','imports':['/build/_shared/chunk-M3HSCS3E.js','/build/_shared/chunk-YLJS2KAL.js','/build/_shared/chunk-R6HNRM76.js','/build/_shared/chunk-J3PUV6G7.js','/build/_shared/chunk-2CUMPA3P.js','/build/_shared/chunk-QGKSSSWD.js'],'hasAction':false,'hasLoader':false,'hasCatchBoundary':false,'hasErrorBoundary':false},'routes/entities/collections/[slug]/tags':{'id':'routes/entities/collections/[slug]/tags','parentId':'routes/entities/collections/[slug]','path':'tags','index':undefined,'caseSensitive':undefined,'module':'/build/routes/entities/collections/[slug]/tags-34HDC6VG.js','imports':['/build/_shared/chunk-WSE2P2MR.js','/build/_shared/chunk-JDG6WXNN.js','/build/_shared/chunk-5DALBYVT.js','/build/_shared/chunk-ETNNQXWI.js','/build/_shared/chunk-YNOSSSX4.js','/build/_shared/chunk-4ZS4RKQK.js','/build/_shared/chunk-MUPKMBMF.js','/build/_shared/chunk-VBOJUJRE.js','/build/_shared/chunk-BBABTPQA.js','/build/_shared/chunk-NCJMDQTL.js','/build/_shared/chunk-AIAI25GH.js','/build/_shared/chunk-YLJS2KAL.js','/build/_shared/chunk-R6HNRM76.js','/build/_shared/chunk-J3PUV6G7.js','/build/_shared/chunk-2CUMPA3P.js','/build/_shared/chunk-QGKSSSWD.js'],'hasAction':false,'hasLoader':false,'hasCatchBoundary':false,'hasErrorBoundary':false},'routes/entities/collections/index':{'id':'routes/entities/collections/index','parentId':'root','path':'entities/collections','index':true,'caseSensitive':undefined,'module':'/build/routes/entities/collections/index-4BOICKIP.js','imports':['/build/_shared/chunk-HRHI5VCY.js','/build/_shared/chunk-ZO5LPNA6.js'],'hasAction':false,'hasLoader':false,'hasCatchBoundary':false,'hasErrorBoundary':false},'routes/entities/collections/new':{'id':'routes/entities/collections/new','parentId':'root','path':'entities/collections/new','index':undefined,'caseSensitive':undefined,'module':'/build/routes/entities/collections/new-PWYROEAA.js','imports':['/build/_shared/chunk-M3HSCS3E.js','/build/_shared/chunk-ZO5LPNA6.js'],'hasAction':false,'hasLoader':false,'hasCatchBoundary':false,'hasErrorBoundary':false},'routes/entities/instruments/[slug]':{'id':'routes/entities/instruments/[slug]','parentId':'root','path':'entities/instruments/slug','index':undefined,'caseSensitive':undefined,'module':'/build/routes/entities/instruments/[slug]-MDW5OROS.js','imports':['/build/_shared/chunk-HASMV6WV.js','/build/_shared/chunk-7AHRJAPS.js','/build/_shared/chunk-F44BCDAE.js','/build/_shared/chunk-LNL5MASJ.js','/build/_shared/chunk-TURQZNPG.js','/build/_shared/chunk-F73BS3PK.js','/build/_shared/chunk-CPZGTRZW.js','/build/_shared/chunk-NPBM62RR.js','/build/_shared/chunk-HRHI5VCY.js','/build/_shared/chunk-ZO5LPNA6.js'],'hasAction':false,'hasLoader':false,'hasCatchBoundary':false,'hasErrorBoundary':false},'routes/entities/instruments/[slug]/about':{'id':'routes/entities/instruments/[slug]/about','parentId':'routes/entities/instruments/[slug]','path':'about','index':undefined,'caseSensitive':undefined,'module':'/build/routes/entities/instruments/[slug]/about-MVWTW5SQ.js','imports':['/build/_shared/chunk-JDG6WXNN.js','/build/_shared/chunk-5DALBYVT.js','/build/_shared/chunk-ETNNQXWI.js','/build/_shared/chunk-YNOSSSX4.js','/build/_shared/chunk-4ZS4RKQK.js','/build/_shared/chunk-MUPKMBMF.js','/build/_shared/chunk-VBOJUJRE.js','/build/_shared/chunk-BBABTPQA.js','/build/_shared/chunk-NCJMDQTL.js','/build/_shared/chunk-AIAI25GH.js','/build/_shared/chunk-YLJS2KAL.js','/build/_shared/chunk-R6HNRM76.js','/build/_shared/chunk-J3PUV6G7.js','/build/_shared/chunk-2CUMPA3P.js','/build/_shared/chunk-QGKSSSWD.js'],'hasAction':false,'hasLoader':false,'hasCatchBoundary':false,'hasErrorBoundary':false},'routes/entities/instruments/[slug]/edit':{'id':'routes/entities/instruments/[slug]/edit','parentId':'routes/entities/instruments/[slug]','path':'edit','index':undefined,'caseSensitive':undefined,'module':'/build/routes/entities/instruments/[slug]/edit-6UGQQ57K.js','imports':['/build/_shared/chunk-M3HSCS3E.js','/build/_shared/chunk-YLJS2KAL.js','/build/_shared/chunk-R6HNRM76.js','/build/_shared/chunk-J3PUV6G7.js','/build/_shared/chunk-2CUMPA3P.js','/build/_shared/chunk-QGKSSSWD.js'],'hasAction':false,'hasLoader':false,'hasCatchBoundary':false,'hasErrorBoundary':false},'routes/entities/instruments/[slug]/tags':{'id':'routes/entities/instruments/[slug]/tags','parentId':'routes/entities/instruments/[slug]','path':'tags','index':undefined,'caseSensitive':undefined,'module':'/build/routes/entities/instruments/[slug]/tags-ALMEYZRM.js','imports':['/build/_shared/chunk-WSE2P2MR.js','/build/_shared/chunk-JDG6WXNN.js','/build/_shared/chunk-5DALBYVT.js','/build/_shared/chunk-ETNNQXWI.js','/build/_shared/chunk-YNOSSSX4.js','/build/_shared/chunk-4ZS4RKQK.js','/build/_shared/chunk-MUPKMBMF.js','/build/_shared/chunk-VBOJUJRE.js','/build/_shared/chunk-BBABTPQA.js','/build/_shared/chunk-NCJMDQTL.js','/build/_shared/chunk-AIAI25GH.js','/build/_shared/chunk-YLJS2KAL.js','/build/_shared/chunk-R6HNRM76.js','/build/_shared/chunk-J3PUV6G7.js','/build/_shared/chunk-2CUMPA3P.js','/build/_shared/chunk-QGKSSSWD.js'],'hasAction':false,'hasLoader':false,'hasCatchBoundary':false,'hasErrorBoundary':false},'routes/entities/instruments/index':{'id':'routes/entities/instruments/index','parentId':'root','path':'entities/instruments','index':true,'caseSensitive':undefined,'module':'/build/routes/entities/instruments/index-MYB3NKT6.js','imports':['/build/_shared/chunk-HRHI5VCY.js','/build/_shared/chunk-ZO5LPNA6.js'],'hasAction':false,'hasLoader':false,'hasCatchBoundary':false,'hasErrorBoundary':false},'routes/entities/instruments/new':{'id':'routes/entities/instruments/new','parentId':'root','path':'entities/instruments/new','index':undefined,'caseSensitive':undefined,'module':'/build/routes/entities/instruments/new-RGTOQTUK.js','imports':['/build/_shared/chunk-M3HSCS3E.js','/build/_shared/chunk-ZO5LPNA6.js'],'hasAction':false,'hasLoader':false,'hasCatchBoundary':false,'hasErrorBoundary':false},'routes/entities/people/$slug':{'id':'routes/entities/people/$slug','parentId':'root','path':'entities/people/:slug','index':undefined,'caseSensitive':undefined,'module':'/build/routes/entities/people/$slug-OLKK2FAX.js','imports':['/build/_shared/chunk-I3V7J4HZ.js','/build/_shared/chunk-7AHRJAPS.js','/build/_shared/chunk-F44BCDAE.js','/build/_shared/chunk-LNL5MASJ.js','/build/_shared/chunk-TURQZNPG.js','/build/_shared/chunk-F73BS3PK.js','/build/_shared/chunk-CPZGTRZW.js','/build/_shared/chunk-NPBM62RR.js','/build/_shared/chunk-HRHI5VCY.js','/build/_shared/chunk-ZO5LPNA6.js'],'hasAction':false,'hasLoader':true,'hasCatchBoundary':false,'hasErrorBoundary':false},'routes/entities/people/$slug/about':{'id':'routes/entities/people/$slug/about','parentId':'routes/entities/people/$slug','path':'about','index':undefined,'caseSensitive':undefined,'module':'/build/routes/entities/people/$slug/about-UTEOB3HO.js','imports':undefined,'hasAction':false,'hasLoader':false,'hasCatchBoundary':false,'hasErrorBoundary':false},'routes/entities/people/$slug/edit':{'id':'routes/entities/people/$slug/edit','parentId':'routes/entities/people/$slug','path':'edit','index':undefined,'caseSensitive':undefined,'module':'/build/routes/entities/people/$slug/edit-ZD54S3RV.js','imports':['/build/_shared/chunk-M3HSCS3E.js','/build/_shared/chunk-YLJS2KAL.js','/build/_shared/chunk-R6HNRM76.js','/build/_shared/chunk-J3PUV6G7.js','/build/_shared/chunk-2CUMPA3P.js','/build/_shared/chunk-QGKSSSWD.js'],'hasAction':false,'hasLoader':false,'hasCatchBoundary':false,'hasErrorBoundary':false},'routes/entities/people/$slug/tags':{'id':'routes/entities/people/$slug/tags','parentId':'routes/entities/people/$slug','path':'tags','index':undefined,'caseSensitive':undefined,'module':'/build/routes/entities/people/$slug/tags-TZAR3Y5W.js','imports':['/build/_shared/chunk-WSE2P2MR.js','/build/_shared/chunk-JDG6WXNN.js','/build/_shared/chunk-5DALBYVT.js','/build/_shared/chunk-ETNNQXWI.js','/build/_shared/chunk-YNOSSSX4.js','/build/_shared/chunk-4ZS4RKQK.js','/build/_shared/chunk-MUPKMBMF.js','/build/_shared/chunk-VBOJUJRE.js','/build/_shared/chunk-BBABTPQA.js','/build/_shared/chunk-NCJMDQTL.js','/build/_shared/chunk-AIAI25GH.js','/build/_shared/chunk-YLJS2KAL.js','/build/_shared/chunk-R6HNRM76.js','/build/_shared/chunk-J3PUV6G7.js','/build/_shared/chunk-2CUMPA3P.js','/build/_shared/chunk-QGKSSSWD.js'],'hasAction':false,'hasLoader':false,'hasCatchBoundary':false,'hasErrorBoundary':false},'routes/entities/people/index':{'id':'routes/entities/people/index','parentId':'root','path':'entities/people','index':true,'caseSensitive':undefined,'module':'/build/routes/entities/people/index-LYNIYUJ2.js','imports':['/build/_shared/chunk-HRHI5VCY.js','/build/_shared/chunk-ZO5LPNA6.js'],'hasAction':false,'hasLoader':false,'hasCatchBoundary':false,'hasErrorBoundary':false},'routes/entities/people/new':{'id':'routes/entities/people/new','parentId':'root','path':'entities/people/new','index':undefined,'caseSensitive':undefined,'module':'/build/routes/entities/people/new-Z2MJKYJR.js','imports':['/build/_shared/chunk-M3HSCS3E.js','/build/_shared/chunk-ZO5LPNA6.js'],'hasAction':false,'hasLoader':false,'hasCatchBoundary':false,'hasErrorBoundary':false},'routes/entities/places/[slug]':{'id':'routes/entities/places/[slug]','parentId':'root','path':'entities/places/slug','index':undefined,'caseSensitive':undefined,'module':'/build/routes/entities/places/[slug]-GU5AOGPQ.js','imports':['/build/_shared/chunk-UWSAPTSJ.js','/build/_shared/chunk-7AHRJAPS.js','/build/_shared/chunk-F44BCDAE.js','/build/_shared/chunk-LNL5MASJ.js','/build/_shared/chunk-TURQZNPG.js','/build/_shared/chunk-F73BS3PK.js','/build/_shared/chunk-CPZGTRZW.js','/build/_shared/chunk-NPBM62RR.js','/build/_shared/chunk-HRHI5VCY.js','/build/_shared/chunk-ZO5LPNA6.js'],'hasAction':false,'hasLoader':false,'hasCatchBoundary':false,'hasErrorBoundary':false},'routes/entities/places/[slug]/about':{'id':'routes/entities/places/[slug]/about','parentId':'routes/entities/places/[slug]','path':'about','index':undefined,'caseSensitive':undefined,'module':'/build/routes/entities/places/[slug]/about-N3RYMLMY.js','imports':['/build/_shared/chunk-JDG6WXNN.js','/build/_shared/chunk-5DALBYVT.js','/build/_shared/chunk-ETNNQXWI.js','/build/_shared/chunk-YNOSSSX4.js','/build/_shared/chunk-4ZS4RKQK.js','/build/_shared/chunk-MUPKMBMF.js','/build/_shared/chunk-VBOJUJRE.js','/build/_shared/chunk-BBABTPQA.js','/build/_shared/chunk-NCJMDQTL.js','/build/_shared/chunk-AIAI25GH.js','/build/_shared/chunk-YLJS2KAL.js','/build/_shared/chunk-R6HNRM76.js','/build/_shared/chunk-J3PUV6G7.js','/build/_shared/chunk-2CUMPA3P.js','/build/_shared/chunk-QGKSSSWD.js'],'hasAction':false,'hasLoader':false,'hasCatchBoundary':false,'hasErrorBoundary':false},'routes/entities/places/[slug]/edit':{'id':'routes/entities/places/[slug]/edit','parentId':'routes/entities/places/[slug]','path':'edit','index':undefined,'caseSensitive':undefined,'module':'/build/routes/entities/places/[slug]/edit-FE2OQ5PS.js','imports':['/build/_shared/chunk-M3HSCS3E.js','/build/_shared/chunk-YLJS2KAL.js','/build/_shared/chunk-R6HNRM76.js','/build/_shared/chunk-J3PUV6G7.js','/build/_shared/chunk-2CUMPA3P.js','/build/_shared/chunk-QGKSSSWD.js'],'hasAction':false,'hasLoader':false,'hasCatchBoundary':false,'hasErrorBoundary':false},'routes/entities/places/[slug]/tags':{'id':'routes/entities/places/[slug]/tags','parentId':'routes/entities/places/[slug]','path':'tags','index':undefined,'caseSensitive':undefined,'module':'/build/routes/entities/places/[slug]/tags-TOLRXNUF.js','imports':['/build/_shared/chunk-WSE2P2MR.js','/build/_shared/chunk-JDG6WXNN.js','/build/_shared/chunk-5DALBYVT.js','/build/_shared/chunk-ETNNQXWI.js','/build/_shared/chunk-YNOSSSX4.js','/build/_shared/chunk-4ZS4RKQK.js','/build/_shared/chunk-MUPKMBMF.js','/build/_shared/chunk-VBOJUJRE.js','/build/_shared/chunk-BBABTPQA.js','/build/_shared/chunk-NCJMDQTL.js','/build/_shared/chunk-AIAI25GH.js','/build/_shared/chunk-YLJS2KAL.js','/build/_shared/chunk-R6HNRM76.js','/build/_shared/chunk-J3PUV6G7.js','/build/_shared/chunk-2CUMPA3P.js','/build/_shared/chunk-QGKSSSWD.js'],'hasAction':false,'hasLoader':false,'hasCatchBoundary':false,'hasErrorBoundary':false},'routes/entities/places/index':{'id':'routes/entities/places/index','parentId':'root','path':'entities/places','index':true,'caseSensitive':undefined,'module':'/build/routes/entities/places/index-X4BT5K2I.js','imports':['/build/_shared/chunk-HRHI5VCY.js','/build/_shared/chunk-ZO5LPNA6.js'],'hasAction':false,'hasLoader':false,'hasCatchBoundary':false,'hasErrorBoundary':false},'routes/entities/places/new':{'id':'routes/entities/places/new','parentId':'root','path':'entities/places/new','index':undefined,'caseSensitive':undefined,'module':'/build/routes/entities/places/new-BRGMI6QE.js','imports':['/build/_shared/chunk-M3HSCS3E.js','/build/_shared/chunk-ZO5LPNA6.js'],'hasAction':false,'hasLoader':false,'hasCatchBoundary':false,'hasErrorBoundary':false},'routes/entities/tunes/[slug]':{'id':'routes/entities/tunes/[slug]','parentId':'root','path':'entities/tunes/slug','index':undefined,'caseSensitive':undefined,'module':'/build/routes/entities/tunes/[slug]-2XSDYAXL.js','imports':['/build/_shared/chunk-N44PCBKF.js','/build/_shared/chunk-7AHRJAPS.js','/build/_shared/chunk-F44BCDAE.js','/build/_shared/chunk-LNL5MASJ.js','/build/_shared/chunk-TURQZNPG.js','/build/_shared/chunk-F73BS3PK.js','/build/_shared/chunk-CPZGTRZW.js','/build/_shared/chunk-NPBM62RR.js','/build/_shared/chunk-HRHI5VCY.js','/build/_shared/chunk-ZO5LPNA6.js'],'hasAction':false,'hasLoader':false,'hasCatchBoundary':false,'hasErrorBoundary':false},'routes/entities/tunes/[slug]/about':{'id':'routes/entities/tunes/[slug]/about','parentId':'routes/entities/tunes/[slug]','path':'about','index':undefined,'caseSensitive':undefined,'module':'/build/routes/entities/tunes/[slug]/about-LNOPULIM.js','imports':['/build/_shared/chunk-JDG6WXNN.js','/build/_shared/chunk-5DALBYVT.js','/build/_shared/chunk-ETNNQXWI.js','/build/_shared/chunk-YNOSSSX4.js','/build/_shared/chunk-4ZS4RKQK.js','/build/_shared/chunk-MUPKMBMF.js','/build/_shared/chunk-VBOJUJRE.js','/build/_shared/chunk-BBABTPQA.js','/build/_shared/chunk-NCJMDQTL.js','/build/_shared/chunk-AIAI25GH.js','/build/_shared/chunk-YLJS2KAL.js','/build/_shared/chunk-R6HNRM76.js','/build/_shared/chunk-J3PUV6G7.js','/build/_shared/chunk-2CUMPA3P.js','/build/_shared/chunk-QGKSSSWD.js'],'hasAction':false,'hasLoader':false,'hasCatchBoundary':false,'hasErrorBoundary':false},'routes/entities/tunes/[slug]/tags':{'id':'routes/entities/tunes/[slug]/tags','parentId':'routes/entities/tunes/[slug]','path':'tags','index':undefined,'caseSensitive':undefined,'module':'/build/routes/entities/tunes/[slug]/tags-2COR3YQF.js','imports':['/build/_shared/chunk-WSE2P2MR.js','/build/_shared/chunk-JDG6WXNN.js','/build/_shared/chunk-5DALBYVT.js','/build/_shared/chunk-ETNNQXWI.js','/build/_shared/chunk-YNOSSSX4.js','/build/_shared/chunk-4ZS4RKQK.js','/build/_shared/chunk-MUPKMBMF.js','/build/_shared/chunk-VBOJUJRE.js','/build/_shared/chunk-BBABTPQA.js','/build/_shared/chunk-NCJMDQTL.js','/build/_shared/chunk-AIAI25GH.js','/build/_shared/chunk-YLJS2KAL.js','/build/_shared/chunk-R6HNRM76.js','/build/_shared/chunk-J3PUV6G7.js','/build/_shared/chunk-2CUMPA3P.js','/build/_shared/chunk-QGKSSSWD.js'],'hasAction':false,'hasLoader':false,'hasCatchBoundary':false,'hasErrorBoundary':false},'routes/entities/tunes/index':{'id':'routes/entities/tunes/index','parentId':'root','path':'entities/tunes','index':true,'caseSensitive':undefined,'module':'/build/routes/entities/tunes/index-XFYVLU2A.js','imports':['/build/_shared/chunk-HRHI5VCY.js','/build/_shared/chunk-ZO5LPNA6.js'],'hasAction':false,'hasLoader':false,'hasCatchBoundary':false,'hasErrorBoundary':false},'routes/index':{'id':'routes/index','parentId':'root','path':undefined,'index':true,'caseSensitive':undefined,'module':'/build/routes/index-4OSMIBN7.js','imports':['/build/_shared/chunk-I3V7J4HZ.js','/build/_shared/chunk-F44BCDAE.js','/build/_shared/chunk-LNL5MASJ.js','/build/_shared/chunk-TURQZNPG.js','/build/_shared/chunk-F73BS3PK.js','/build/_shared/chunk-CPZGTRZW.js','/build/_shared/chunk-HRHI5VCY.js','/build/_shared/chunk-ZO5LPNA6.js'],'hasAction':false,'hasLoader':true,'hasCatchBoundary':false,'hasErrorBoundary':false},'routes/login':{'id':'routes/login','parentId':'root','path':'login','index':undefined,'caseSensitive':undefined,'module':'/build/routes/login-PIV3B63A.js','imports':['/build/_shared/chunk-ZO5LPNA6.js'],'hasAction':false,'hasLoader':false,'hasCatchBoundary':false,'hasErrorBoundary':false},'routes/logout':{'id':'routes/logout','parentId':'root','path':'logout','index':undefined,'caseSensitive':undefined,'module':'/build/routes/logout-RSKHGHIN.js','imports':['/build/_shared/chunk-ZO5LPNA6.js'],'hasAction':false,'hasLoader':false,'hasCatchBoundary':false,'hasErrorBoundary':false},'routes/saved-items':{'id':'routes/saved-items','parentId':'root','path':'saved-items','index':undefined,'caseSensitive':undefined,'module':'/build/routes/saved-items-JYVQER3C.js','imports':['/build/_shared/chunk-F44BCDAE.js','/build/_shared/chunk-LNL5MASJ.js','/build/_shared/chunk-TURQZNPG.js','/build/_shared/chunk-F73BS3PK.js','/build/_shared/chunk-CPZGTRZW.js','/build/_shared/chunk-M3HSCS3E.js','/build/_shared/chunk-HRHI5VCY.js','/build/_shared/chunk-ZO5LPNA6.js'],'hasAction':false,'hasLoader':false,'hasCatchBoundary':false,'hasErrorBoundary':false},'routes/signup':{'id':'routes/signup','parentId':'root','path':'signup','index':undefined,'caseSensitive':undefined,'module':'/build/routes/signup-JGVDQR5E.js','imports':['/build/_shared/chunk-ZO5LPNA6.js'],'hasAction':false,'hasLoader':false,'hasCatchBoundary':false,'hasErrorBoundary':false},'routes/users/[id]':{'id':'routes/users/[id]','parentId':'root','path':'users/id','index':undefined,'caseSensitive':undefined,'module':'/build/routes/users/[id]-EZO255AZ.js','imports':['/build/_shared/chunk-F44BCDAE.js','/build/_shared/chunk-LNL5MASJ.js','/build/_shared/chunk-TURQZNPG.js','/build/_shared/chunk-F73BS3PK.js','/build/_shared/chunk-CPZGTRZW.js','/build/_shared/chunk-NPBM62RR.js','/build/_shared/chunk-HRHI5VCY.js','/build/_shared/chunk-ZO5LPNA6.js'],'hasAction':false,'hasLoader':false,'hasCatchBoundary':false,'hasErrorBoundary':false}},'url':'/build/manifest-1F0A02BA.js'};", "\nimport * as entryServer from \"/Users/dangurney/Desktop/Dev/trad-archive/remix/app/entry.server.tsx\";\nimport * as route0 from \"/Users/dangurney/Desktop/Dev/trad-archive/remix/app/root.tsx\";\nimport * as route1 from \"/Users/dangurney/Desktop/Dev/trad-archive/remix/app/routes/account/submissions/[id]/upload.tsx\";\nimport * as route2 from \"/Users/dangurney/Desktop/Dev/trad-archive/remix/app/routes/admin/verification-requests.tsx\";\nimport * as route3 from \"/Users/dangurney/Desktop/Dev/trad-archive/remix/app/routes/entities/audio-items/[slug].tsx\";\nimport * as route4 from \"/Users/dangurney/Desktop/Dev/trad-archive/remix/app/routes/entities/audio-items/[slug]/about.tsx\";\nimport * as route5 from \"/Users/dangurney/Desktop/Dev/trad-archive/remix/app/routes/entities/audio-items/[slug]/edit.tsx\";\nimport * as route6 from \"/Users/dangurney/Desktop/Dev/trad-archive/remix/app/routes/entities/audio-items/[slug]/tags.tsx\";\nimport * as route7 from \"/Users/dangurney/Desktop/Dev/trad-archive/remix/app/routes/entities/audio-items/random.tsx\";\nimport * as route8 from \"/Users/dangurney/Desktop/Dev/trad-archive/remix/app/routes/entities/collections/[slug].tsx\";\nimport * as route9 from \"/Users/dangurney/Desktop/Dev/trad-archive/remix/app/routes/entities/collections/[slug]/about.tsx\";\nimport * as route10 from \"/Users/dangurney/Desktop/Dev/trad-archive/remix/app/routes/entities/collections/[slug]/edit.tsx\";\nimport * as route11 from \"/Users/dangurney/Desktop/Dev/trad-archive/remix/app/routes/entities/collections/[slug]/tags.tsx\";\nimport * as route12 from \"/Users/dangurney/Desktop/Dev/trad-archive/remix/app/routes/entities/instruments/[slug].tsx\";\nimport * as route13 from \"/Users/dangurney/Desktop/Dev/trad-archive/remix/app/routes/entities/instruments/[slug]/about.tsx\";\nimport * as route14 from \"/Users/dangurney/Desktop/Dev/trad-archive/remix/app/routes/entities/instruments/[slug]/edit.tsx\";\nimport * as route15 from \"/Users/dangurney/Desktop/Dev/trad-archive/remix/app/routes/entities/instruments/[slug]/tags.tsx\";\nimport * as route16 from \"/Users/dangurney/Desktop/Dev/trad-archive/remix/app/routes/entities/audio-items/index.tsx\";\nimport * as route17 from \"/Users/dangurney/Desktop/Dev/trad-archive/remix/app/routes/entities/collections/index.tsx\";\nimport * as route18 from \"/Users/dangurney/Desktop/Dev/trad-archive/remix/app/routes/entities/instruments/index.tsx\";\nimport * as route19 from \"/Users/dangurney/Desktop/Dev/trad-archive/remix/app/routes/account/submissions/index.tsx\";\nimport * as route20 from \"/Users/dangurney/Desktop/Dev/trad-archive/remix/app/routes/entities/audio-items/new.tsx\";\nimport * as route21 from \"/Users/dangurney/Desktop/Dev/trad-archive/remix/app/routes/entities/collections/new.tsx\";\nimport * as route22 from \"/Users/dangurney/Desktop/Dev/trad-archive/remix/app/routes/entities/instruments/new.tsx\";\nimport * as route23 from \"/Users/dangurney/Desktop/Dev/trad-archive/remix/app/routes/account/submissions/new.tsx\";\nimport * as route24 from \"/Users/dangurney/Desktop/Dev/trad-archive/remix/app/routes/admin/submissions/index.tsx\";\nimport * as route25 from \"/Users/dangurney/Desktop/Dev/trad-archive/remix/app/routes/admin/takedown-requests.tsx\";\nimport * as route26 from \"/Users/dangurney/Desktop/Dev/trad-archive/remix/app/routes/admin/submissions/[id].tsx\";\nimport * as route27 from \"/Users/dangurney/Desktop/Dev/trad-archive/remix/app/routes/entities/places/[slug].tsx\";\nimport * as route28 from \"/Users/dangurney/Desktop/Dev/trad-archive/remix/app/routes/entities/places/[slug]/about.tsx\";\nimport * as route29 from \"/Users/dangurney/Desktop/Dev/trad-archive/remix/app/routes/entities/places/[slug]/edit.tsx\";\nimport * as route30 from \"/Users/dangurney/Desktop/Dev/trad-archive/remix/app/routes/entities/places/[slug]/tags.tsx\";\nimport * as route31 from \"/Users/dangurney/Desktop/Dev/trad-archive/remix/app/routes/entities/people/$slug.tsx\";\nimport * as route32 from \"/Users/dangurney/Desktop/Dev/trad-archive/remix/app/routes/entities/people/$slug/about.tsx\";\nimport * as route33 from \"/Users/dangurney/Desktop/Dev/trad-archive/remix/app/routes/entities/people/$slug/edit.tsx\";\nimport * as route34 from \"/Users/dangurney/Desktop/Dev/trad-archive/remix/app/routes/entities/people/$slug/tags.tsx\";\nimport * as route35 from \"/Users/dangurney/Desktop/Dev/trad-archive/remix/app/routes/entities/people/index.tsx\";\nimport * as route36 from \"/Users/dangurney/Desktop/Dev/trad-archive/remix/app/routes/entities/places/index.tsx\";\nimport * as route37 from \"/Users/dangurney/Desktop/Dev/trad-archive/remix/app/routes/entities/tunes/[slug].tsx\";\nimport * as route38 from \"/Users/dangurney/Desktop/Dev/trad-archive/remix/app/routes/entities/tunes/[slug]/about.tsx\";\nimport * as route39 from \"/Users/dangurney/Desktop/Dev/trad-archive/remix/app/routes/entities/tunes/[slug]/tags.tsx\";\nimport * as route40 from \"/Users/dangurney/Desktop/Dev/trad-archive/remix/app/routes/entities/tunes/index.tsx\";\nimport * as route41 from \"/Users/dangurney/Desktop/Dev/trad-archive/remix/app/routes/entities/people/new.tsx\";\nimport * as route42 from \"/Users/dangurney/Desktop/Dev/trad-archive/remix/app/routes/entities/places/new.tsx\";\nimport * as route43 from \"/Users/dangurney/Desktop/Dev/trad-archive/remix/app/routes/account/verify.tsx\";\nimport * as route44 from \"/Users/dangurney/Desktop/Dev/trad-archive/remix/app/routes/account/index.tsx\";\nimport * as route45 from \"/Users/dangurney/Desktop/Dev/trad-archive/remix/app/routes/admin/index.tsx\";\nimport * as route46 from \"/Users/dangurney/Desktop/Dev/trad-archive/remix/app/routes/saved-items.tsx\";\nimport * as route47 from \"/Users/dangurney/Desktop/Dev/trad-archive/remix/app/routes/auto-login.tsx\";\nimport * as route48 from \"/Users/dangurney/Desktop/Dev/trad-archive/remix/app/routes/users/[id].tsx\";\nimport * as route49 from \"/Users/dangurney/Desktop/Dev/trad-archive/remix/app/routes/logout.tsx\";\nimport * as route50 from \"/Users/dangurney/Desktop/Dev/trad-archive/remix/app/routes/signup.tsx\";\nimport * as route51 from \"/Users/dangurney/Desktop/Dev/trad-archive/remix/app/routes/index.tsx\";\nimport * as route52 from \"/Users/dangurney/Desktop/Dev/trad-archive/remix/app/routes/login.tsx\";\n  export { default as assets } from \"@remix-run/dev/assets-manifest\";\n  export const entry = { module: entryServer };\n  export const routes = {\n    \"root\": {\n      id: \"root\",\n      parentId: undefined,\n      path: \"\",\n      index: undefined,\n      caseSensitive: undefined,\n      module: route0\n    },\n  \"routes/account/submissions/[id]/upload\": {\n      id: \"routes/account/submissions/[id]/upload\",\n      parentId: \"root\",\n      path: \"account/submissions/id/upload\",\n      index: undefined,\n      caseSensitive: undefined,\n      module: route1\n    },\n  \"routes/admin/verification-requests\": {\n      id: \"routes/admin/verification-requests\",\n      parentId: \"root\",\n      path: \"admin/verification-requests\",\n      index: undefined,\n      caseSensitive: undefined,\n      module: route2\n    },\n  \"routes/entities/audio-items/[slug]\": {\n      id: \"routes/entities/audio-items/[slug]\",\n      parentId: \"root\",\n      path: \"entities/audio-items/slug\",\n      index: undefined,\n      caseSensitive: undefined,\n      module: route3\n    },\n  \"routes/entities/audio-items/[slug]/about\": {\n      id: \"routes/entities/audio-items/[slug]/about\",\n      parentId: \"routes/entities/audio-items/[slug]\",\n      path: \"about\",\n      index: undefined,\n      caseSensitive: undefined,\n      module: route4\n    },\n  \"routes/entities/audio-items/[slug]/edit\": {\n      id: \"routes/entities/audio-items/[slug]/edit\",\n      parentId: \"routes/entities/audio-items/[slug]\",\n      path: \"edit\",\n      index: undefined,\n      caseSensitive: undefined,\n      module: route5\n    },\n  \"routes/entities/audio-items/[slug]/tags\": {\n      id: \"routes/entities/audio-items/[slug]/tags\",\n      parentId: \"routes/entities/audio-items/[slug]\",\n      path: \"tags\",\n      index: undefined,\n      caseSensitive: undefined,\n      module: route6\n    },\n  \"routes/entities/audio-items/random\": {\n      id: \"routes/entities/audio-items/random\",\n      parentId: \"root\",\n      path: \"entities/audio-items/random\",\n      index: undefined,\n      caseSensitive: undefined,\n      module: route7\n    },\n  \"routes/entities/collections/[slug]\": {\n      id: \"routes/entities/collections/[slug]\",\n      parentId: \"root\",\n      path: \"entities/collections/slug\",\n      index: undefined,\n      caseSensitive: undefined,\n      module: route8\n    },\n  \"routes/entities/collections/[slug]/about\": {\n      id: \"routes/entities/collections/[slug]/about\",\n      parentId: \"routes/entities/collections/[slug]\",\n      path: \"about\",\n      index: undefined,\n      caseSensitive: undefined,\n      module: route9\n    },\n  \"routes/entities/collections/[slug]/edit\": {\n      id: \"routes/entities/collections/[slug]/edit\",\n      parentId: \"routes/entities/collections/[slug]\",\n      path: \"edit\",\n      index: undefined,\n      caseSensitive: undefined,\n      module: route10\n    },\n  \"routes/entities/collections/[slug]/tags\": {\n      id: \"routes/entities/collections/[slug]/tags\",\n      parentId: \"routes/entities/collections/[slug]\",\n      path: \"tags\",\n      index: undefined,\n      caseSensitive: undefined,\n      module: route11\n    },\n  \"routes/entities/instruments/[slug]\": {\n      id: \"routes/entities/instruments/[slug]\",\n      parentId: \"root\",\n      path: \"entities/instruments/slug\",\n      index: undefined,\n      caseSensitive: undefined,\n      module: route12\n    },\n  \"routes/entities/instruments/[slug]/about\": {\n      id: \"routes/entities/instruments/[slug]/about\",\n      parentId: \"routes/entities/instruments/[slug]\",\n      path: \"about\",\n      index: undefined,\n      caseSensitive: undefined,\n      module: route13\n    },\n  \"routes/entities/instruments/[slug]/edit\": {\n      id: \"routes/entities/instruments/[slug]/edit\",\n      parentId: \"routes/entities/instruments/[slug]\",\n      path: \"edit\",\n      index: undefined,\n      caseSensitive: undefined,\n      module: route14\n    },\n  \"routes/entities/instruments/[slug]/tags\": {\n      id: \"routes/entities/instruments/[slug]/tags\",\n      parentId: \"routes/entities/instruments/[slug]\",\n      path: \"tags\",\n      index: undefined,\n      caseSensitive: undefined,\n      module: route15\n    },\n  \"routes/entities/audio-items/index\": {\n      id: \"routes/entities/audio-items/index\",\n      parentId: \"root\",\n      path: \"entities/audio-items\",\n      index: true,\n      caseSensitive: undefined,\n      module: route16\n    },\n  \"routes/entities/collections/index\": {\n      id: \"routes/entities/collections/index\",\n      parentId: \"root\",\n      path: \"entities/collections\",\n      index: true,\n      caseSensitive: undefined,\n      module: route17\n    },\n  \"routes/entities/instruments/index\": {\n      id: \"routes/entities/instruments/index\",\n      parentId: \"root\",\n      path: \"entities/instruments\",\n      index: true,\n      caseSensitive: undefined,\n      module: route18\n    },\n  \"routes/account/submissions/index\": {\n      id: \"routes/account/submissions/index\",\n      parentId: \"root\",\n      path: \"account/submissions\",\n      index: true,\n      caseSensitive: undefined,\n      module: route19\n    },\n  \"routes/entities/audio-items/new\": {\n      id: \"routes/entities/audio-items/new\",\n      parentId: \"root\",\n      path: \"entities/audio-items/new\",\n      index: undefined,\n      caseSensitive: undefined,\n      module: route20\n    },\n  \"routes/entities/collections/new\": {\n      id: \"routes/entities/collections/new\",\n      parentId: \"root\",\n      path: \"entities/collections/new\",\n      index: undefined,\n      caseSensitive: undefined,\n      module: route21\n    },\n  \"routes/entities/instruments/new\": {\n      id: \"routes/entities/instruments/new\",\n      parentId: \"root\",\n      path: \"entities/instruments/new\",\n      index: undefined,\n      caseSensitive: undefined,\n      module: route22\n    },\n  \"routes/account/submissions/new\": {\n      id: \"routes/account/submissions/new\",\n      parentId: \"root\",\n      path: \"account/submissions/new\",\n      index: undefined,\n      caseSensitive: undefined,\n      module: route23\n    },\n  \"routes/admin/submissions/index\": {\n      id: \"routes/admin/submissions/index\",\n      parentId: \"root\",\n      path: \"admin/submissions\",\n      index: true,\n      caseSensitive: undefined,\n      module: route24\n    },\n  \"routes/admin/takedown-requests\": {\n      id: \"routes/admin/takedown-requests\",\n      parentId: \"root\",\n      path: \"admin/takedown-requests\",\n      index: undefined,\n      caseSensitive: undefined,\n      module: route25\n    },\n  \"routes/admin/submissions/[id]\": {\n      id: \"routes/admin/submissions/[id]\",\n      parentId: \"root\",\n      path: \"admin/submissions/id\",\n      index: undefined,\n      caseSensitive: undefined,\n      module: route26\n    },\n  \"routes/entities/places/[slug]\": {\n      id: \"routes/entities/places/[slug]\",\n      parentId: \"root\",\n      path: \"entities/places/slug\",\n      index: undefined,\n      caseSensitive: undefined,\n      module: route27\n    },\n  \"routes/entities/places/[slug]/about\": {\n      id: \"routes/entities/places/[slug]/about\",\n      parentId: \"routes/entities/places/[slug]\",\n      path: \"about\",\n      index: undefined,\n      caseSensitive: undefined,\n      module: route28\n    },\n  \"routes/entities/places/[slug]/edit\": {\n      id: \"routes/entities/places/[slug]/edit\",\n      parentId: \"routes/entities/places/[slug]\",\n      path: \"edit\",\n      index: undefined,\n      caseSensitive: undefined,\n      module: route29\n    },\n  \"routes/entities/places/[slug]/tags\": {\n      id: \"routes/entities/places/[slug]/tags\",\n      parentId: \"routes/entities/places/[slug]\",\n      path: \"tags\",\n      index: undefined,\n      caseSensitive: undefined,\n      module: route30\n    },\n  \"routes/entities/people/$slug\": {\n      id: \"routes/entities/people/$slug\",\n      parentId: \"root\",\n      path: \"entities/people/:slug\",\n      index: undefined,\n      caseSensitive: undefined,\n      module: route31\n    },\n  \"routes/entities/people/$slug/about\": {\n      id: \"routes/entities/people/$slug/about\",\n      parentId: \"routes/entities/people/$slug\",\n      path: \"about\",\n      index: undefined,\n      caseSensitive: undefined,\n      module: route32\n    },\n  \"routes/entities/people/$slug/edit\": {\n      id: \"routes/entities/people/$slug/edit\",\n      parentId: \"routes/entities/people/$slug\",\n      path: \"edit\",\n      index: undefined,\n      caseSensitive: undefined,\n      module: route33\n    },\n  \"routes/entities/people/$slug/tags\": {\n      id: \"routes/entities/people/$slug/tags\",\n      parentId: \"routes/entities/people/$slug\",\n      path: \"tags\",\n      index: undefined,\n      caseSensitive: undefined,\n      module: route34\n    },\n  \"routes/entities/people/index\": {\n      id: \"routes/entities/people/index\",\n      parentId: \"root\",\n      path: \"entities/people\",\n      index: true,\n      caseSensitive: undefined,\n      module: route35\n    },\n  \"routes/entities/places/index\": {\n      id: \"routes/entities/places/index\",\n      parentId: \"root\",\n      path: \"entities/places\",\n      index: true,\n      caseSensitive: undefined,\n      module: route36\n    },\n  \"routes/entities/tunes/[slug]\": {\n      id: \"routes/entities/tunes/[slug]\",\n      parentId: \"root\",\n      path: \"entities/tunes/slug\",\n      index: undefined,\n      caseSensitive: undefined,\n      module: route37\n    },\n  \"routes/entities/tunes/[slug]/about\": {\n      id: \"routes/entities/tunes/[slug]/about\",\n      parentId: \"routes/entities/tunes/[slug]\",\n      path: \"about\",\n      index: undefined,\n      caseSensitive: undefined,\n      module: route38\n    },\n  \"routes/entities/tunes/[slug]/tags\": {\n      id: \"routes/entities/tunes/[slug]/tags\",\n      parentId: \"routes/entities/tunes/[slug]\",\n      path: \"tags\",\n      index: undefined,\n      caseSensitive: undefined,\n      module: route39\n    },\n  \"routes/entities/tunes/index\": {\n      id: \"routes/entities/tunes/index\",\n      parentId: \"root\",\n      path: \"entities/tunes\",\n      index: true,\n      caseSensitive: undefined,\n      module: route40\n    },\n  \"routes/entities/people/new\": {\n      id: \"routes/entities/people/new\",\n      parentId: \"root\",\n      path: \"entities/people/new\",\n      index: undefined,\n      caseSensitive: undefined,\n      module: route41\n    },\n  \"routes/entities/places/new\": {\n      id: \"routes/entities/places/new\",\n      parentId: \"root\",\n      path: \"entities/places/new\",\n      index: undefined,\n      caseSensitive: undefined,\n      module: route42\n    },\n  \"routes/account/verify\": {\n      id: \"routes/account/verify\",\n      parentId: \"root\",\n      path: \"account/verify\",\n      index: undefined,\n      caseSensitive: undefined,\n      module: route43\n    },\n  \"routes/account/index\": {\n      id: \"routes/account/index\",\n      parentId: \"root\",\n      path: \"account\",\n      index: true,\n      caseSensitive: undefined,\n      module: route44\n    },\n  \"routes/admin/index\": {\n      id: \"routes/admin/index\",\n      parentId: \"root\",\n      path: \"admin\",\n      index: true,\n      caseSensitive: undefined,\n      module: route45\n    },\n  \"routes/saved-items\": {\n      id: \"routes/saved-items\",\n      parentId: \"root\",\n      path: \"saved-items\",\n      index: undefined,\n      caseSensitive: undefined,\n      module: route46\n    },\n  \"routes/auto-login\": {\n      id: \"routes/auto-login\",\n      parentId: \"root\",\n      path: \"auto-login\",\n      index: undefined,\n      caseSensitive: undefined,\n      module: route47\n    },\n  \"routes/users/[id]\": {\n      id: \"routes/users/[id]\",\n      parentId: \"root\",\n      path: \"users/id\",\n      index: undefined,\n      caseSensitive: undefined,\n      module: route48\n    },\n  \"routes/logout\": {\n      id: \"routes/logout\",\n      parentId: \"root\",\n      path: \"logout\",\n      index: undefined,\n      caseSensitive: undefined,\n      module: route49\n    },\n  \"routes/signup\": {\n      id: \"routes/signup\",\n      parentId: \"root\",\n      path: \"signup\",\n      index: undefined,\n      caseSensitive: undefined,\n      module: route50\n    },\n  \"routes/index\": {\n      id: \"routes/index\",\n      parentId: \"root\",\n      path: undefined,\n      index: true,\n      caseSensitive: undefined,\n      module: route51\n    },\n  \"routes/login\": {\n      id: \"routes/login\",\n      parentId: \"root\",\n      path: \"login\",\n      index: undefined,\n      caseSensitive: undefined,\n      module: route52\n    }\n  };"],
  "mappings": "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",
  "names": []
}
